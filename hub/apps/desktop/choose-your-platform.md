---
Description: Если вы хотите создать новое классическое приложение, первым решением будет использование Win32 и COM API или .NET.
ms.assetid: 82705644-F1F0-40F3-99B1-7A97BFB32831
title: Выбор платформы для приложения
ms.topic: article
ms.date: 03/18/2019
ms.author: mcleans
author: mcleanbyron
ms.localizationpriority: medium
ms.openlocfilehash: ff32e20c42f613bd9ac3dba9eada2cced0baa64c
ms.sourcegitcommit: f34deba1d4460d85ed08fe9648999fe03ff6a3dd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/26/2019
ms.locfileid: "71316992"
---
# <a name="choose-your-app-platform"></a>Выбор платформы для приложения

Если вы хотите создать новое классическое приложение для компьютеров под управлением Windows, сначала нужно принять решение о том, какая платформа приложений будет использоваться. Windows предоставляет четыре основных платформы приложений, каждая из которых имеет разные сильные стороны:

* [Универсальная платформа Windows (UWP)](#uwp)
* [WPF (.NET)](#wpf)
* [Windows Forms (.NET)](#windows-forms)
* [Платформа](#win32)

Все эти платформы приложений позволяют создавать настольные приложения, такие как Word, Excel и Photoshop, которые работают в классическом рабочем столе Windows и пользуются всеми преимуществами конкретных функций среды. Однако некоторые из этих платформ обладают некоторыми характеристиками и лучше подходят для некоторых типов приложений:

* **UWP, WPF и Windows Forms**. Эти платформы предоставляют управляемые среды выполнения (среда выполнения Windows для UWP и .NET для Windows Forms и WPF) с множеством преимуществ, особенно в областях производительности разработчика, сложного и настраиваемого пользовательского интерфейса и безопасности приложений. Поскольку эти платформы поддерживают визуальные конструкторы и разметку пользовательского интерфейса для быстрого создания пользовательского интерфейса, они особенно хорошо подходят для бизнес-приложений.

* **API Win32**. API Win32 (также называемый Windows API) — это исходная платформа для собственных приложений CC++ /Windows, которым требуется прямой доступ к Windows и оборудованию. Он предоставляет возможности разработки первого класса, не зависящие от управляемой среды выполнения, такой как .NET и WinRT. Благодаря этому API Win32 выбирает платформу для приложений, которым требуется самый высокий уровень производительности и прямой доступ к системному оборудованию.

В этой статье более подробно описаны эти платформы, а также рекомендации по определению наиболее подходящего приложения. 

> [!NOTE]
> Независимо от выбранной платформы приложений вы можете использовать множество функций универсальная платформа Windows (UWP), чтобы обеспечить современные возможности в приложении в Windows 10. Например, даже если классическое приложение создано с помощью WPF, Windows Forms или API Win32, вы по-прежнему можете использовать многие функции, впервые представленные в UWP, такие как развертывание пакетов MSIX и элементы управления XAML UWP. Дополнительные сведения см. [в статье модернизироватьing a Desktop Apps](modernize/index.md).

## <a name="uwp"></a>UWP

UWP — это начальная платформа для приложений и игр Windows 10. Это очень настраиваемая платформа, которая использует разметку XAML для разделения UX (представления) от кода (бизнес-логики). UWP подходит для настольных приложений, для которых требуется расширенный пользовательский интерфейс, Настройка стилей и сценарии с большим объемом графики. UWP также имеет встроенную поддержку [системы разработки Fluent](/windows/uwp/design/fluent-design-system/) по умолчанию для интерфейса UX и предоставляет доступ к [интерфейсам API Среда выполнения Windows (WinRT)](/windows/uwp/get-started/universal-application-platform-guide#how-the-universal-windows-platform-relates-to-windows-runtime-apis). Используя Fluent, UWP автоматически поддерживает стандартные методы ввода, такие как рукописный ввод, сенсорный ввод, игровой планшет, клавиатура и мышь.

Вы не только можете использовать UWP для создания настольных приложений для компьютеров под управлением Windows, но UWP также является единственной поддерживаемой платформой для приложений Xbox, HoloLens и Surface Hub. UWP — это новейшая, ведущая платформа приложений.

Дополнительные сведения о платформе UWP см. в статье Начало [работы с приложениями Windows 10](/windows/uwp/get-started/).

## <a name="wpf"></a>WPF

WPF — это установленная платформа для управляемых приложений Windows с доступом к полной .NET Framework, а также использует разметку XAML для разделения UX из кода. Эта платформа предназначена для настольных приложений, для которых требуется расширенный пользовательский интерфейс, Настройка стилей и сценарии с большим объемом графики. Навыки разработки WPF похожи на навыки разработки UWP, поэтому перенос из WPF в приложения UWP проще, чем миграция с Windows Forms.

Дополнительные сведения о WPF см. в разделе [Приступая к работе (WPF)](https://docs.microsoft.com/dotnet/framework/wpf/getting-started/).

## <a name="windows-forms"></a>Windows Forms

Windows Forms — это исходная платформа для управляемых приложений Windows с упрощенной моделью пользовательского интерфейса и доступом к полной .NET Framework. Он предназначен, чтобы разработчики могли быстро приступить к созданию приложений, даже для разработчиков, начинающихся с платформы. Это платформа быстрой разработки приложений на основе форм с большой встроенной коллекцией визуальных и невизуальных элементов управления, поддерживающих перетаскивание. Windows Forms не использует XAML, поэтому при принятии решения о расширении приложения в UWP будет выполнена полная повторная запись пользовательского интерфейса.

Дополнительные сведения о Windows Forms см. в статье [Приступая к работе с Windows Forms](https://docs.microsoft.com/dotnet/framework/winforms/getting-started-with-windows-forms).

## <a name="platform-comparison-uwp-wpf-and-windows-forms"></a>Сравнение платформ: UWP, WPF и Windows Forms

В следующей таблице подробно сравниваются различные характеристики Windows Forms, WPF и UWP.

| Возможность или сценарий  |    UWP     |      WPF     |   Windows Forms  |
|--------|--------|--------|--------|
| **Поддерживаемые версии**      |  Windows 10   |  Windows 7 и более поздние версии |  Windows 7 и более поздние версии  |
| **Языки**      |   C\#, C++/WinRT, C++/CX, VB, JavaScript   |  C\#, C++/CLI (управляемые расширения для C++), F\#, VB |  C\#, C++/CLI (управляемые расширения для C++), F\#, VB   |
| **Среда выполнения пользовательского интерфейса** |    Native (C++/WinRT и C++/CX) и Managed (.NET Native)  |  Управляемый (.NET Framework и .NET Core 3) |   Управляемый (.NET Framework и .NET Core 3)   |
| **Открытый исходный код** | [Да (только в библиотеке пользовательского интерфейса Windows)](https://github.com/Microsoft/microsoft-ui-xaml)  |  [Да (только .NET Core)](https://github.com/dotnet/wpf) | [Да (только .NET Core)](https://github.com/dotnet/winforms)  |
| **Поддерживает XAML** |   Да   |  Да  |   Нет   |
| **Излом**  |  <ul><li>Разметка XAML для пользовательского интерфейса</li><li>Многофункциональный и настраиваемый UX</li><li>Существующие базы кода .NET Standard соответствуют требованиям</li><li>Поддержка высокого разрешения</li><li>Поддержка нескольких типов входных данных на устройствах Windows (включая касание, перо, игровой планшет, мышь и клавиатуру)</li><li>Поддержка Xbox, HoloLens, IoT или Surface Hub</li><li>Поддержка машинного кодаC++</li><li>Время оптимизации работы батареи</li><li>Современная поддержка специальных возможностей (например, средства чтения с экрана)</li><li>Возможности работы с данными в расширенном тексте (например, встроенная проверка орфографии)</li><li>Поддержка рукописного ввода</li><li>Безопасное выполнение через контейнеры приложений (например, ненадежное содержимое является изолированным)</li></ul>  |  <ul><li>Разметка XAML для пользовательского интерфейса</li><li>Многофункциональный и настраиваемый UX</li><li>Большая коллекция элементов управления от корпорации Майкрософт и ее партнеров</li><li>Сжатый пользовательский интерфейс</li><li>Поддержка Windows 7</li><li>Поддержка платформ для проверки входных данных</li></ul> | <ul><li>Быстрая разработка приложений</li><li>Редактор WYSIWYG для создания пользовательского интерфейса</li><li>Большая коллекция элементов управления от корпорации Майкрософт и ее партнеров</li><li>Сжатый пользовательский интерфейс</li><li>Поддержка Windows 7</li><li>Ввод с клавиатуры и мыши</li></ul>          |
| **Сценарии с ограниченной поддержкой** |  <ul><li>Сжатый пользовательский интерфейс (для создания плотного пользовательского интерфейса требуются пользовательские стили)<sup>1</sup></li><li>Поддержка нескольких окон<sup>1</sup></li><li>Поддержка платформы для проверки входных данных<sup>1</sup></li><li>Windows 7 не поддерживается</li><li>Некоторые API-интерфейсы UWP нуждаются в определенных минимальных версиях Windows 10</li><li>Полная поддержка платформ и интеграция оболочки (например, UWP сейчас не поддерживает интеграцию с областью уведомлений или полный доступ ко всем устройствам).</li><li>Прямой доступ ко всем файлам на диске</li><li>ADO.NET</li><li>Существующие библиотеки базового класса кода, использующие API-интерфейсы non-.NET Standard или сторонних производителей, совместимые с набором сертификации</li><li>Поддержка замыкания на себя локальной сети (т. е. Если приложению требуется связь с localhost без создания исключения замыкания на себя на целевом устройстве);</li><li>Ресурсоемкий файловый ввод-вывод</li></ul>     |  <ul><li>Поддержка высокого разрешения<sup>2</sup></li><li>Сенсорный ввод<sup>2</sup></li></ul>  |  <ul><li>Поддержка высокого разрешения<sup>2</sup></li><li>Сенсорный ввод<sup>2</sup></li><li>Настраиваемый пользовательский интерфейс</li><li>Широкие возможности работы с графикой и пользователями (например, сенсорный ввод и анимация)</li><li>Расширенная абстракция представлений и моделей данных</li></ul>    |   |

<sup>1</sup> мы представили общедоступные функции, которые будут решать этот сценарий в будущем выпуске Windows 10.

<sup>2</sup> хотя у платформы отсутствует поддержка API первого класса для этого сценария, разработчики могут поддерживать этот сценарий с обходными способами.

## <a name="win32"></a>Win32

Использование API Win32 с C++ целью позволяет достичь наивысшего уровня производительности и эффективности благодаря повышению контроля над целевой платформой с помощью неуправляемого кода, чем возможно в управляемой среде выполнения, такой как WinRT и .NET. Однако, используя такой уровень контроля над выполнением приложения, необходимо уделять больше внимания и привлечь внимание к повышению производительности во время выполнения.

Вот несколько основных особенностей интерфейса API Win32 и C++ предложений, позволяющих создавать высокопроизводительные приложения.

-   Оптимизация на уровне оборудования, включая тщательный контроль за выделением ресурсов, время существования объектов, компоновку данных, выравнивание, байтовую упаковку и многое другое.
-   Доступ к наборам инструкций, ориентированным на производительность, например SSE и AVX, с помощью встроенных функций.
-   Эффективное и строго типизированное универсальное программирование с помощью шаблонов.
-   Эффективные и надежные контейнеры и алгоритмы.
-   DirectX, в частности Direct3D и DirectCompute (Обратите внимание, что UWP также предлагает совместимость с DirectX).
-   C++ОГРАНИЧЕН.

Дополнительные сведения см. [в статье Приступая к работе с приложениями Windows для настольных компьютеров, использующими технологии API Win32](/windows/desktop/desktop-programming) и [классических приложений](/windows/desktop/desktop-app-technologies).

### <a name="win32-and-c-for-traditional-desktop-applications"></a>Win32 и C++ для традиционных классических приложений

При написании классического приложения C++в можно выбрать Win32 или MFC для пользовательского интерфейса или узел сторонних платформ приложений, которые также поддерживают платформы, отличные от Windows.

-   **Платформа** Это API-интерфейс на основе маркеров на языке C платформы Windows, включая, помимо прочего, функции пользовательского интерфейса, такие как оконные, графические и пользовательские элементы управления. Поскольку это интерфейс API с низким уровнем, основанный на дескрипторах, он редко используется для создания современных приложений, интенсивно использующих пользовательский интерфейс. Однако он предоставляет базовые API, необходимые для взаимодействия с платформой Windows, и подходит для приложений, которые имеют простые требования к пользовательскому интерфейсу или хотят, чтобы пользовательский интерфейс Windows не превышал максимально возможного размера, например игр.
-   **MFC (библиотека Microsoft Foundation Class):** Это платформа приложений почтенный и библиотека пользовательского интерфейса, которые были обслужены разработчиками Windows с 1992. Это тонкая C++ оболочка для API-интерфейса Win32 на основе маркеров и предоставляет объектно-ориентированные интерфейсы для многих предопределенных окон, стандартных элементов управления и других объектов Windows. Несмотря на то, что многие современные платформы пользовательского интерфейса в экосистеме .NET препревосходят MFC в удобство, она по-прежнему является собственной C++ ПЛАТФОРМОЙ пользовательского интерфейса для многих разработчиков, создающих приложения для настольных систем Windows.
-   **Сторонние платформы приложений:** Поскольку C++ может работать на самых разных платформах и не привязаны к Windows или среде выполнения .NET, сторонние разработчики разработали новые платформы приложений и интерфейсов для C++ упрощения разработки кросс-платформенных приложений с богатыми пользовательскими интерфейсами. Некоторые из этих платформ предоставляют собственный вид &, а другие, такие как Вксвиджетс или Qt, используют или имитируют собственный набор элементов управления платформы. Используя эти библиотеки, можно совместно использовать практически весь исходный код приложения между версиями приложения, которые работают в Windows или на других платформах, таких как OSX или Linux.

## <a name="other-app-platforms"></a>Другие платформы приложений

### <a name="progressive-web-apps-pwas"></a>Прогрессивные веб-приложения (Пвас)

Пвас позволяют разработчикам упаковать свой код веб-сайта, чтобы его можно было установить и запустить как приложение на компьютерах с Windows 10. Дополнительные сведения см. в разделе [прогрессивные веб-приложения](https://docs.microsoft.com/microsoft-edge/progressive-web-apps/get-started).

### <a name="xamarin"></a>Xamarin

Используйте Xamarin для создания кросс-платформенных приложений для Windows 10, которые также могут работать в iOS и Android. Дополнительные сведения см. в статье о [Xamarin](https://docs.microsoft.com/xamarin/xamarin-forms/get-started/index).
