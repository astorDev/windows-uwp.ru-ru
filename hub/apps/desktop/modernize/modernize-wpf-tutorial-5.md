---
description: Этот учебник демонстрирует добавление пользовательских интерфейсах XAML UWP, создание MSIX пакеты и другие современные компоненты включить в приложении WPF.
title: Упаковка и развертывание с помощью MSIX
ms.topic: article
ms.date: 06/27/2019
ms.author: mcleans
author: mcleanbyron
keywords: Windows 10, универсальной платформы Windows, windows forms, wpf, о-ва xaml
ms.localizationpriority: medium
ms.custom: RS5, 19H1
ms.openlocfilehash: d11ef296b690297d33ebd5d366c2594f70b6d10b
ms.sourcegitcommit: 1eec0e4fd8a5ba82803fdce6e23fcd01b9488523
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/27/2019
ms.locfileid: "67420100"
---
# <a name="part-5-package-and-deploy-with-msix"></a>Часть 5. Упаковка и развертывание с помощью MSIX

Это последняя часть в этом учебнике показано, как модернизировать пример классического приложения WPF с именем Contoso расходы. Обзор учебника, предварительные требования и инструкции для загрузки примера приложения, см. в разделе [руководства: Модернизация приложения WPF](modernize-wpf-tutorial.md). В этой статье предполагается, что вы уже выполнили [часть 4](modernize-wpf-tutorial-4.md).

В [часть 4](modernize-wpf-tutorial-4.md) вы узнали, что некоторые интерфейсы API WinRT, включая уведомления, API, требуется идентификатор пакета, прежде чем их можно использовать в приложении. Удостоверение пакета можно получить, упаковав Contoso расходы, используя [MSIX](https://docs.microsoft.com/windows/msix), формат упаковки, представленное в Windows 10 для упаковки и развертывания приложений Windows. MSIX предоставляет преимущества в таблицу, как для разработчиков и ИТ-специалистов, включая:

- Оптимизированы пространство сети использования и хранилища.
- Очистка завершения удаления, благодаря упрощенный контейнер, в которой выполняется приложение. Нет разделов реестра и временные файлы остаются в системе.
- Разделяет обновления операционной системы от обновлений приложения и настроек.
- Упрощает установку, обновление и процесс удаления. 

В этой части руководства вы узнаете, как упаковать приложение Contoso расходы в пакете MSIX.

## <a name="package-the-application"></a>Упаковка приложения

2019 г. Visual Studio предоставляет простой способ для упаковки настольного приложения с помощью проект упаковки приложений Windows. 

1. В **обозревателе решений**, щелкните правой кнопкой мыши **ContosoExpenses** решений и выберите **Добавить -> Новый проект**.

    ![Добавление нового проекта](images/wpf-modernize-tutorial/AddNewProject.png)

3. В **добавьте новый проект** диалоговое окно, и выполните поиск `packaging`, выберите **проект упаковки приложений Windows** шаблона проекта в C# категории и нажмите кнопку **Далее** .

    ![Проект упаковки приложений Windows](images/wpf-modernize-tutorial/WAP.png)

4. Назовите новый проект `ContosoExpenses.Package` и нажмите кнопку **создать**.

5. Выберите **Windows 10, версия 1903 (10.0; Сборка 18362)** для обоих **целевой версии** и **Минимальная версия** и нажмите кнопку **ОК**.

    **ContosoExpenses.Package** проект добавляется **ContosoExpenses** решения. Этот проект включает [манифест пакета](https://docs.microsoft.com/uwp/schemas/appxpackage/uapmanifestschema/schema-root), описывающей приложение и некоторые ресурсы по умолчанию, которые используются для элементов, таких как значок в меню "программы" и на плитке на начальном экране. Тем не менее в отличие от проекта UWP, в проект упаковки не содержит кода. Он предназначен для упаковки существующего классического приложения.

6. В **ContosoExpenses.Package** щелкните правой кнопкой мыши проект **приложений** узел и выберите **добавьте ссылку на**. Этот узел указывает, какие приложения в решении будут включены в пакет.

7. В списке проектов выберите **ContosoExpenses.Core** и нажмите кнопку **ОК**.

8. Разверните **приложений** узла и убедитесь, что **ContosoExpense.Core** ссылки на проект и выделенные жирным шрифтом. Это означает, что он будет использоваться в качестве отправной точки для пакета.

9. Щелкните правой кнопкой мыши **ContosoExpenses.Package** проекта и выберите **Назначить запускаемым проектом**.

10. Нажмите клавишу **F5** для запуска упакованные приложения в отладчике.

На этом этапе можно заметить некоторые изменения, которые указывают, что приложение теперь упакованы, работающие как:

- Значок на панели задач или в меню "Пуск" теперь является ресурс по умолчанию, который включается в каждый **проект упаковки приложений Windows**.
- Если щелкнуть правой кнопкой мыши **ContosoExpense.Package** приложения, указанного в меню "Пуск", вы заметите, параметры, которые обычно зарезервированы для приложений, скачанных из Microsoft Store, таких как **параметры приложения**, **Скорость и просмотрите** и **общего ресурса**.

    ![ContosoExpenses в меню "Пуск"](images/wpf-modernize-tutorial/StartMenu.png)

- Если вы хотите удалить это приложение, можно щелкнуть **ContosoExpense.Package** в меню "Пуск" и выберите **удаления**. Приложения будут немедленно удалены, не выходя из любой наследство в системе.

## <a name="test-the-notification"></a>Проверить уведомление

Теперь, когда у вас есть упакованное приложение Contoso расходы с помощью MSIX, можно проверить сценарии уведомлений, который не работал в конце [часть 4](modernize-wpf-tutorial-4.md).

1. В приложении Contoso расходы, выберите сотрудник из списка и нажмите кнопку **добавить новый расход** кнопки. 
2. Заполните все поля в форме и нажмите клавишу **Сохранить**.
3. Убедитесь, что вы видите уведомление операционной системы.

![Всплывающее уведомление](images/wpf-modernize-tutorial/ToastNotification.png)
