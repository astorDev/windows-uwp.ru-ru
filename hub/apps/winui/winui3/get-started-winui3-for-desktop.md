---
description: В этом руководстве показано, как приступить к созданию классических приложений на .NET и C++/Win32 с помощью пользовательского интерфейса WinUI 3.
title: Начало работы с WinUI 3 для классических приложений
ms.date: 05/19/2020
ms.topic: article
keywords: Windows 10, UWP, Windows Forms, WPF, объекты XAML Island
ms.author: mcleans
author: mcleanbyron
ms.localizationpriority: high
ms.custom: 19H1
ms.openlocfilehash: ab67507153e0ff7065baffa92ea6ec35aee5b132
ms.sourcegitcommit: d0f479f1955881afb62c2af249db5d0b053b63e5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/19/2020
ms.locfileid: "83580771"
---
# <a name="get-started-with-winui-30-for-desktop-apps"></a>Начало работы с WinUI 3.0 для классических приложений

В WinUI 3.0, предварительная версия 1 представлены новые шаблоны проектов, которые позволяют создавать управляемые классические приложения C#/.NET и нативные классические приложения C++/Win32 с помощью пользовательского интерфейса, который полностью основан на WinUI. Когда вы создаете приложения с помощью этих шаблонов проектов, весь пользовательский интерфейс приложения реализуется с использованием окон, элементов управления и других средств пользовательского интерфейса, доступных в WinUI 3.0. 

WinUI 3.0, предварительная версия 1 позволяет добавить в Visual Studio 2019 следующие шаблоны проектов **WinUI для классических приложений**.

* Приложения и библиотеки C# для .NET 5:
  * Blank App, Packaged (WinUI in Desktop) (Пустое, упакованное приложение (WinUI в классических приложениях));
  * Class Library (WinUI in Desktop) (Библиотека классов (WinUI в классических приложениях)).

* Приложения C++/Win32:
  * Blank App, Packaged (WinUI in Desktop) (Пустое, упакованное приложение (WinUI в классических приложениях)).

Шаблоны проектов приложений позволяют создать проект приложения WinUI и [Проект упаковки приложений Windows](https://docs.microsoft.com/windows/msix/desktop/desktop-to-uwp-packaging-dot-net), настроенный для сборки приложения в пакет [MSIX](https://docs.microsoft.com/windows/msix/overview) для развертывания.

## <a name="prerequisites"></a>Предварительные условия

Чтобы использовать шаблоны проектов WinUI 3, описанные в этой статье, для классических приложений, настройте компьютер разработки следующим образом:

1. Убедитесь, что на компьютере разработки установлена ОС Windows 10 версии 1803 (сборка 17134) и выше. Для WinUI 3 для классических приложений требуется ОС версии 1803 и выше.

2. Установите Visual Studio 2019, версия 16.7, предварительная версия 1. Дополнительные сведения см. в [этих инструкциях](index.md#configure-your-dev-environment).

3. Установите .NET 5, предварительная версия 4 для систем x64 и x86 (обе версии):
    * x64 — [https://aka.ms/dotnet/net5/preview4/Sdk/dotnet-sdk-win-x64.exe](https://aka.ms/dotnet/net5/preview4/Sdk/dotnet-sdk-win-x64.exe)
    * x86 — [https://aka.ms/dotnet/net5/preview4/Sdk/dotnet-sdk-win-x86.exe](https://aka.ms/dotnet/net5/preview4/Sdk/dotnet-sdk-win-x86.exe)

4. Установите расширение VSIX, которое содержит шаблоны проектов WinUI 3.0, предварительная версия 1 для Visual Studio 2019. Дополнительные сведения см. в [этих инструкциях](index.md#visual-studio-project-templates).

## <a name="create-a-winui-3-desktop-app-for-c-and-net-5"></a>Создание классического приложения WinUI 3 для C# и .NET 5

1. В Visual Studio 2019 выберите **Файл** -> **Создать** -> **Проект**.

2. В раскрывающихся фильтрах проекта выберите **C#** , **Windows** и **WinUI** соответственно.

3. Выберите тип проекта **Blank App, Packaged (WinUI in Desktop)** (Пустое, упакованное приложение (WinUI для классических приложений)) и нажмите кнопку **Далее**.

    ![Шаблон проекта пустого приложения](images/WinUI-csharp-newproject.png)

4. Введите имя проекта, при необходимости выберите другие параметры, а затем нажмите кнопку **Создать**.

5. В следующем диалоговом окне выберите для параметра **Целевая версия** значение "Windows 10, версия 1903 (сборка 18362)", а для параметра **Минимальная версия** — значение "Windows 10, версия 1803 (сборка 17134)" и нажмите кнопку **ОК**.

    ![Целевая и минимальная версии](images/WinUI-min-target-version.png)

6. На этом этапе Visual Studio создаст два проекта:

    * ***Project name* (Desktop)** (Имя проекта (классическое приложение)). Этот проект содержит код приложения. В файле кода **App.xaml.cs** определен класс `Application`, который представляет экземпляр приложения, а в файле кода **MainWindow.xaml.cs** определен класс `MainWindow`, который представляет главное окно, отображаемое приложением. Эти классы являются производными от типов в пространстве имен **Microsoft.UI.Xaml**, который предоставляет WinUI.

        ![Проект приложения](images/WinUI-csharp-appproject.png)

    * ***Project name* (Package)** (Имя проекта (пакет)). Это [Проект упаковки приложений Windows](https://docs.microsoft.com/windows/msix/desktop/desktop-to-uwp-packaging-dot-net), который настроен для сборки приложения в пакет MSIX для развертывания. Этот проект содержит [манифест пакета](https://docs.microsoft.com/uwp/schemas/appxpackage/uapmanifestschema/schema-root) для вашего приложения, и по умолчанию он является запускаемым проектом для вашего решения.

        ![Проект приложения](images/WinUI-csharp-packageproject.png)

7. Чтобы добавить новый элемент в проект приложения, в **Обозревателе решений** щелкните правой кнопкой мыши узел проекта ***Project name* (Desktop)** (Имя проекта (классическое приложение)) и выберите **Добавить** -> **Создать элемент**. В диалоговом окне **Добавление нового элемента** щелкните вкладку **WinUI**, выберите нужный элемент и нажмите кнопку **Добавить**. Можно выбрать один из следующих типов элементов:

    * **Пустая страница**;
    * **Blank Window** (Пустое окно);
    * **Настраиваемый элемент управления**;
    * **Словарь ресурсов**
    * **Файл ресурсов**;
    * **Пользовательский элемент управления**.

    ![Новый элемент](images/WinUI-csharp-newitem.png)

8. Скомпилируйте и запустите решение, чтобы убедиться, что приложение выполняется без ошибок.

## <a name="create-a-winui-3-desktop-app-for-cwin32"></a>Создание классического приложения WinUI 3 для C++/Win32

1. В Visual Studio 2019 выберите **Файл** -> **Создать** -> **Проект**.

2. В раскрывающихся фильтрах проекта выберите **C++** , **Windows** и **WinUI**.

3. Выберите тип проекта **Blank App, Packaged (WinUI in Desktop)** (Пустое, упакованное приложение (WinUI для классических приложений)) и нажмите кнопку **Далее**.

    ![Шаблон проекта пустого приложения](images/WinUI-cpp-newproject.png)

4. Введите имя проекта, при необходимости выберите другие параметры, а затем нажмите кнопку **Создать**.

5. В следующем диалоговом окне выберите для параметра **Целевая версия** значение "Windows 10, версия 1903 (сборка 18362)", а для параметра **Минимальная версия** — значение "Windows 10, версия 1803 (сборка 17134)" и нажмите кнопку **ОК**.

    ![Целевая и минимальная версии](images/WinUI-min-target-version.png)

6. На этом этапе Visual Studio создаст два проекта:

    * ***Project name* (Desktop)** (Имя проекта (классическое приложение)).  Этот проект содержит код приложения. В файле **App.xaml** и разных файлах кода **App** определен класс `Application`, который представляет экземпляр приложения, а в файле **MainWindow.xaml** и разных файлах кода **MainWindow** определен класс `MainWindow`, который представляет главное окно, отображаемое приложением. Эти классы являются производными от типов в пространстве имен **Microsoft.UI.Xaml**, который предоставляет WinUI.

        ![Проект приложения](images/WinUI-cpp-appproject.png)

    * ***Project name* (Package)** (Имя проекта (пакет)). Это [Проект упаковки приложений Windows](https://docs.microsoft.com/windows/msix/desktop/desktop-to-uwp-packaging-dot-net), который настроен для сборки приложения в пакет MSIX для развертывания. Этот проект содержит [манифест пакета](https://docs.microsoft.com/uwp/schemas/appxpackage/uapmanifestschema/schema-root) для вашего приложения, и по умолчанию он является запускаемым проектом для вашего решения.

        ![Проект для упаковки](images/WinUI-cpp-packageproject.png)

7. Чтобы добавить новый элемент в проект приложения, в **Обозревателе решений** щелкните правой кнопкой мыши узел проекта ***Project name* (Desktop)** (Имя проекта (классическое приложение)) и выберите **Добавить** -> **Создать элемент**. В диалоговом окне **Добавление нового элемента** щелкните вкладку **WinUI**, выберите нужный элемент и нажмите кнопку **Добавить**. Можно выбрать один из следующих типов элементов:

    * **Пустая страница**;
    * **Blank Window** (Пустое окно);
    * **Настраиваемый элемент управления**;
    * **Словарь ресурсов**
    * **Файл ресурсов**;
    * **Пользовательский элемент управления**.

    ![Новый элемент](images/WinUI-cpp-newitem.png)

8. Скомпилируйте и запустите решение, чтобы убедиться, что приложение выполняется без ошибок.

## <a name="known-issues-and-limitations"></a>Известные проблемы и ограничения

Список известных проблем и ограничений в предварительной версии 1 см. в [этом разделе](index.md#preview-1-limitations-and-known-issues).

## <a name="related-topics"></a>Связанные темы

* [WinUI 3.0](index.md)