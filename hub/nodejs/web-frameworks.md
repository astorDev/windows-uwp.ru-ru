---
title: Приступая к работе с веб-платформами Node.js в Windows
description: Руководство по началу работы с веб-платформами Node.js в Windows.
author: mattwojo
ms.author: mattwoj
manager: jken
ms.topic: article
keywords: NodeJS, Node.js, windows 10, microsoft, изучение nodejs, node в windows, node в wsl, node в windows для linux, установка node в windows, nodejs с vs code, разработка с использованием node в windows, разработка с использованием nodejs в windows, установка node в WSL, NodeJS в подсистеме Windows для Linux
ms.localizationpriority: medium
ms.date: 09/19/2019
ms.openlocfilehash: a8ce1d08136a74504e1b3bad26feadd61b72068f
ms.sourcegitcommit: 60d2d15dd0d365f82e4e90e4bc34b40cf5b4a247
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/17/2019
ms.locfileid: "72517786"
---
# <a name="get-started-with-nodejs-web-frameworks-on-windows"></a>Приступая к работе с веб-платформами Node.js в Windows

Пошаговое руководство, помогающее приступить к работе с веб-платформами Node.js в Windows, включая Next.js, Nuxt.js и Gatsby.

## <a name="prerequisites"></a>Предварительные условия

В этом руководстве предполагается, что вы уже [настроили в среде разработки Node.js подсистему Windows для Linux версии 2](./setup-on-wsl2.md) (WSL 2), в том числе:

- установили Windows 10 Insider Preview (сборки 18932) или более поздней версии;
- включили компонент WSL 2 в Windows;
- установили дистрибутив Linux (Ubuntu 18.04 для наших примеров), что можно проверить с помощью команды `wsl lsb_release -a`;
- убедились, что дистрибутив Ubuntu 18.04 работает в режиме WSL 2 (WSL может запускать дистрибутивы в режиме версии 1 или 2), что можно проверить, открыв PowerShell и выполнив команду `wsl -l -v`;
- с помощью PowerShell установили Ubuntu 18.04 в качестве дистрибутива по умолчанию с помощью команды `wsl -s ubuntu 18.04`.

## <a name="get-started-with-nextjs"></a>Приступая к работе с Next.js

Next.js — это платформа для создания визуализируемых сервером приложений JavaScript на основе React.js, Node.js, Webpack и Babel.js. По сути, это шаблон проекта для React, в котором особое внимание уделяется рекомендациям, позволяющим создавать "универсальные" веб-приложения простым и согласованным способом практически без настройки. Эти "универсальные" визуализируемые сервером веб-приложения иногда называют изоморфными. Это означает, что для клиента и сервера используется общий код.

Чтобы создать Next.js, включая установку next, react, and react-dom, сделайте следующее:

1. Откройте терминал WSL (например, Ubuntu 18.04).

2. Создайте новую папку проекта `mkdir NextProjects` и войдите в этот каталог: `cd NextProjects`.

3. Установите Next.js и создайте проект (заменив my-next-app любым другим именем приложения): `npm create next-app my-next-app`.

4. После установки пакета замените каталоги на папку нового приложения `cd my-next-app`, а затем используйте `code .`, чтобы открыть проект Next.js в VS Code. Это позволит просмотреть инфраструктуру Next.js, созданную для приложения. Обратите внимание на то, что экземпляр VS Code открыла приложение в среде WSL-Remote (как указано на зеленой вкладке в левом нижнем углу окна VS Code). Это означает, что хотя вы используете VS Code для редактирования в ОС Windows, приложение по-прежнему работает в ОС Linux.

    ![Расширение WSL-Remote](../images/wsl-remote-extension.png)

5. После установки Next.js следует запомнить 3 команды:

    - `npm run dev` для запуска экземпляра разработки с горячей перегрузкой, просмотра файлов и повторного выполнения задач;
    - `npm run build` для компиляции проекта;
    - `npm start` для запуска приложения в режиме рабочей среды.

    Откройте терминал WSL, интегрированный в VS Code (**Вид > Терминал**). Убедитесь, что путь терминала указывает на каталог проекта (т. е. `~/NextProjects/my-next-app$`). Затем попробуйте запустить экземпляр разработки нового приложения Next.js с помощью `npm run dev`

6. Локальный сервер разработки будет запущен, и после того как создание страниц проекта будет завершено, терминал отобразит сообщение "compiled successfully - ready on [http://localhost:3000](http://localhost:3000)" (Компиляция выполнена, приложение доступно по адресу http://localhost:3000). Выберите эту ссылку на localhost, чтобы открыть новое приложение Next.js в веб-браузере.

    ![Приложение Next.js, выполняемое на localhost:3000](../images/next-app.png)

7. Откройте файл `pages/index.js` в редакторе VS Code. Найдите заголовок страницы `<h1 className='title'>Welcome to Next.js!</h1>` и измените его на `<h1 className='title'>This is my new Next.js app!</h1>`. Если в веб-браузере по-прежнему открыт адрес localhost:3000, сохраните изменения и обратите внимание на то, что функция горячей перезагрузки автоматически выполняет компиляцию и отражает изменения в браузере.

8. Давайте посмотрим, как Next.js обрабатывает ошибки. Удалите закрывающий тег `</h1>`, чтобы код заголовка теперь выглядел следующим образом: `<h1 className='title'>This is my new Next.js app!`. Сохраните это изменение и обратите внимание на то, что в браузере и терминале появилось сообщение об ошибке компиляции, в котором сказано, что ожидается закрывающий тег для `<h1>`. Замените закрывающий тег `</h1>`, сохраните проект, и страница будет перезагружена.

Вы можете использовать отладчик VS Code в приложении Next.js, нажав клавишу F5 или выбрав в строке меню **Вид > Отладка** (Ctrl+Shift+D) либо **Вид > Консоль отладки** (Ctrl+Shift+Y). Если выбрать значок шестеренки в окне "Отладка", будет создан файл конфигурации запуска (`launch.json`), в котором будут сохранены сведения о конфигурации отладки. Дополнительные сведения см. в разделе об [отладке в VS Code](https://code.visualstudio.com/docs/nodejs/nodejs-debugging).

![Значок настройки в окне отладки VS Code с launch.json](../images/vscode-debug-launch-configuration.png)

Дополнительные сведения о Next.js доступны в [документации по Next.js](https://nextjs.org/docs).

## <a name="get-started-with-nuxtjs"></a>Приступая к работе с Nuxt.js

Nuxt.js — это платформа для создания визуализируемых сервером приложений JavaScript на основе Vue.js, Node.js, Webpack и Babel.js. Она была создана на основе Next.js. По сути, это шаблон проекта для Vue. Как и в Next.js, в Nuxt.js особое внимание уделяется рекомендациям, и эта платформа позволяет создавать "универсальные" веб-приложения простым и согласованным способом практически без настройки. Эти "универсальные" визуализируемые сервером веб-приложения иногда называют изоморфными. Это означает, что для клиента и сервера используется общий код.

Чтобы создать проект Nuxt.js, потребуется ответить на ряд вопросов о том, какую интегрированную серверную платформу, инфраструктуру пользовательского интерфейса, платформу тестирования, режим, модули и анализатор кода вы хотите установить.

1. Откройте терминал WSL (например, Ubuntu 18.04).

2. Создайте новую папку проекта `mkdir NuxtProjects` и войдите в этот каталог: `cd NuxtProjects`.

3. Установите Nuxt.js и создайте проект (заменив my-nuxt-app любым другим именем приложения): `npm create nuxt-app my-nuxt-app`.

4. Установщик Nuxt.js задаст следующие вопросы:
    - Имя проекта: my-nuxtjs-app
    - Описание проекта: описание приложения Nuxt.js.
    - Имя автора: я использую свой псевдоним GitHub.
    - Выберите диспетчер пакетов: Yarn или **NPM**. В нашем примере мы используем NPM.
    - Выберите инфраструктуру пользовательского интерфейса: "Нет", Ant Design Vue, Bootstrap Vue и т. д. Давайте в этом примере выберем **Vuetify**, однако сообщество Vue создало удобную [сводку со сравнением этих инфраструктур пользовательского интерфейса](https://vue-community.org/guide/ecosystem/ui-libraries.html#summary-tldr), чтобы помочь вам сделать оптимальный выбор для проекта.
    - Выберите пользовательские серверные платформы: "Нет", AdonisJs, Express, Fastify и т. д. В этом примере мы выберем **Нет**, но на сайте Dev.to можно найти [сравнение серверных платформ за 2019–2020 г.г.](https://dev.to/santypk4/introducing-the-best-10-node-js-frameworks-for-2019-and-2020-mcm)
    - Выберите модули Nuxt.js (используйте пробел, чтобы выбрать модули, или просто нажмите клавишу ВВОД, если не хотите их устанавливать): Axios (для упрощения HTTP-запросов) или [Поддержка PWA](https://pwa.nuxtjs.org/) (для добавления service-worker, файла manifest.json и т. д.). Давайте не будем добавлять модуль в наш пример.
    - Выберите инструменты анализа кода: файлы **ESLint**, Prettier и Lint-Staged. Давайте выберем **ESLint** (инструмент для анализа кода и предупреждения о возможных ошибках).
    - Выберем платформу тестирования: **Нет**, Jest, AVA. Давайте выберем **Нет**, так как мы не будем рассматривать тестирование в этом кратком руководстве.
    - Выберите режим визуализации: **Universal (SSR)** (Универсальное приложение (SSR)) или одностраничное приложение (SPA). Давайте в нашем примере выберем **Universal (SSR)** (Универсальное приложение (SSR)), однако в [документации по Nuxt.js](https://nuxtjs.org/guide#server-rendered-universal-ssr-) сообщается о некоторых различиях — для SSR требуется сервер Node.js, визуализирующий приложение и SPA для статического размещения.
    - Выберите средства разработки: **jsconfig.json** (рекомендуется для VS Code, чтобы можно было использовать завершение кода IntelliSense).

5. После создания проекта выполните команду `cd my-nuxtjs-app`, чтобы войти в каталог проекта Nuxt.js, а затем введите `code .`, чтобы открыть проект в среде WSL-Remote в VS Code.

    ![Расширение WSL-Remote](../images/wsl-remote-extension.png)

6. После установки Nuxt.js следует запомнить 3 команды:

    - `npm run dev` для запуска экземпляра разработки с горячей перегрузкой, просмотра файлов и повторного выполнения задач;
    - `npm run build` для компиляции проекта;
    - `npm start` для запуска приложения в режиме рабочей среды.

    Откройте терминал WSL, интегрированный в VS Code (**Вид > Терминал**). Убедитесь, что путь терминала указывает на каталог проекта (т. е. `~/NuxtProjects/my-nuxt-app$`). Затем попробуйте запустить экземпляр разработки нового приложения Nuxt.js с помощью `npm run dev`

6. Будет запущен локальный сервер разработки (на котором будет отображено несколько интересных индикаторов выполнения для клиента и сервера). После завершения создания проекта в терминале отобразится сообщение "Compiled successfully" (Компиляция выполнена успешно) и длительность компиляции. Укажите в веб-браузере [http://localhost:3000](http://localhost:3000), чтобы открыть новое приложение Nuxt.js.

    ![Приложение Nuxt.js, выполняемое на localhost:3000](../images/nuxt-app.png)

7. Откройте файл `pages/index.vue` в редакторе VS Code. Найдите заголовок страницы `<v-card-title class="headline">Welcome to the Vuetify + Nuxt.js template</v-card-title>` и измените его на `<v-card-title class="headline">This is my new Nuxt.js app!</v-card-title>`. Если в веб-браузере по-прежнему открыт адрес localhost:3000, сохраните изменения и обратите внимание на то, что функция горячей перезагрузки автоматически выполняет компиляцию и отражает изменения в браузере.

8. Давайте посмотрим, как Nuxt.js обрабатывает ошибки. Удалите закрывающий тег `</v-card-title>`, чтобы код заголовка теперь выглядел следующим образом: `<v-card-title class="headline">This is my new Nuxt.js app!`. Сохраните это изменение и обратите внимание на то, что в браузере и окне терминала появится сообщение об ошибке компиляции, уведомляющее, что отсутствует закрывающий тег `<v-card-title>`, а также номера строк кода с этой ошибкой. Замените закрывающий тег `</v-card-title>`, сохраните проект, и страница будет перезагружена.

Вы можете использовать отладчик VS Code в приложении Nuxt.js, нажав клавишу F5 или выбрав в строке меню **Вид > Отладка** (Ctrl+Shift+D) либо **Вид > Консоль отладки** (Ctrl+Shift+Y). Если выбрать значок шестеренки в окне "Отладка", будет создан файл конфигурации запуска (`launch.json`), в котором будут сохранены сведения о конфигурации отладки. Дополнительные сведения см. в разделе об [отладке в VS Code](https://code.visualstudio.com/docs/nodejs/nodejs-debugging).

![Значок настройки в окне отладки VS Code с launch.json](../images/vscode-debug-launch-configuration.png)

Дополнительные сведения о Nuxt.js доступны в [руководстве по Nuxt.js](https://nuxtjs.org/guide).

## <a name="get-started-with-gatsbyjs"></a>Приступая к работе с Gatsby.js

Gatsby.js — это платформа генератора статических сайтов, основанная на React.js, которая не использует визуализацию на сервере, как Next.js и Nuxt.js. Генератор статических сайтов создает статический код HTML во время сборки. Для этого не требуется сервер. Next.js и Nuxt.js создают HTML во время выполнения (каждый раз, когда поступает новый запрос). Для их работы требуется сервер. Gatsby также определяет, как обрабатываются данные в приложении (с помощью GraphQL), тогда как Next.js и Nuxt.js оставляют это решение за вами.

Чтобы создать проект Gatsby.js:

1. Откройте терминал WSL (например, Ubuntu 18.04).
2. Создайте новую папку проекта: `mkdir GatsbyProjects` и введите этот каталог: `cd GatsbyProjects`
3. Используйте NPM для установки Gatsby CLI: `npm install -g gatsby-cli`. После установки проверьте версию с помощью `gatsby --version`.
4. Создайте проект Gatsby.js: `gatsby new my-gatsby-app`
5. После установки пакета замените каталоги на папку нового приложения `cd my-gatsby-app`, а затем используйте `code .`, чтобы открыть проект Gatsby в VS Code. Это позволит просмотреть инфраструктуру Gatsby.js, созданную для приложения, в проводнике VS Code. Обратите внимание на то, что экземпляр VS Code открыла приложение в среде WSL-Remote (как указано на зеленой вкладке в левом нижнем углу окна VS Code). Это означает, что хотя вы используете VS Code для редактирования в ОС Windows, приложение по-прежнему работает в ОС Linux.

    ![Расширение WSL-Remote](../images/wsl-remote-extension.png)

6. После установки Gatsby следует знать 3 команды:

    - `gatsby develop` для запуска экземпляра разработки с горячей перегрузкой;
    - `gatsby build` для создания рабочей сборки;
    - `gatsby serve` для запуска приложения в режиме рабочей среды.

    Откройте терминал WSL, интегрированный в VS Code (**Вид > Терминал**). Убедитесь, что путь терминала указывает на каталог проекта (т. е. `~/GatsbyProjects/my-gatsby-app$`). Затем попробуйте запустить экземпляр разработки нового приложения с помощью `gatsby develop`

7. После завершения компиляции нового проекта Gatsby в окне терминала отобразится сообщение: "You can now view gatsby-starter-default in the browser. [http://localhost:8000/](http://localhost:8000/)" (Теперь вы можете просмотреть gatsby-starter-default в браузере: http://localhost:8000). Выберите эту ссылку на localhost, чтобы просмотреть созданный проект в веб-браузере.

> [!NOTE]
> Вы заметите, что в терминале также отображено сообщение "View GraphiQL, an in-browser IDE, to explore your site's data and schema: [http://localhost:8000/___graphql](http://localhost:8000/___graphql)" (Просмотрите GraphiQL в браузерной интегрированной среде разработки, чтобы изучить данные и схему своего сайта: http://localhost:8000/___graphql"). GraphQL объединяет интерфейсы API в интегрированную среду разработки с самодокументированием (GraphQL), встроенную в Gatsby. Помимо изучения данных и схемы сайта, можно выполнять такие операции GraphQL, как запросы, изменения и подписки. Дополнительные сведения см. в статье [Introducing GraphiQL](https://www.gatsbyjs.org/docs/running-queries-with-graphiql/) (Введение в GraphiQL).

8. Откройте файл `src/pages/index.js` в редакторе VS Code. Найдите заголовок страницы `<h1 >Hi people</h1>` и измените его на `<h1 >Hi (Your Name)!</h1>`. Если в веб-браузере по-прежнему открыт адрес localhost:8000, сохраните изменения и обратите внимание на то, что функция горячей перезагрузки автоматически выполняет компиляцию и отражает изменения в браузере.

    ![Приложение Gatsby.js, выполняемое на localhost:8000](../images/gatsby-app.png)

9. Давайте посмотрим, как Next.js обрабатывает ошибки. Удалите закрывающий тег `</h1>`, чтобы код заголовка теперь выглядел следующим образом: `<h1>Hi (Your Name)!`. Сохраните это изменение и обратите внимание на то, что в браузере и терминале появилось сообщение об ошибке компиляции, в котором сказано, что ожидается закрывающий тег для `<h1>`. Замените закрывающий тег `</h1>`, сохраните проект, и страница будет перезагружена.

Вы можете использовать отладчик VS Code в приложении Next.js, нажав клавишу F5 или выбрав в строке меню **Вид > Отладка** (Ctrl+Shift+D) либо **Вид > Консоль отладки** (Ctrl+Shift+Y). Если выбрать значок шестеренки в окне "Отладка", будет создан файл конфигурации запуска (`launch.json`), в котором будут сохранены сведения о конфигурации отладки. Дополнительные сведения см. в разделе об [отладке в VS Code](https://code.visualstudio.com/docs/nodejs/nodejs-debugging).

![Значок настройки в окне отладки VS Code с launch.json](../images/vscode-debug-launch-configuration.png)

Дополнительные сведения о Gatsby доступны в [документации по Gatsby.js](https://www.gatsbyjs.org/docs/).
