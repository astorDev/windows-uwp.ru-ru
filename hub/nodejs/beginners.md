---
title: Начало работы с NodeJS в Windows для начинающих
description: Руководство, помогающее начинающим приступить к разработке с Node.js в Windows.
author: mattwojo
ms.author: mattwoj
manager: jken
ms.topic: article
keywords: NodeJS, Node.js, windows 10, microsoft, обучение nodejs, node на windows, node в windows для начинающих, разработка с node в windows, разработка с nodejs в windows
ms.localizationpriority: medium
ms.date: 09/19/2019
ms.openlocfilehash: 433eb5701696f590f10d8b3276481098b9ec073d
ms.sourcegitcommit: 76e8b4fb3f76cc162aab80982a441bfc18507fb4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/29/2020
ms.locfileid: "75657086"
---
# <a name="get-started-using-nodejs-on-windows-for-beginners"></a>Начало работы с Node.js в Windows для начинающих

Если вы новичок в использовании Node.js, это руководство поможет вам начать с некоторых основ.

## <a name="prerequisites"></a>Предварительные условия

В этом руководстве предполагается, что вы уже [настроили среду разработки Node.js для собственного Windows](./setup-on-windows.md), в том числе:

- Установили диспетчер версий Node.js.
- Установили Visual Studio Code.

Установка Node.js непосредственно в Windows — самый простой способ приступить к выполнению основных операций Node.js с минимальными настройками.

Когда вы будете готовы использовать Node.js для разработки приложений для рабочей среды, что обычно включает развертывание на сервере Linux, рекомендуется [настроить среду разработки Node.js с помощью WSL2](./setup-on-wsl2.md). Хотя веб-приложения можно развертывать на серверах Windows, гораздо чаще встречается [использование серверов Linux для размещения приложений Node.js](https://azure.microsoft.com/develop/nodejs/).

## <a name="types-of-nodejs-applications"></a>Типы приложений Node.js

Node.js — это среда выполнения JavaScript, которая в основном используется для создания веб-приложений. Другими словами, это реализация JavaScript на стороне сервера, используемая для написания серверной части приложения. (Хотя многие платформы Node.js также могут работать с внешним интерфейсом.) Ниже приведено несколько примеров того, что можно создать с помощью Node.js.

- **Одностраничные приложения**. Это веб-приложения, которые работают в браузере и не требуют повторной загрузки страницы при каждом ее использовании для получения новых данных. Некоторые примеры одностраничных приложений включают в себя приложения социальных сетей, электронную почту, приложения карт, текст в Интернете, инструменты для рисования и т. д.
- **Приложения в режиме реального времени**. Это веб-приложения, которые способствуют пользователям получать информацию сразу после публикации автором, а не требовать периодических проверок источника на наличие обновлений. Некоторые примеры RTA включают в себя приложения для обмена мгновенными сообщениями и комнаты чатов, многопользовательские онлайн-игры, которые можно играть в браузере, документы для совместной работы в сети, хранилище сообщества, приложения видеоконференций и т. д.
- **Приложения потоковой передачи данных**. Это приложения (или службы), которые отправляют данные или содержимое по мере их поступления (или создания), сохраняя подключение для продолжения загрузки дополнительных данных, содержимого или компонентов по мере необходимости. К некоторым примерам относятся приложения потоковой передачи видео и аудио.
- **API REST**. Это интерфейсы, которые предоставляют данные для взаимодействия с веб-приложением другого пользователя. Например, служба API календаря может предоставлять даты и время для концертного помещения, которое может использоваться веб-сайтом локальных событий другого пользователя.
- **Готовые к просмотру приложения на стороне сервера (SSR)** . Эти веб-приложения могут работать как на клиенте (в вашем браузере / внешнем интерфейсе), так и на сервере (внутренний), позволяя динамически отображать (создавать HTML) любое известное содержимое и быстро перехватывать неизвестное по мере его доступности. Их часто называют "изоморфными" или "универсальными" приложениями. Службы SSR используют методы SPA, поскольку им не нужно перезагружаться при каждом использовании. Тем не менее, SSR предлагают несколько преимуществ, которые могут быть или не быть важны для вас, например, включение содержимого вашего сайта в результаты поиска Google и предоставление изображения для предварительного просмотра, когда ссылки на ваше приложение публикуются в социальных сетях, таких как Twitter или Facebook. Потенциальным недостатком является то, что они требуют постоянной работы сервера Node.js. С точки зрения примеров, приложение для социальных сетей, поддерживающее события, которые пользователи захотят видеть в результатах поиска и социальных сетях, может извлечь выгоду из SSR, в то время как приложение для электронной почты может хорошо работать как SPA. Вы также можете запускать преобразованные сервером приложения, отличные от SPA, как например блог WordPress. Как видите, все может осложниться, вам просто стоит решить, что важно.
- **Средства командной строки**. Они позволяют автоматизировать повторяющиеся задачи, а затем распространить ваше средство по обширной экосистеме Node.js. Примером средства командной строки является cURL, под которым подразумевается клиентский URL и который используется для загрузки контента с URL-адреса Интернета. cURL часто используется для установки таких компонентов, как Node.js, в нашем случае менеджера версий Node.js.
- **Программирование оборудования**. Хотя Node.js не так популярен, как веб-приложения, в настоящее время Node.js пользуется все большей популярностью для использования в IoT, например, для сбора данных с датчиков, маяков, передатчиков, двигателей или всего, что генерирует большие объемы данных. Node.js может обеспечить сбор данных, анализ этих данных, обмен данными между устройством и сервером и принятие мер на основе анализа. NPM содержит более 80 пакетов для контроллеров Arduino, raspberry pi, Intel IoT Edison, различных датчиков и устройств Bluetooth.

## <a name="try-using-nodejs-in-vs-code"></a>Попробуйте использовать Node.js в VS Code

1. Откройте командную строку (командная строка, PowerShell или другое) и создайте новый каталог: `mkdir HelloNode`, а затем введите каталог: `cd HelloNode`

2. Создайте файл JavaScript с именем "app.js" и переменной с именем "msg" в: `echo var msg > app.js`

3. Откройте каталог и файл app.js в VS Code: `code .`

4. Добавьте простую строковую переменную ("Hello World"), а затем отправьте содержимое строки в консоль, введя его в файле "app.js":

    ```js
    var msg = 'Hello World';
    console.log(msg);
    ```

5. Для запуска файла "app.js" с Node.js. Откройте окно терминала в VS Code, выбрав **Представление** > **Терминал** (или нажмите Ctrl+`, используя символ обратного апострофа). Если необходимо изменить терминал по умолчанию, откройте раскрывающееся меню и выберите **Выбрать оболочку по умолчанию**.

6. В окне терминала введите: `node app.js`. Вы должны увидеть выходные данные: "Hello World".

> [!NOTE]
> Обратите внимание, что при вводе `console` в файл "app.js", VS Code отображает поддерживаемые параметры, связанные с объектом [`console`](https://developer.mozilla.org/docs/Web/API/Console), который можно выбрать из использования IntelliSense. Попробуйте поэкспериментировать с Intellisense, используя другие [объекты JavaScript](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects).

> [!TIP]
> Попробуйте новый [терминал Windows](https://github.com/microsoft/terminal/blob/master/doc/user-docs/index.md), если планируете использовать несколько командных строк (Ubuntu, PowerShell, Командная строка Windows и т. д.) или если вы хотите [настроить свой терминал](https://github.com/microsoft/terminal/blob/master/doc/user-docs/UsingJsonSettings.md), применяя текст, цвета фона, настраиваемые сочетания клавиш, несколько областей окна и т. д.

## <a name="set-up-a-basic-web-app-framework-by-using-express"></a>Настройка базовой платформы веб-приложений с помощью Express

Express — это минимальная, гибкая и оптимизированная платформа Node.js, которая упрощает разработку веб-приложения, которое может обслуживать несколько типов запросов, таких как GET, PUT, POST и DELETE. Express поставляется с генератором приложений, который автоматически создает архитектуру файлов для приложения.

Чтобы создать проект с помощью Express.js, выполните следующие действия.

1. Откройте командную строку (командная строка, Powershell или любой другой вариант).
2. Создайте новую папку проекта: `mkdir ExpressProjects` и введите этот каталог: `cd ExpressProjects`
3. Используйте Express для создания шаблона проекта HelloWorld: `npx express-generator HelloWorld --view=pug`

>[!NOTE]
> Мы используем команду `npx`, чтобы выполнить пакет Node Express.js без фактической установки (или временно установить его в зависимости от того, как вы хотите его представить). Если вы попытаетесь использовать команду `express` или проверить установленную версию Express с помощью: `express --version`, вы получите ответ, о том, что Express не удается найти. Если вы хотите глобально установить Express, чтобы применять его на постоянной основе, используйте: `npm install -g express-generator`. Список пакетов, установленных npm, можно просмотреть с помощью `npm list`. Они будут перечислены по глубине (количество вложенных каталогов в глубину). Установленные пакеты будут иметь глубину 0. Зависимости пакета будут иметь глубину 1, дополнительные зависимости на уровне глубины — 2 и т. д. Дополнительные сведения см. в статье [Различие между npx and npm](https://stackoverflow.com/questions/50605219/difference-between-npx-and-npm) в Stackoverflow.

4. Изучите файлы и папки, включенные в Express, открыв проект в VS Code, с помощью: `code .`

   Файлы, создаваемые с помощью Express, создают веб-приложение, использующее архитектуру, которая может показаться немного перегруженной. В окне **обозревателя** VS Code (Ctrl+Shift+E для просмотра), вы увидите, что были созданы следующие файлы и папки:

   - `bin`. Содержит исполняемый файл, который запускает приложение. Он запускает сервер (через порт 3000, если не указана альтернатива) и настраивает базовую обработку ошибок. 
   - `public`. Содержит все общедоступные файлы, включая файлы JavaScript, таблицы стилей CSS, файлы шрифтов, изображения и другие ресурсы, необходимые пользователям при подключении к веб-сайту.
   - `routes`. Содержит все обработчики маршрутов для приложения. В этой папке автоматически создаются два файла, `index.js` и `users.js`, которые служат примерами разделения конфигурации маршрута приложения.
   - `views`. Содержит файлы, используемые модулем шаблонов. Express настроен на поиск подходящего представления при вызове метода преобразования. Обработчик шаблонов по умолчанию — Jade, но Jade является устаревшим в сравнении с Pug, поэтому для изменения подсистемы просмотра (шаблона) мы использовали флаг `--view`. Параметры флага `--view` и другие можно увидеть, используя `express --help`.
   - `app.js`. Начальная точка приложения. Она загружает все и начинает обслуживать запросы пользователей. По сути, это связующий элемент, который содержит все части вместе.
   - `package.json`. Содержит описание проекта, диспетчер скриптов и манифест приложения. Его основное назначение заключается в отслеживании зависимостей приложения и их соответствующих версий.

5. Теперь необходимо установить зависимости, которые Express будет использовать, чтобы создать и запустить приложение HelloWorld Express (пакеты, используемые для таких задач, как запуск сервера, как определено в файле `package.json`). В VS Code откройте терминал, выбрав **Представление** > **Терминал** (или нажмите Ctrl+`, используя символ обратного апострофа), убедитесь, что вы все еще находитесь в каталоге проекта "HelloWorld". Установите зависимости пакета Express с помощью:

```bash
npm install
```

6. На этом этапе платформа настроена для многостраничного веб-приложения, имеющего доступ к большому спектру интерфейсов API и методов служебных приложений HTTP и ПО промежуточного слоя, что упрощает создание надежного API. Запустите приложение Express на виртуальном сервере, введя следующее:

```bash
npx cross-env DEBUG=HelloWorld:* npm start
```

> [!TIP]
> Часть `DEBUG=myapp:*` приведенной выше команды означает, что вы указываете Node.js включить ведение журнала в целях отладки. Не забудьте заменить "myapp" именем своего приложения. Имя приложения можно найти в файле `package.json` в свойстве "name". Использование `npx cross-env` устанавливает переменную среды `DEBUG` в любом терминале, но ее также можно задать с помощью конкретного терминала. Команда `npm start` сообщает npm о необходимости запуска скриптов в файле `package.json`.

7. Теперь вы можете просмотреть работающее приложение, открыв веб-браузер и перейдя по адресу: **localhost:3000**

   ![Снимок экрана: приложения Express, запущенное в браузере](../images/express-app.png)

8. Теперь, когда приложение HelloWorld Express выполняется локально в браузере, попробуйте внести изменения, открыв папку "views" в каталоге проекта и выбрав файл "index.pug". После открытия измените `h1= title` на `h1= "Hello World!"` и выберите **Сохранить** (Ctrl+S). Просмотрите изменения, обновив URL-адрес **localhost:3000** в веб-браузере.

9. Чтобы отключить запуск приложения Express, в окне терминала введите: **Ctrl+C**

## <a name="try-using-a-nodejs-module"></a>Использование модуля Node.js

В Node.js есть инструменты для разработки серверных веб-приложений, некоторые из них встроены и многие другие доступны через npm. Эти модули могут помочь во множестве задач:

|Средство               |Используется для                                                                                                  |
|:----------------- |:---------------------------------------------------------------------------------------------------------|
|gm, sharp          |Обработка изображений, включая редактирование, изменение размера, сжатие и т. д., непосредственно в коде JavaScript |
|PDFKit             |Поколение PDF                                                                                            |
|validator.js       |Проверка строки                                                                                         |
|imagemin, UglifyJS2|Минификация                                                                                              |
|spritesmith        |Создание листа спрайтов                                                                                   |
|winston            |Ведение журнала                                                                                                  |
|commander.js       |Создание приложения командной строки                                                                       |

Давайте воспользуемся встроенным модулем ОС для получения сведений об операционной системе компьютера:

1) В командной строке откройте интерфейс командной строки Node.js. После входа вы увидите подсказку `>`, сообщающую вам, что вы используете Node.js: `node`

2) Чтобы определить операционную систему, используемую в данный момент (которая должна возвращать ответ, сообщающий о том, что вы работаете под Windows), введите: `os.platform()`

3) Чтобы проверить архитектуру ЦП, введите: `os.arch()`

4) Чтобы просмотреть доступные в системе процессоры, введите: `os.cpus()`

5) Оставьте интерфейс командной строки Node.js, введя `.exit` или дважды нажав CTRL+C.

   > [!TIP]
   > Вы можете использовать модуль OS Node.js, чтобы проверить платформу и вернуть переменную для конкретной платформы: Win32/.bat for Windows development, darwin/.sh для Mac/unix, Linux, SunOS, и т. д (например, `var isWin = process.platform === "win32";`).

## <a name="next-steps"></a>Дальнейшие действия

В этом разделе вы узнали несколько основных вещей о том, что можно сделать с помощью Node.js, используя командную строку Node.js в VS Code, создали простое веб-приложение с помощью Express.js и запустили его локально в веб-браузере, а затем попытались использовать несколько встроенных модулей Node.js. Дополнительные сведения о том, как установить и использовать некоторые популярные веб-платформы Node.js, см. в следующем руководстве, которое охватывает Next.js (преобразованная сервером веб-платформа на основе React), Nuxt.js (преобразованная сервером веб-платформа на основе Vue) и Gatsby (статично преобразованная веб-платформа на основе React). Вы также можете перейти к изучению работы с базами данных MongoDB или PostgreSQL или контейнерами Docker.

- [Начало работы с веб-платформами Node.js в Windows](./web-frameworks.md)
- [Начало работы с подключениями приложений Node.js к базе данных](./databases.md)
- [Начало работы с контейнерами Docker для Node.js](./containers.md)
