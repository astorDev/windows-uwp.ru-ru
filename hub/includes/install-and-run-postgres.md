---
ms.topic: include
author: mattwojo
ms.author: mattwoj
ms.date: 10/04/2019
ms.openlocfilehash: aa1da2a65f95d92e895533ed37426b5e454c255b
ms.sourcegitcommit: 76e8b4fb3f76cc162aab80982a441bfc18507fb4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/29/2020
ms.locfileid: "72314898"
---
Чтобы установить PostgreSQL, сделайте следующее:

1. Откройте терминал WSL (например, Ubuntu 18.04).
2. Обновите пакеты Ubuntu: `sudo apt update`
3. После обновления пакетов установите PostgreSQL (и пакет -contrib с некоторыми полезными служебными программами) с помощью команды `sudo apt install postgresql postgresql-contrib`.
4. Подтвердите установку и получите номер версии: `psql --version`

Есть 3 команды, о которых необходимо знать после установки PostgreSQL:

1. `sudo service postgresql status` позволяет проверить состояние базы данных.
2. `sudo service postgresql start` позволяет запустить базу данных.
3. `sudo service postgresql stop` позволяет завершить работу с базой данных.

### <a name="postgresql-user-setup"></a>Настройка пользователя PostgreSQL

Администратору по умолчанию `postgres` требуется назначать пароль для подключения к базе данных. Чтобы задать пароль, сделайте следующее:

1. Введите команду: `sudo passwd postgres`.
2. Появится запрос на ввод нового пароля.
3. Закройте и снова откройте терминал.

### <a name="run-postgresql-with-psql-shell"></a>Запуск PostgreSQL с помощью оболочки psql

[psql](https://www.postgresql.org/docs/10/app-psql.html) — это внешний интерфейс на основе терминала для PostgreSQL. Он позволяет интерактивно вводить запросы, отправлять их к PostgreSQL и просматривать их результаты. Кроме того, входные данные могут быть из файла. Этот внешний интерфейс предоставляет ряд метакоманд и различные функции, аналогичные оболочке, позволяющие упростить написание сценариев и автоматизировать самые разнообразные задачи.

Чтобы запустить оболочку psql, сделайте следующее:

1. Запустите службу postgres: `sudo service postgresql start`
2. Подключитесь к службе postgres и откройте оболочку psql: `sudo -u postgres psql`

После успешного входа в оболочку psql вы увидите, что ваша командная строка будет выглядеть следующим образом: `postgres=#`

> [!NOTE]
> Кроме того, вы можете открыть оболочку psql, перейдя к пользователю postgres с помощью команды `su - postgres`, а затем введя команду `psql`.

Чтобы выйти из postgres, введите: `\q` или используйте сочетание клавиш: CTRL+D.

Чтобы узнать, какие учетные записи пользователей были созданы в установке PostgreSQL, в терминале WSL введите `psql -c "\du"` или просто `\du`, если оболочка psql открыта. Эта команда отобразит столбцы: "Имя пользователя учетной записи", "Список атрибутов ролей" и "Член групп ролей". Чтобы вернуться в командную строку, введите: `q`.
