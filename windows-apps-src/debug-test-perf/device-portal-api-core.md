---
author: dbirtolo
ms.assetid: bfabd3d5-dd56-4917-9572-f3ba0de4f8c0
title: "Справка по базовому API портала устройств"
description: "Узнайте о базовых REST API портала устройств Windows, которые можно использовать для доступа к данным и программного управления устройством."
ms.author: dbirtolo
ms.date: 02/08/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: windows 10, uwp
ms.openlocfilehash: 347d658f346ab14c60a4468c4a9935e555c2e016
ms.sourcegitcommit: 909d859a0f11981a8d1beac0da35f779786a6889
translationtype: HT
---
# <a name="device-portal-core-api-reference"></a>Справка по базовым API портала устройств

Весь портал устройств Windows построен на API-интерфейсах REST, которые можно использовать для получения доступа к данным и программного управления устройством.

## <a name="app-deployment"></a>Развертывание приложения

---
### <a name="install-an-app"></a>Установка приложения

**Запрос**

Приложение можно установить с помощью следующего формата запроса.

Метод      | URI запроса
:------     | :-----
POST | /api/app/packagemanager/package
<br />
**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
пакет   | (**обязательно**) Имя файла устанавливаемого пакета.
<br />
**Заголовки запроса**

- Нет

**Текст запроса**

- Файл .appx или .appxbundle, а также все зависимости, требуемые приложением. 
- Сертификат, используемый для подписывания приложения, если это устройство IoT или настольный компьютер с Windows. Другие платформы не требуют сертификата. 

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | Принятый и обрабатываемый запрос на развертывание
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* IoT

---
### <a name="get-app-installation-status"></a>Получение состояния установки приложения

**Запрос**

Сведения о состоянии выполняемой в настоящее время установки приложения можно получить, используя для этого следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/app/packagemanager/state
<br />
**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | Результат последнего развертывания
204 | Выполняется установка
404 | Операция по установке не обнаружена
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* IoT

---
### <a name="uninstall-an-app"></a>Удаление приложения

**Запрос**

Удалить приложение можно с помощью следующего формата запроса.
 
Метод      | URI запроса
:------     | :-----
УДАЛЕНИЕ | /api/app/packagemanager/package
<br />

**Параметры URI**

Параметр URI | Описание
:---          | :---
пакет   | (**обязательно**) PackageFullName (из GET /api/app/packagemanager/packages) целевого приложения

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* IoT

---
### <a name="get-installed-apps"></a>Получение списка установленных приложений

**Запрос**

Список установленных в системе приложений можно получить, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/app/packagemanager/packages
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ включает список установленных пакетов с соответствующими сведениями. Шаблон для этого ответа выглядит следующим образом.
```
{"InstalledPackages": [
    {
        "Name": string,
        "PackageFamilyName": string,
        "PackageFullName": string,
        "PackageOrigin": int, (https://msdn.microsoft.com/en-us/library/windows/desktop/dn313167(v=vs.85).aspx)
        "PackageRelativeId": string,
        "Publisher": string,
        "Version": {
            "Build": int,
            "Major": int,
            "Minor": int,
            "Revision": int
     },
     "RegisteredUsers": [
     {
        "UserDisplayName": string,
        "UserSID": string
     },...
     ]
    },...
]}
```
**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* Интернет вещей

---
## Device manager
---
### <a name="get-the-installed-devices-on-the-machine"></a>Получение списка установленных на компьютере устройств

**Запрос**

Список установленных на компьютере устройств можно получить, используя следующий формат запросов.
 
Метод      | URI запроса
:------     | :-----
GET | /api/devicemanager/devices
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ содержит массив устройств JSON , подключенных к устройству.
``` 
{"DeviceList": [
    {
        "Class": string,
        "Description": string,
        "ID": string,
        "Manufacturer": string,
        "ParentID": string,
        "ProblemCode": int,
        "StatusCode": int
    },...
]}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Интернет вещей

---
## Dump collection
---
### <a name="get-the-list-of-all-crash-dumps-for-apps"></a>Получение списка всех аварийных дампов для приложений

**Запрос**

Список всех доступных аварийных дампов для всех неопубликованных приложений можно получить, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/debug/dump/usermode/dumps
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ включает список аварийных дампов для каждого неопубликованного приложения.

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Window Mobile (в программе предварительной оценки Windows)
* Настольный компьютер с Windows
* HoloLens
* Интернет вещей

---
### <a name="get-the-crash-dump-collection-settings-for-an-app"></a>Получение параметров коллекции аварийных дампов для приложения

**Запрос**

Параметры коллекции аварийных дампов для неопубликованного приложения можно получить, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/debug/dump/usermode/crashcontrol
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
packageFullname   | (**необходимо**) Полное имя пакета для неопубликованного приложения.
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Этот ответ имеет указанный ниже формат.
```
{"CrashDumpEnabled": bool}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Window Mobile (в программе предварительной оценки Windows)
* Настольный компьютер с Windows
* HoloLens
* Интернет вещей

---
### <a name="delete-a-crash-dump-for-a-sideloaded-app"></a>Удаление аварийного дампа неопубликованного приложения

**Запрос**

Аварийный дамп неопубликованного приложения можно удалить с помощью следующего формата запросов.
 
Метод      | URI запроса
:------     | :-----
DELETE | /api/debug/dump/usermode/crashdump
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
packageFullname   | (**необходимо**) Полное имя пакета для неопубликованного приложения.
fileName   | (**необходимо**) Имя файла дампа, который следует удалить.
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Window Mobile (в программе предварительной оценки Windows)
* Настольный компьютер с Windows
* HoloLens
* Интернет вещей

---
### <a name="disable-crash-dumps-for-a-sideloaded-app"></a>Отключение аварийных дампов для неопубликованного приложения

**Запрос**

Аварийные дампы для неопубликованного приложения можно отключить с помощью следующего формата запросов.
 
Метод      | URI запроса
:------     | :-----
DELETE | /api/debug/dump/usermode/crashcontrol

<br />
**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
packageFullname   | (**необходимо**) Полное имя пакета для неопубликованного приложения.
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Window Mobile (в программе предварительной оценки Windows)
* Настольный компьютер с Windows
* HoloLens
* Интернет вещей

---
### <a name="download-the-crash-dump-for-a-sideloaded-app"></a>Загрузка аварийного дампа для неопубликованного приложения

**Запрос**

Аварийный дамп неопубликованного приложения можно загрузить, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/debug/dump/usermode/crashdump
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
packageFullname   | (**необходимо**) Полное имя пакета для неопубликованного приложения.
fileName   | (**необходимо**) Имя файла дампа, который следует загрузить.
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ включает файл дампа. Для изучения файла дампа можно использовать WinDbg или Visual Studio.

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Window Mobile (в программе предварительной оценки Windows)
* Настольный компьютер с Windows
* HoloLens
* Интернет вещей

---
### <a name="enable-crash-dumps-for-a-sideloaded-app"></a>Включение аварийных дампов для неопубликованного приложения

**Запрос**

Аварийные дампы для неопубликованного приложения можно включить с помощью следующего формата запросов.
 
Метод      | URI запроса
:------     | :-----
POST | /api/debug/dump/usermode/crashcontrol
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
packageFullname   | (**необходимо**) Полное имя пакета для неопубликованного приложения.
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
<br />
**Доступные семейства устройств**

* Window Mobile (в программе предварительной оценки Windows)
* Настольный компьютер с Windows
* HoloLens
* Интернет вещей

---
### <a name="get-the-list-of-bugcheck-files"></a>Получение списка файлов проверки ошибок

**Запрос**

Список файлов мини-дампа для проверки ошибок можете получить с помощью следующего формата запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/debug/dump/kernel/dumplist
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ включает список имен файлов дампа, а также размеры этих файлов. Этот список будет иметь следующий формат. 
```
{"DumpFiles": [
    {
        "FileName": string,
        "FileSize": int
    },...
]}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
<br />
**Доступные семейства устройств**

* Windows Desktop
* IoT

---
### <a name="download-a-bugcheck-dump-file"></a>Загрузка файла дампа для проверки ошибок

**Запрос**

Файл дампа для проверки ошибок можно загрузить с помощью следующего формата запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/debug/dump/kernel/dump
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
filename   | (**необходимо**) Имя файла дампа. Вы можете найти это с помощью API для получения списка дампов.
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ включает файл дампа. Вы можете осмотреть этот файл с помощью WinDbg.

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Desktop
* IoT

---
### <a name="get-the-bugcheck-crash-control-settings"></a>Получение параметров контроля сбоев с использованием проверки ошибок

**Запрос**

Параметры контроля сбоев с использованием проверки ошибок можно получить, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/debug/dump/kernel/crashcontrol

<br />
**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ включает параметры контроля сбоев. Подробнее о CrashControl см. в статье [CrashControl](https://technet.microsoft.com/library/cc951703.aspx). Шаблон для этого ответа выглядит следующим образом.
```
{
    "autoreboot": bool (0 or 1),
    "dumptype": int (0 to 4),
    "maxdumpcount": int,
    "overwrite": bool (0 or 1)
}
```

**Типы дампов**

0: Отключен

1: Полный дамп памяти (собирает всю используемую память)

2: Дамп памяти ядра (игнорирует память в режиме пользователя)

3: Ограниченный мини-дамп ядра

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Desktop
* IoT

---
### <a name="get-a-live-kernel-dump"></a>Получение дампа ядра в режиме реального времени

**Запрос**

Дамп ядра в режиме реального времени можно получить с помощью следующего формата запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/debug/dump/livekernel
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ включает полный дамп режима ядра. Вы можете осмотреть этот файл с помощью WinDbg.

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Desktop
* IoT

---
### <a name="get-a-dump-from-a-live-user-process"></a>Получение дампа из пользовательского процесса в режиме реального времени

**Запрос**

Дамп из пользовательского процесса в режиме реального времени можно получить, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/debug/dump/usermode/live
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
pid   | (**необходимо**) Уникальный идентификатор интересующего вас процесса.
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ включает дамп процесса. Вы можете осмотреть этот файл с помощью WinDbg или Visual Studio.

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Desktop
* IoT

---
### <a name="set-the-bugcheck-crash-control-settings"></a>Определение параметров контроля сбоев с использованием проверки ошибок

**Запрос**

Параметры для сбора данных проверки ошибок можно настроить с помощью следующего формата запроса.
 
Метод      | URI запроса
:------     | :-----
POST | /api/debug/dump/kernel/crashcontrol
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
autoreboot   | (**необязательно**) True или false. Показывает, перезапускается ли система автоматически после сбоев или блокировок.
dumptype   | (**необязательно**) Тип дампа. Сведения о поддерживаемых значениях см. в разделе [Перечисление CrashDumpType](https://msdn.microsoft.com/library/azure/microsoft.azure.management.insights.models.crashdumptype.aspx).
maxdumpcount   | (**необязательно**) Максимальное количество дампов для сохранения.
перезапись   | (**необязательно**) True или false. Указывает, следует ли перезаписывать старые дампы, если достигнут предел счетчика дампов, указанный в параметре *maxdumpcount*.
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Desktop
* Интернет вещей

---
## ETW
---
### <a name="create-a-realtime-etw-session-over-a-websocket"></a>Создание сеанса трассировки событий Windows по веб-сокету в режиме реального времени

**Запрос**

Можно создать сеанс трассировки событий Windows в режиме реального времени, используя следующий формат запроса. Процесс будет управляться по веб-сокету.  События трассировки событий Windows упаковываются на сервере и отправляются клиенту раз в секунду. 
 
Метод      | URI запроса
:------     | :-----
GET/WebSocket | /api/etw/session/realtime
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ включает события трассировки событий Windows от включенных поставщиков.  Команды WebSocket трассировки событий Windows представлены ниже. 

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* IoT

### <a name="etw-websocket-commands"></a>Команды WebSocket трассировки событий Windows
Эти команды отправляются с клиента на сервер.

Команда | Описание
:----- | :-----
включение *{level}* поставщика *{guid}* | Включите поставщик, отмеченный *{guid}*, (без кавычек) на указанном уровне. *{level}* является значением типа **int** от 1 (наименьшее количество подробных данных) до 5 (подробные данные).
отключение поставщика *{guid}* | Включите поставщик, отмеченный *{guid}* (без кавычек).

Эти ответы отправляются с сервера клиенту. Этот код отправляется в виде текста и вы получаете следующий формат путем синтаксического анализа JSON.
```
{
    "Events":[
        {
            "Timestamp": int,
            "ProviderName": string,
            "ID": int, 
            "TaskName": string,
            "Keyword": int,
            "Level": int,
            payload objects...
        },...
    ],
    "Frequency": int
}
```

Объекты полезных данных представляют собой дополнительные пары «ключ-значение» (string:string), предоставляемые в исходном событии трассировки событий Windows.

Пример:
```
{
    "ID" : 42, 
    "Keyword" : 9223372036854775824, 
    "Level" : 4, 
    "Message" : "UDPv4: 412 bytes transmitted from 10.81.128.148:510 to 132.215.243.34:510. ",
    "PID" : "1218", 
    "ProviderName" : "Microsoft-Windows-Kernel-Network", 
    "TaskName" : "KERNEL_NETWORK_TASK_UDPIP", 
    "Timestamp" : 131039401761757686, 
    "connid" : "0", 
    "daddr" : "132.245.243.34", 
    "dport" : "500", 
    "saddr" : "10.82.128.118", 
    "seqnum" : "0", 
    "size" : "412", 
    "sport" : "500"
}
```

---
### <a name="enumerate-the-registered-etw-providers"></a>Перечисление зарегистрированных поставщиков трассировки событий Windows

**Запрос**

Можно перечислить зарегистрированных поставщиков, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/etw/providers
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ включает список поставщиков трассировки событий Windows. Список будет содержать понятное имя и идентификатор GUID для каждого поставщика в следующем формате.
```
{"Providers": [
    {
        "GUID": string, (GUID)
        "Name": string
    },...
]}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* IoT

---
### <a name="enumerate-the-custom-etw-providers-exposed-by-the-platform"></a>Вывод списка настраиваемых поставщиков трассировки событий Windows, предоставляемых платформой.

**Запрос**

Можно перечислить зарегистрированных поставщиков, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/etw/customproviders
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

200 OK. Ответ включает список поставщиков трассировки событий Windows. Список включает понятное имя и идентификатор GUID для каждого поставщика.

```
{"Providers": [
    {
        "GUID": string, (GUID)
        "Name": string
    },...
]}
```

**Код состояния**

- Стандартные коды состояния.
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* Интернет вещей

---
## OS information
---
### <a name="get-the-machine-name"></a>Получение имени компьютера

**Запрос**

Имя компьютера можно получить, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/os/machinename
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ содержит имя компьютера в следующем формате. 

```
{"ComputerName": string}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* IoT

---
### <a name="get-the-operating-system-information"></a>Получение сведений об операционной системе

**Запрос**

Сведения об ОС на компьютере можно получить, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/os/info
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ содержит данные об операционной системе в следующем формате.

```
{
    "ComputerName": string,
    "OsEdition": string,
    "OsEditionId": int,
    "OsVersion": string,
    "Platform": string
}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* IoT

---
### <a name="get-the-device-family"></a>Определение семейства устройств 

**Запрос**

Семейство устройств (Xbox, телефон, настольный компьютер и т. д.) можно определить с помощью следующего формата запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/os/devicefamily
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ включает семейство устройств (SKU — настольный ПК, Xbox, и т. д.).

```
{
   "DeviceType" : string
}
```

Параметр DeviceType имеет значения Windows.Xbox, Windows.Desktop и т. д. 

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок

**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* IoT

---
### <a name="set-the-machine-name"></a>Определение имени компьютера

**Запрос**

Имя компьютера можно задать, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
POST | /api/os/machinename
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
name | (**необходимо**) Новое имя компьютера.
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* Интернет вещей

---
## Performance data
---
### <a name="get-the-list-of-running-processes"></a>Получение списка выполняемых процессов

**Запрос**

Список работающих в настоящее время процессов можно получить, используя следующий формат запроса.  Его также можно обновить до подключения WebSocket с теми же данными JSON, отправляемыми клиенту раз в секунду. 
 
Метод      | URI запроса
:------     | :-----
GET | /api/resourcemanager/processes
GET/WebSocket | /api/resourcemanager/processes
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ включает список процессов со сведениями по каждому процессу. Информация предоставляется в формате JSON и имеет следующий шаблон.
```
{"Processes": [
    {
        "CPUUsage": int,
        "ImageName": string,
        "PageFileUsage": int,
        "PrivateWorkingSet": int,
        "ProcessId": int,
        "SessionId": int,
        "UserName": string,
        "VirtualSize": int,
        "WorkingSetSize": int
    },...
]}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* IoT

---
### <a name="get-the-system-performance-statistics"></a>Получение статистики производительности системы

**Запрос**

Статистику производительности системы можно получить с помощью следующего формата запроса. Сюда входит такая информация, как циклы чтения и записи, а также сведения об использовании памяти.
 
Метод      | URI запроса
:------     | :-----
GET | /api/resourcemanager/systemperf
GET/WebSocket | /api/resourcemanager/systemperf
<br />
Также можно обновить до подключения WebSocket.  Оно предоставляет одинаковые данные JSON, представленные ниже, один раз в секунду. 

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ включает статистику производительности системы, например использование ЦП и GPU, доступ к памяти и доступ к сети. Эта информация предоставляется в формате JSON и имеет следующий шаблон.
```
{
    "AvailablePages": int,
    "CommitLimit": int,
    "CommittedPages": int,
    "CpuLoad": int,
    "IOOtherSpeed": int,
    "IOReadSpeed": int,
    "IOWriteSpeed": int,
    "NonPagedPoolPages": int,
    "PageSize": int,
    "PagedPoolPages": int,
    "TotalInstalledInKb": int,
    "TotalPages": int,
    "GPUData": 
    {
        "AvailableAdapters": [{ (One per detected adapter)
            "DedicatedMemory": int,
            "DedicatedMemoryUsed": int,
            "Description": string,
            "SystemMemory": int,
            "SystemMemoryUsed": int,
            "EnginesUtilization": [ float,... (One per detected engine)]
        },...
    ]},
    "NetworkingData": {
        "NetworkInBytes": int,
        "NetworkOutBytes": int
    }
}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* Интернет вещей

---
## Power
---
### <a name="get-the-current-battery-state"></a>Получение текущего состояния аккумулятора

**Запрос**

Данные о текущем состоянии аккумулятора можно получить, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/power/battery
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Текущая информация о состоянии батареи возвращается в следующем формате.
```
{
    "AcOnline": int (0 | 1),
    "BatteryPresent": int (0 | 1),
    "Charging": int (0 | 1),
    "DefaultAlert1": int,
    "DefaultAlert2": int,
    "EstimatedTime": int,
    "MaximumCapacity": int,
    "RemainingCapacity": int
}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* Интернет вещей

---
### <a name="get-the-active-power-scheme"></a>Получение активной схемы питания

**Запрос**

Данные об активной схеме питания можно получить, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/power/activecfg
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Активная схема питания имеет следующий формат.
```
{"ActivePowerScheme": string (guid of scheme)}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Desktop
* IoT

---
### <a name="get-the-sub-value-for-a-power-scheme"></a>Получение вспомогательного значения для схемы питания

**Запрос**

Данные о вспомогательном значении для схемы питания можно получить, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/power/cfg/*<power scheme path>*
<br />
Параметры:
- SCHEME_CURRENT

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

Полный список доступных состояний питания предоставляется по количеству приложений и в соответствии с параметрами для отметки состояний питания, таких как «низкий заряд батареи» и «почти полная разрядка батареи». 

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Desktop
* IoT

---
### <a name="get-the-power-state-of-the-system"></a>Получение состояния питания системы

**Запрос**

Состояние питания системы можно проверить, используя следующий формат запроса. Это позволяет проверить, находится ли устройство в состоянии низкого энергопотребления.
 
Метод      | URI запроса
:------     | :-----
GET | /api/power/state
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Данные о состоянии питания имеют следующий шаблон.
```
{"LowPowerStateAvailable": bool}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Desktop
* HoloLens
* IoT

---
### <a name="set-the-active-power-scheme"></a>Определение активной схемы питания

**Запрос**

Активную схему питания можно задать, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
POST | /api/power/activecfg
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
схема | (**необходимо**) Индикатор GUID для схемы, которую следует задать в качестве активной схемы электропитания для системы.
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Desktop
* IoT

---
### <a name="set-the-sub-value-for-a-power-scheme"></a>Определение вспомогательного значения для схемы питания

**Запрос**

Вспомогательное значение для схемы питания можно установить, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
POST | /api/power/cfg/*<power scheme path>*
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
valueAC | (**необходимо**) Значение, используемое для питания переменного тока.
valueDC | (**необходимо**) Значение, используемое для питания от аккумулятора.
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
<br />
**Доступные семейства устройств**

* Windows Desktop
* IoT

---
### <a name="get-a-sleep-study-report"></a>Получение отчета изучения спящего режима

**Запрос**

Метод      | URI запроса
:------     | :-----
GET | /api/power/sleepstudy/report
<br />
Отчет изучения спящего режима можно получить, используя следующий формат запроса.

**Параметры URI**
Параметр URI | Описание
:---          | :---
FileName | (**необходимо**) Полное имя файла, который необходимо скачать. Это значение должно кодироваться в hex64.
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ— это файл, содержащий изучение спящего режима. 

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Desktop
* IoT

---
### <a name="enumerate-the-available-sleep-study-reports"></a>Перечисление доступных отчетов изучения спящего режима

**Запрос**

Доступные отчеты изучения спящего режима можно перечислить, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/power/sleepstudy/reports
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Список доступных отчетов имеет следующий шаблон.

```
{"Reports": [
    {
        "FileName": string
    },...
]}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Desktop
* IoT

---
### <a name="get-the-sleep-study-transform"></a>Получение преобразования изучения спящего режима

**Запрос**

Преобразование изучения спящего режима можно получить, используя следующий формат запроса. Этим преобразованием является XSLT для преобразования отчета изучения спящего режима в XML-формат, который может быть прочитан любым пользователем.
 
Метод      | URI запроса
:------     | :-----
GET | /api/power/sleepstudy/transform
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ содержит преобразование изучения спящего режима.

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Desktop
* Интернет вещей

---
## Remote control
---
### <a name="restart-the-target-computer"></a>Перезапуск целевого компьютера

**Запрос**

Можно перезапустить целевой компьютер, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
POST | /api/control/restart
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* IoT

---
### <a name="shut-down-the-target-computer"></a>Завершение работы на целевом компьютере

**Запрос**

Завершить работу целевого компьютера можно с помощью следующего формата запроса.
 
Метод      | URI запроса
:------     | :-----
POST | /api/control/shutdown
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* Интернет вещей

---
## Task manager
---
### <a name="start-a-modern-app"></a>Запуск современного приложения

**Запрос**

Современное приложение можно запустить с помощью следующего формата запроса.
 
Метод      | URI запроса
:------     | :-----
POST | /api/taskmanager/app
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
appid   | (**необходимо**) PRAID для приложения, которое необходимо запустить. Это значение должно кодироваться в hex64.
пакет   | (**необходимо**) Полное имя пакета приложения, которое необходимо запустить. Это значение должно кодироваться в hex64.
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* IoT

---
### <a name="stop-a-modern-app"></a>Остановка современного приложения

**Запрос**

Современное приложение можно остановить с помощью следующего формата запроса.
 
Метод      | URI запроса
:------     | :-----
DELETE | /api/taskmanager/app
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
пакет   | (**необходимо**) Полное имя пакетов приложений, которые необходимо остановить. Это значение должно кодироваться в hex64.
forcestop   | (**необязательно**) Значение **да** указывает, что система должна принудительно останавливать все процессы.
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* Интернет вещей

---
## Networking
---
### <a name="get-the-current-ip-configuration"></a>Получение текущей конфигурации IP

**Запрос**

Текущую конфигурацию IP можно получить, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/networking/ipconfig
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Ответ содержит конфигурацию IP в следующем формате.

```
{"Adapters": [
    {
        "Description": string,
        "HardwareAddress": string,
        "Index": int,
        "Name": string,
        "Type": string,
        "DHCP": {
            "LeaseExpires": int, (timestamp)
            "LeaseObtained": int, (timestamp)
            "Address": {
                "IpAddress": string,
                "Mask": string
            }
        },
        "WINS": {(WINS is optional)
            "Primary": {
                "IpAddress": string,
                "Mask": string
            },
            "Secondary": {
                "IpAddress": string,
                "Mask": string
            }
        },
        "Gateways": [{ (always 1+)
            "IpAddress": "10.82.128.1",
            "Mask": "255.255.255.255"
            },...
        ],
        "IpAddresses": [{ (always 1+)
            "IpAddress": "10.82.128.148",
            "Mask": "255.255.255.0"
            },...
        ]
    },...
]}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* IoT

--
### <a name="enumerate-wireless-network-interfaces"></a>Перечисление интерфейсов беспроводной сети

**Запрос**

Доступные интерфейсы беспроводной сети можно перечислять, используя следующий формат запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/wifi/interfaces
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Список доступных беспроводных интерфейсов с подробными сведениями имеет следующий формат.

``` 
{"Interfaces": [{
    "Description": string,
    "GUID": string (guid with curly brackets),
    "Index": int,
    "ProfilesList": [
        {
            "GroupPolicyProfile": bool,
            "Name": string, (Network currently connected to)
            "PerUserProfile": bool
        },...
    ]
    }
]}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* IoT

---
### <a name="enumerate-wireless-networks"></a>Перечисление беспроводных сетей

**Запрос**

Список беспроводных сетей на указанном интерфейсе можно перечислить с помощью следующего формата запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/wifi/networks
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
интерфейс   | (**необходимо**) GUID для сетевого интерфейса для использования в целях поиска беспроводных сетей, без кавычек. 
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Список беспроводных сетей, найденных на указанном *интерфейсе*. Сюда относятся сведения о сетях в следующем формате.

```
{"AvailableNetworks": [
    {
        "AlreadyConnected": bool,
        "AuthenticationAlgorithm": string, (WPA2, etc)
        "Channel": int,
        "CipherAlgorithm": string, (e.g. AES)
        "Connectable": int, (0 | 1)
        "InfrastructureType": string,
        "ProfileAvailable": bool,
        "ProfileName": string,
        "SSID": string,
        "SecurityEnabled": int, (0 | 1)
        "SignalQuality": int,
        "BSSID": [int,...],
        "PhysicalTypes": [string,...]
    },...
]}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* IoT

---
### <a name="connect-and-disconnect-to-a-wi-fi-network"></a>Подключение и отключение к сети Wi-Fi.

**Запрос**

Подключиться к сети Wi-Fi или отключиться от нее можно с помощью следующего формата запроса.
 
Метод      | URI запроса
:------     | :-----
POST | /api/wifi/network
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
интерфейс   | (**необходимо**) GUID для сетевого интерфейса, используемого для подключения к сети.
op   | (**необходимо**) Указывает действие, которое необходимо предпринять. Возможные значения: подключить и отключить.
ssid   | (**необходимо, если *op* == connect**) SSID, к которому следует подключиться.
key   | (**необходимо, если *op* == connect и необходима проверка подлинности сети**) Общий ключ.
createprofile | (**необходимо**) Создайте профиль для сети на устройстве.  В результате устройство будет автоматически подключаться к сети. Этим значением может быть **yes (да)** или **no (нет)**. 

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* IoT

---
### <a name="delete-a-wi-fi-profile"></a>Удаление профиля Wi-Fi

**Запрос**

Профиль, связанный с сетью на определенном интерфейсе, можно удалить с помощью следующего формата запросов.
 
Метод      | URI запроса
:------     | :-----
DELETE | /api/wifi/network
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
интерфейс   | (**необходимо**) GUID для сетевого интерфейса, связанного с удаляемым профилем.
профиль   | (**необходимо**) Имя профиля для удаления.
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* Интернет вещей

---
## Windows Error Reporting (WER)
---
### <a name="download-a-windows-error-reporting-wer-file"></a>Загрузка файла отчета об ошибках Windows (WER)

**Запрос**

Файл WER можно скачать с помощью следующего формата запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/wer/report/file
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
пользователь   | (**необходимо**) Имя пользователя, связанное с отчетом.
тип   | (**необходимо**) Тип отчета. Это может быть или **в очереди**, или **в архиве**.
name   | (**необходимо**) Имя отчета. Должно быть закодировано в формате base64. 
file   | (**необходимо**) Имя файла для загрузки из отчета. Должно быть закодировано в формате base64. 
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

- Ответ содержит запрошенный файл. 

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Desktop
* HoloLens
* IoT

---
### <a name="enumerate-files-in-a-windows-error-reporting-wer-report"></a>Перечисление файлов в отчете об ошибках Windows (WER)

**Запрос**

Файлы в отчете WER можно перечислить с помощью следующего формата запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/wer/report/files
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
пользователь   | (**необходимо**) Пользователь, связанный с отчетом.
тип   | (**необходимо**) Тип отчета. Это может быть или **в очереди**, или **в архиве**.
name   | (**необходимо**) Имя отчета. Должно быть закодировано в формате base64. 
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

```
{"Files": [
    {
        "Name": string, (Filename, not base64 encoded)
        "Size": int (bytes)
    },...
]}
```

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Desktop
* HoloLens
* IoT

---
### <a name="list-the-windows-error-reporting-wer-reports"></a>Список отчетов об ошибках Windows (WER)

**Запрос**

Отчеты WER можно получить с помощью следующего формата запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/wer/reports
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Отчеты WER в следующем формате.

```
{"WerReports": [
    {
        "User": string,
        "Reports": [
            {
                "CreationTime": int,
                "Name": string, (not base64 encoded)
                "Type": string ("Queue" or "Archive")
            },
    },...
]}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Desktop
* HoloLens
* Интернет вещей

---
## Windows Performance Recorder (WPR) 
---
### <a name="start-tracing-with-a-custom-profile"></a>Запуск трассировки с использованием пользовательского профиля

**Запрос**

Можно передать профиль WPR и запустить трассировку с использованием этого профиля, используя следующий формат запроса.  Одновременно может выполняться только одна трассировка. Профиль не останется на устройстве. 
 
Метод      | URI запроса
:------     | :-----
POST | /api/wpr/customtrace
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Многокомпонентная основная часть http, которая содержит пользовательский профиль WPR.

**Ответ**

Состояние сеанса WPR в следующем формате.

```
{
    "SessionType": string, (Running or Idle) 
    "State": string (normal or boot)
}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* IoT

---
### <a name="start-a-boot-performance-tracing-session"></a>Начало сеанса трассировки производительности загрузки

**Запрос**

Можно запустить сеанс трассировки WPR с использованием следующего формата запроса. Этот сеанс также называется сеансом трассировки производительности.
 
Метод      | URI запроса
:------     | :-----
POST | /api/wpr/boottrace
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
профиль   | (**необходимо**) Этот параметр требуется при запуске. Имя профиля, который должен запускать сеанс трассировки производительности. Возможные профили сохраняются в perfprofiles/profiles.json.
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Сначала этот API-интерфейс возвращает состояние сеанса WPR в следующем формате.

```
{
    "SessionType": string, (Running or Idle) 
    "State": string (boot)
}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* IoT

---
### <a name="stop-a-boot-performance-tracing-session"></a>Остановка сеанса трассировки производительности загрузки

**Запрос**

Можно остановить сеанс трассировки WPR с использованием следующего формата запроса. Этот сеанс также называется сеансом трассировки производительности.
 
Метод      | URI запроса
:------     | :-----
GET | /api/wpr/boottrace
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

-  Нет.  **Примечание.** Выполнение данной операции занимает значительное время.  Значение возвращается, после того как ETL завершит запись на диск.

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* IoT

---
### <a name="start-a-performance-tracing-session"></a>Запуск сеанса трассировки производительности

**Запрос**

Можно запустить сеанс трассировки WPR с использованием следующего формата запроса. Этот сеанс также называется сеансом трассировки производительности.  Одновременно может выполняться только одна трассировка. 
 
Метод      | URI запроса
:------     | :-----
POST | /api/wpr/trace
<br />

**Параметры URI**

В запросе URI можно указать следующие дополнительные параметры.

Параметр URI | Описание
:---          | :---
профиль   | (**необходимый**) Имя профиля, который должен запускать сеанс трассировки производительности. Возможные профили сохраняются в perfprofiles/profiles.json.
<br />
**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Сначала этот API-интерфейс возвращает состояние сеанса WPR в следующем формате.

```
{
    "SessionType": string, (Running or Idle) 
    "State": string (normal)
}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* IoT

---
### <a name="stop-a-performance-tracing-session"></a>Остановка сеанса трассировки производительности

**Запрос**

Можно остановить сеанс трассировки WPR с использованием следующего формата запроса. Этот сеанс также называется сеансом трассировки производительности.
 
Метод      | URI запроса
:------     | :-----
GET | /api/wpr/trace
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

- Нет.  **Примечание.** Выполнение данной операции занимает значительное время.  Значение возвращается, после того как ETL завершит запись на диск.  

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* IoT

---
### <a name="retrieve-the-status-of-a-tracing-session"></a>Получение состояния сеанса трассировки

**Запрос**

Состояние текущего сеанса WPR можно получить с помощью следующего формата запроса.
 
Метод      | URI запроса
:------     | :-----
GET | /api/wpr/status
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Состояние сеанса трассировки WPR в следующем формате.

```
{
    "SessionType": string, (Running or Idle) 
    "State": string (normal or boot)
}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* IoT

---
### <a name="list-completed-tracing-sessions-etls"></a>Список завершенных сеансов трассировки (ETL)

**Запрос**

Список трассировок ETL на устройстве можно получить, используя следующий формат запроса. 

Метод      | URI запроса
:------     | :-----
GET | /api/wpr/tracefiles
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

Список завершенных сеансов трассировки предоставляется в следующем формате.

```
{"Items": [{
    "CurrentDir": string (filepath),
    "DateCreated": int (File CreationTime),
    "FileSize": int (bytes),
    "Id": string (filename),
    "Name": string (filename),
    "SubPath": string (filepath),
    "Type": int
}]}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* IoT

---
### <a name="download-a-tracing-session-etl"></a>Загрузка сеанса трассировки (ETL)

**Запрос**

Файл трассировки (трассировка загрузки или трассировка в режиме пользователя) можно загрузить с помощью следующего формата запроса. 

Метод      | URI запроса
:------     | :-----
GET | /api/wpr/tracefile
<br />

**Параметры URI**

В URI запроса можно указать следующий дополнительный параметр.

Параметр URI | Описание
:---          | :---
filename   | (**Обязательный**) Имя загружаемого файла трассировки ETL.  Его можно найти, используя путь /api/wpr/tracefiles

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

- Возвращает ETL-файл трассировки.

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* IoT

---
### <a name="delete-a-tracing-session-etl"></a>Удаление сеанса трассировки (ETL)

**Запрос**

Файл трассировки (трассировка загрузки или трассировка в режиме пользователя) можно удалить с помощью следующего формата запроса. 

Метод      | URI запроса
:------     | :-----
DELETE | /api/wpr/tracefile
<br />

**Параметры URI**

В URI запроса можно указать следующий дополнительный параметр.

Параметр URI | Описание
:---          | :---
filename   | (**Обязательный**) Имя удаляемого файла трассировки ETL.  Его можно найти, используя путь /api/wpr/tracefiles

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

- Возвращает ETL-файл трассировки.

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* Интернет вещей

---
## DNS-SD Tags 
---
### <a name="view-tags"></a>Просмотр тегов

**Запрос**

Просмотр применяемых в настоящее время к устройству тегов.  Они объявляются с помощью записей DNS-SD TXT в ключе T.  
 
Метод      | URI запроса
:------     | :-----
GET | /api/dns-sd/tags
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**: применяемые в данный момент теги в следующем формате. 
```
 {
    "tags": [
        "tag1", 
        "tag2", 
        ...
     ]
}
```

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
5XX | Ошибка сервера 

<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* IoT

---
### <a name="delete-tags"></a>Удаление тегов

**Запрос**

Удаление всех тегов, объявленных DNS-SD в настоящее время.   
 
Метод      | URI запроса
:------     | :-----
DELETE | /api/dns-sd/tags
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**
 - Нет

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
5XX | Ошибка сервера 

<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* IoT

---
### <a name="delete-tag"></a>Удаление тега

**Запрос**

Удаление тега, объявленного DNS-SD в настоящее время.   
 
Метод      | URI запроса
:------     | :-----
DELETE | /api/dns-sd/tag
<br />

**Параметры URI**

Параметр URI | Описание
:------     | :-----
tagValue | (**обязательно**) Тег, который необходимо удалить.

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**
 - Нет

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК

<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* IoT
 
---
### <a name="add-a-tag"></a>Добавление тега

**Запрос**

Добавление тега в объявление DNS-SD.   
 
Метод      | URI запроса
:------     | :-----
POST | /api/dns-sd/tag
<br />

**Параметры URI**

Параметр URI | Описание
:------     | :-----
tagValue | (**обязательно**) Тег, который необходимо добавить.

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**
 - Нет

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
401 | Переполнение пространства тегов.  Появляется, если длина предлагаемого тега слишком велика для получаемой записи службы DNS-SD.  

<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* Xbox
* HoloLens
* IoT

## <a name="app-file-explorer"></a>Проводник приложений

---
### <a name="get-known-folders"></a>Получение известных папок

**Запрос**

Получение списка доступных папок верхнего уровня.

Метод      | URI запроса
:------     | :-----
GET | /api/filesystem/apps/knownfolders
<br />

**Параметры URI**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**: доступные папки в следующем формате. 
```
 {"KnownFolders": [
    "folder0",
    "folder1",...
]}
```
**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | Принятый и обрабатываемый запрос на развертывание
4XX | Коды ошибок
5XX | Коды ошибок
<br />

**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* Xbox
* IoT

---
### <a name="get-files"></a>Получение файлов

**Запрос**

Получение списка файлов в папке.

Метод      | URI запроса
:------     | :-----
GET | /api/filesystem/apps/files
<br />

**Параметры URI**

Параметр URI | Описание
:------     | :-----
knownfolderid | (**обязательно**) Каталог верхнего уровня, для которого требуется список файлов. Использование **LocalAppData** для доступа в неопубликованные приложения. 
packagefullname | (**обязательно, если *knownfolderid* == LocalAppData**) Полное имя пакета интересующего вас приложения. 
path | (**необязательно**) Вложенный каталог в папке или пакете, указанном выше. 

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**: доступные папки в следующем формате. 
```
{"Items": [
    {
        "CurrentDir": string (folder under the requested known folder),
        "DateCreated": int,
        "FileSize": int (bytes),
        "Id": string,
        "Name": string,
        "SubPath": string (present if this item is a folder, this is the name of the folder),
        "Type": int
    },...
]}
```
**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* Xbox
* IoT

---
### <a name="download-a-file"></a>Загрузка файла

**Запрос**

Получение файла из известной папки или каталога appLocalData.

Метод      | URI запроса
:------     | :-----
GET | /api/filesystem/apps/file

**Параметры URI**

Параметр URI | Описание
:------     | :-----
knownfolderid | (**обязательно**) Каталог верхнего уровня, в который требуется скачать файлы. Использование **LocalAppData** для доступа в неопубликованные приложения. 
filename | (**обязательно**) Имя скачиваемого файла. 
packagefullname | (**обязательно, если *knownfolderid* == LocalAppData**) Полное имя интересующего вас пакета. 
path | (**необязательно**) Вложенный каталог в папке или пакете, указанном выше.

**Заголовки запроса**

- Нет

**Тело запроса**

- Запрошенный файл, при наличии

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | Запрошенный файл
404 | Файл не найден
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* Xbox
* IoT

---
### <a name="rename-a-file"></a>Переименуйте файл

**Запрос**

Переименование файла в папке.

Способ      | URI запроса
:------     | :-----
POST | /api/filesystem/apps/rename

<br />
**Параметры универсального кода ресурса (URI)**

Параметр URI | Описание
:------     | :-----
knownfolderid | (**обязательно**) Каталог верхнего уровня, где находится файл. Использование **LocalAppData** для доступа в неопубликованные приложения. 
filename | (**обязательно**) Исходное имя переименуемого файла. 
newfilename | (**обязательно**) Новое имя файла.
packagefullname | (**обязательно, если *knownfolderid* == LocalAppData**) Полное имя пакета интересующего вас приложения. 
path | (**необязательно**) Вложенный каталог в папке или пакете, указанном выше. 

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

- Нет

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | ОК. Файл переименован
404 | Файл не найден
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* Xbox
* IoT

---
### <a name="delete-a-file"></a>Удаление файла

**Запрос**

Удаление файла в папке.

Метод      | URI запроса
:------     | :-----
DELETE | /api/filesystem/apps/file
<br />
**Параметры URI**

Параметр URI | Описание
:------     | :-----
knownfolderid | (**обязательно**) Каталог верхнего уровня, в котором требуется удалить файлы. Использование **LocalAppData** для доступа в неопубликованные приложения. 
filename | (**обязательно**) Имя удаляемого файла. 
packagefullname | (**обязательно, если *knownfolderid* == LocalAppData**) Полное имя пакета интересующего вас приложения. 
path | (**необязательно**) Вложенный каталог в папке или пакете, указанном выше.

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

- Нет 

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | OК. Файл удален
404 | Файл не найден
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* Xbox
* IoT

---
### <a name="upload-a-file"></a>Отправка файла

**Запрос**

Отправка файла в папку.  При этом производится запись поверх существующего файла с тем же именем, но новые папки не создаются. 

Метод      | URI запроса
:------     | :-----
POST | /api/filesystem/apps/file
<br />
**Параметры URI**

Параметр URI | Описание
:------     | :-----
knownfolderid | (**обязательно**) Каталог верхнего уровня, в который требуется отправить файлы. Использование **LocalAppData** для доступа в неопубликованные приложения.
packagefullname | (**обязательно, если *knownfolderid* == LocalAppData**) Полное имя пакета интересующего вас приложения. 
path | (**необязательно**) Вложенный каталог в папке или пакете, указанном выше.

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | OК. Файл отправлен
4XX | Коды ошибок
5XX | Коды ошибок
<br />
**Доступные семейства устройств**

* Windows Mobile
* Windows Desktop
* HoloLens
* Xbox
* IoT