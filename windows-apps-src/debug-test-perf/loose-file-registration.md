---
title: Развертывание приложения с использованием свободной регистрации файлов
description: В этом руководстве показано, как использовать макет свободных файлов для проверки и публикации приложений для Windows 10 без необходимости в их упаковке.
ms.date: 06/01/2018
ms.topic: article
keywords: Windows 10, UWP, портал устройств, диспетчер приложений, развертывание, пакет SDK
ms.localizationpriority: medium
ms.openlocfilehash: 7bf3dab97be67a3b97aca4b3132bd9fe18691d15
ms.sourcegitcommit: 26bb75084b9d2d2b4a76d4aa131066e8da716679
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2020
ms.locfileid: "75681935"
---
# <a name="deploy-an-app-through-loose-file-registration"></a>Развертывание приложения с использованием свободной регистрации файлов 

В этом руководстве показано, как использовать макет свободных файлов для проверки и публикации приложений для Windows 10 без необходимости в их упаковке. Регистрация свободных макетов файлов позволяет разработчикам быстро проверить свои приложения без необходимости упаковки и установки приложений. 

## <a name="what-is-a-loose-file-layout"></a>Что такое разметка свободного файла?

Свободная структура файлов — это просто процесс размещения содержимого приложения в папке, а не в процессе упаковки. Содержимое пакета "слабо" доступно в папке, а не упаковано. 

> [!WARNING]
> Свободная регистрация в макете файлов предназначена для того, чтобы разработчики и дизайнеры могли быстро проверить свои приложения во время активной разработки. Этот подход не должен использоваться для «тестовая версия» или рейса приложения. Рекомендуется выполнять окончательную проверку в упакованном приложении, подписанном доверенным сертификатом. 

## <a name="advantages-of-loose-file-registration"></a>Преимущества регистрации свободного файла

- **Быстрая проверка** — так как файлы приложения уже распакованы, пользователи могут быстро зарегистрировать свободный макет файла и запустить приложение. Как и в случае обычного приложения, пользователь может использовать приложение в том виде, в котором оно было создано. 
- **Простое распространение в сети** . Если свободные файлы находятся в общей сетевой папке, а не на локальном диске, разработчики могут отправить расположение общей сетевой папки другим пользователям, имеющим доступ к сети, и зарегистрировать свободный макет файлов и запустить приложение. Это позволяет нескольким пользователям одновременно проверять приложение. 
- **Совместная работа** . Регистрация нестрогого файла позволяет разработчикам и дизайнерам продолжать работу с визуальными ресурсами во время регистрации приложения. Пользователи увидят эти изменения при запуске приложения. Обратите внимание, что можно изменять только статические ресурсы таким образом. Если необходимо изменить любой код или динамически создаваемое содержимое, необходимо выполнить повторную компиляцию приложения.

## <a name="how-to-register-a-loose-file-layout"></a>Как зарегистрировать свободный макет файла

Windows предоставляет несколько средств разработчика для регистрации свободных макетов файлов на локальных и удаленных устройствах. Вы можете выбрать один из `WinDeployAppCmd` (Windows SDK средство), портал устройств Windows, PowerShell и [Visual Studio](https://docs.microsoft.com/windows/uwp/debug-test-perf/deploying-and-debugging-uwp-apps#register-layout-from-network). Ниже мы рассмотрим, как зарегистрировать свободные файлы с помощью этих средств. Но сначала убедитесь в наличии следующих настроек:

- Устройства должны быть в Windows 10 Creators Update (сборка 14965) или более поздней версии.
- Вам потребуется включить [режим разработчика](https://docs.microsoft.com/windows/uwp/get-started/enable-your-device-for-development) и [обнаружение устройств](https://docs.microsoft.com/windows/uwp/get-started/enable-your-device-for-development#device-discovery) на всех устройствах.

> [!IMPORTANT]
> Регистрация свободного файла доступна только на устройствах, поддерживающих протокол сетевого ресурса (SMB): Desktop и Xbox. 

### <a name="register-with-windeployappcmd"></a>Регистрация с помощью Виндеплойаппкмд

При использовании средств SDK, соответствующих обновлению Windows 10 Creators (сборка 14965) или более поздней версии, можно использовать команду `WinDeployAppCmd` в командной строке.

```cmd
WinAppDeployCmd.exe registerfiles -remotedeploydir <Network Path> -ip <IP Address> -pin <target machine PIN>
```

**Сетевой путь** — путь к свободным файлам приложения.

**IP-адрес** — IP-адрес целевого компьютера.

**ПИН-код целевого компьютера** . при необходимости установите подключение к целевому устройству. Если требуется проверка подлинности, вам будет предложено повторить попытку с параметром `-pin`. Сведения о том, как получить ПИН-код, см. в разделе [обнаружение устройств](https://docs.microsoft.com/windows/uwp/get-started/enable-your-device-for-development#device-discovery) .

### <a name="windows-device-portal"></a>Портал устройств Windows

Портал устройств Windows доступен на всех устройствах Windows 10 и используется разработчиками для тестирования и проверки работы. Она занимает всю аудиторию сообщества разработчиков, используя его интерфейсную часть браузера и конечные точки RESTful. Дополнительные сведения о портале устройств см. в статье [Общие сведения о портале устройств Windows](device-portal.md).

Чтобы зарегистрировать свободную структуру файлов на портале устройств, выполните следующие действия.

1. Подключитесь к порталу устройств, выполнив действия, описанные в разделе **Настройка** на [портале устройств Windows обзор](device-portal.md).
1. На вкладке Диспетчер приложений выберите пункт **Регистрация из общей сетевой папки**.
1. Введите путь к сетевой папке в разметке свободного файла. 
1. Если у устройства нет доступа к сетевой папке, появится запрос на ввод необходимых учетных данных.
1. После завершения регистрации можно запустить приложение.

На странице диспетчера приложений на портале устройств можно также зарегистрировать необязательные свободные макеты файлов для основного приложения, установив флажок **я хочу указать дополнительные пакеты** , а затем указав сетевые пути к дополнительным приложениям. 

### <a name="powershell"></a>PowerShell 

Windows PowerShell также позволяет регистрировать свободные макеты файлов, но только на локальном устройстве. Если необходимо зарегистрировать макет на удаленном устройстве, необходимо использовать один из других методов. 

Чтобы зарегистрировать свободный макет файла, запустите PowerShell и введите следующее.

```PowerShell
Add-AppxPackage -Register <path to manifest file>
```

## <a name="troubleshooting"></a>"Устранение неполадок"

### <a name="mapped-network-drives"></a>Сопоставленные сетевые диски
В настоящее время подключенные сетевые диски не поддерживаются для регистрации свободных файлов. Обратитесь к подключенному диску, указав полный путь к сетевой папке.

### <a name="registration-failure"></a>Сбой регистрации
Устройство, на котором выполняется регистрация, должно иметь доступ к макету файла. Если макет файла размещается в общей сетевой папке, убедитесь, что у устройства есть доступ. 

### <a name="modifications-to-visual-assets-arent-being-loaded-in-the-app"></a>Изменения в визуальных ресурсах не загружаются в приложении 
Приложение будет загружать свои визуальные ресурсы во время запуска. Если в визуальных ресурсах были внесены изменения после запуска приложения, необходимо повторно запустить приложение, чтобы просмотреть последние изменения.
