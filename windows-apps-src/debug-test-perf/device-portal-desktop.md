---
ms.assetid: 5c34c78e-9ff7-477b-87f6-a31367cd3f8b
title: Портал устройств для компьютеров с Windows
description: Узнайте, как с помощью Портала устройств для Windows получить доступ к средствам диагностики и автоматизации, доступным на вашем ПК под управлением Windows.
ms.date: 02/6/2019
ms.topic: article
keywords: Windows 10, uwp, портал устройств
ms.localizationpriority: medium
ms.openlocfilehash: 4fe1f2a51199dd12cd1d285c17c5d48c9a25b969
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57654529"
---
# <a name="device-portal-for-windows-desktop"></a>Портал устройств для компьютеров с Windows

С помощью портала устройств Windows можно отображать диагностические сведения и взаимодействовать с ПК по протоколу HTTP из окна браузера. Используя Портал устройств, можно выполнять следующие действия:
- Просматривать список запущенных процессов и управлять им
- Устанавливать, удалять, запускать и завершать работу приложений
- Изменять профили Wi-Fi и просматривать сведения об уровне сигнала (ipconfig)
- Просматривать графики в режиме реального времени со сведениями об использовании ЦП, памяти, устройств ввода-вывода и GPU
- Собирать дампы процессов
- Собирать трассировки событий Windows 
- Работать с изолированным хранилищем неопубликованных приложений

## <a name="set-up-device-portal-on-windows-desktop"></a>Настройка портала устройств на компьютере под управлением Windows

### <a name="turn-on-developer-mode"></a>Включите режим разработчика

Начиная с Windows 10 версии 1607, некоторые новые функции для компьютеров доступны только при включенном режима разработчика. Сведения о том, как включить режим разработчика, см. в разделе[Подготовка устройства для разработки](../get-started/enable-your-device-for-development.md).

> [!IMPORTANT]
> Иногда из-за проблем сети или совместимости режим разработчика может установиться на устройстве неправильно. Инструкции по устранению этих проблем см. в разделе [Включение устройства для разработки](https://docs.microsoft.com/windows/uwp/get-started/enable-your-device-for-development#failure-to-install-developer-mode-package).

### <a name="turn-on-device-portal"></a>Включите портал устройств

Вы можете включить портал устройств в разделе **Для разработчиков** раздела **Параметры**. При включении портала устройств вы должны также создать соответствующие имя пользователя и пароль. Не используйте учетную запись Майкрософт или другие учетные данные Windows. 

![Раздел "Портал устройств" в приложении "Параметры"](images/device-portal/device-portal-desk-settings.png) 

После включения портала устройств в нижней части раздела отобразятся соответствующие веб-ссылки. Запомните номер порта, расположенный в конце указанных URL-адресов: этот номер порта создается случайным образом при включении портала устройств, однако он должен оставаться одинаковым при каждой перезагрузке компьютера. 

Эти ссылки предоставляют возможность подключиться к порталу устройств двумя способами: через локальный узел и по локальной сети (включая VPN).

### <a name="connect-to-device-portal"></a>Подключение к порталу устройств

Чтобы подключиться через локальный узел, откройте окно браузера и введите адрес, указанный здесь для соответствующего типа подключения, который вы используете.

* Localhost: `http://127.0.0.1:<PORT>` или `http://localhost:<PORT>`
* Локальная сеть: `https://<IP address of the desktop>:<PORT>`

Для проверки подлинности и безопасного обмена данными необходима поддержка протокола HTTPS.

Если вы используете портал устройств в защищенной среде, например, лаборатории тестирования, в которой вы доверяете всем пользователям в локальной сети, на устройстве нет личных сведений и у вас имеются особые требования, вы можете отключить проверку подлинности. В этом случае шифрование связи будет отключено, и любой пользователь сможет подключиться к вашему ПК и управлять им, зная его IP-адрес.

## <a name="device-portal-content-on-windows-desktop"></a>Подключение портала устройств на компьютере с Windows

Портал устройств на ПК с Windows предоставляет стандартный набор страниц. Подробные описания см. в разделе [Обзор портала устройств Windows](device-portal.md).

- Диспетчер приложений
- Проводник
- Запущенные процессы
- Производительность
- Отладка
- Трассировка событий Windows (ETW)
- Трассировка производительности
- Диспетчер устройств
- Сеть
- Данные о сбоях
- Возможности
- Смешанная реальность
- Отладчик потоковой установки
- Location
- Рабочая зона

## <a name="more-device-portal-options"></a>Дополнительные параметры портала устройств

### <a name="registry-based-configuration-for-device-portal"></a>Настройка на основе реестра для портала устройств

Если вы хотите выбрать номера портов для Портала устройств (например, 80 и 443), настройте следующие разделы реестра:

- В разделе `HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\WebManagement\Service`
    - `UseDynamicPorts`: Требуется DWORD. Задайте этому параметру значение 0, чтобы сохранить номера портов, которые вы выбрали.
    - `HttpPort`: Требуется DWORD. Содержит номер порта, который Портал устройств будет прослушивать на предмет активных подключений HTTP.    
    - `HttpsPort`: Требуется DWORD. Содержит номер порта, который Портал устройств будет прослушивать на предмет активных подключений HTTPS.
    
В том же пути раздела реестра можно также отключить требование к проведению проверки подлинности:
- `UseDefaultAuthorizer` - `0` Отключено `1` включен.  
    - Этот параметр управляет одновременно требованием к проведению обычной проверки подлинности для каждого подключения и перенаправлением из HTTP в HTTPS.  
    
### <a name="command-line-options-for-device-portal"></a>Параметры командной строки для портала устройств
Из командной строки с правами администратора можно включить и настроить части портала устройств. Чтобы просмотреть последний набор команд, поддерживаемых на сборки, можно запустить `webmanagement /?`

- `sc start webmanagement` или `sc stop webmanagement` 
    - Включение или отключение службы. Для этого режим разработчика по-прежнему должен быть включен. 
- `-Credentials <username> <password>` 
    - Задайте имя пользователя и пароль для портала устройств. Имя пользователя должно соответствовать стандартам обычной проверки подлинности, поэтому оно не должно содержать двоеточие (:) и должно состоять из стандартных символов ASCII, например, [a-zA-Z0-9], так как браузеры не анализируют полный набор символов стандартным способом.  
- `-DeleteSSL` 
    - В результате это происходит сброс кэша SSL-сертификата, используемого подключениями по протоколу HTTPS. При возникновении ошибок подключения по протоколу TLS, которые нельзя обойти, (в отличие от ожидаемого предупреждения сертификате), это, возможно, поможет устранить проблему. 
- `-SetCert <pfxPath> <pfxPassword>`
    - См. раздел [Подготовка портала устройств с использованием пользовательского сертификата SSL](https://docs.microsoft.com/windows/uwp/debug-test-perf/device-portal-ssl).  
    - Это позволяет установить сертификат SSL и закрыть страницу предупреждения SSL, которая обычно появляется на портале устройств. 
- `-Debug <various options for authentication, port selection, and tracing level>`
    - Запустите автономную версию портала устройств определенной конфигурации и видимыми сообщениями отладки. Это особенно полезно для создания [упакованных подключаемый модулей](https://docs.microsoft.com/windows/uwp/debug-test-perf/device-portal-plugin). 
    - Сведения о том, как выполнять запуск в качестве системы для полной проверки упакованного подключаемого модуля см. [в статье из журнала MSDN Magazine](https://msdn.microsoft.com/en-us/magazine/mt826332.aspx).

## <a name="common-errors-and-issues"></a>Распространенные ошибки и проблемы

Ниже приведены некоторые распространенные ошибки, возникающие при настройке портала устройства.

### <a name="windowsupdatesearch-returns-invalid-number-of-updates-0x800f0950-cbseinvalidwindowsupdatecount"></a>WindowsUpdateSearch Возвращает недопустимое число обновлений (0x800f0950 CBS_E_INVALID_WINDOWS_UPDATE_COUNT)

Данная ошибка может возникать при попытке установить пакеты разработчика на предварительные сборки Windows 10. Эти функции по запросу (FoD) пакеты размещаются в центре обновления Windows, и загружать их на предварительной версии сборки требуется согласиться на фокус-тестирование. Если установку не участвует в фокус-тестирование для нужной сборке и комбинации кольцо, полезные данные будет невозможно. Еще раз проверьте следующее:

1. Перейдите к **параметры > обновление и безопасность > программа предварительной оценки Windows** и убедитесь, что **учетной записи Windows Insider** присутствуют данные правильный учетной записи. Если вы не видите этот раздел, выберите **связать учетную запись Windows Insider**, добавьте учетную запись электронной почты и подтвердите, что он отображается в разделе **учетной записи Windows Insider** заголовок (может потребоваться выбрать **Связать учетную запись Windows Insider** секунды времени в действительности ссылка только что добавленную учетную запись).
 
2. В разделе **виды содержимого, вы хотите получать?**, убедитесь, что **Active разработки Windows** выбран.
 
3. В разделе **как скоро вы хотите получить новые сборки?**, убедитесь, что **Windows Insider быстро** выбран.
 
4. Теперь можно установить FoDs. Если вы убедились, что находитесь на быстро предварительной оценки Windows и по-прежнему нельзя установить FoDs, пожалуйста отзыв и присоединить файлы журналов в разделе **C:\Windows\Logs\CBS**.

### <a name="sc-startservice-openservice-failed-1060-the-specified-service-does-not-exist-as-an-installed-service"></a>[SC] StartService: OpenService FAILED 1060: Указанная служба не существует в качестве установленной службы

Данная ошибка может возникать, если не установлены пакеты разработчика. Без пакетов разработчика есть веб-служба управления не. Снова попробуйте установить пакеты разработчика.

### <a name="cbs-cannot-start-download-because-the-system-is-on-metered-network-cbsemeterednetwork"></a>CBS невозможно начать загрузку, так как система находится в сети с оплатой за трафик (CBS_E_METERED_NETWORK)

Данная ошибка может возникать, если вы используете лимитное подключение к Интернету. Вы не сможете скачать пакеты разработчика, использующим лимитное подключение.

## <a name="see-also"></a>См. также

* [Общие сведения о Windows Device Portal](device-portal.md)
* [Core портала устройства Справочник по API](https://docs.microsoft.com/windows/uwp/debug-test-perf/device-portal-api-core)
