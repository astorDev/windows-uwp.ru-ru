---
title: Достижения в 2017 г.
description: Достижения в 2017 г.
ms.assetid: d424db04-328d-470c-81d3-5d4b82cb792f
ms.date: 04/04/2017
ms.topic: article
keywords: xbox live, xbox, игры, uwp, windows 10, xbox one
ms.localizationpriority: medium
ms.openlocfilehash: bfc67f6aca27abf095a89c451111e6429bca82e1
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57590989"
---
# <a name="achievements-2017"></a>Достижения в 2017 г.

Система достижения 2017 позволяет разработчикам игр для использования прямого вызова модели для разблокировки достижения новых игр Xbox Live на Xbox One, Windows 10, Windows 10 Phone, Android и iOS.

## <a name="introduction"></a>Введение

В службе Xbox One мы добавили новую систему Cloud-Powered достижений, позволяющее разработчикам игр диска данных для их возможностях, Xbox Live, например Статистика пользователей, достижения, Развитые функции контроля присутствия и многопользовательскую, посредством простой отправки события телеметрии в игре. Это открыл множество новых преимуществ — одно событие можно обновить данные для нескольких компонентов, Xbox Live; Xbox Live конфигурации находится на сервере, а не в клиенте; и многое другое.

В следующих Xbox One запуска лет мы тесно прислушались к критике разработчиков игр и разработчики имеют постоянно следующее:

1.  **Желание разблокировать достижения через прямой вызывающий шаблон.** Многие разработчики создавайте игры для различных платформ, включая предыдущие версии Xbox, и прямой вызывающий метод используется системами на основе награду на этих платформах. Поддержка прямых вызовов в службе Xbox One "Разблокировать" и других платформ Xbox текущего поколения бы упростить их потребностей кросс платформенной разработки игр и дополнительных затрат во время разработки.

2.  **Свести к минимуму сложности конфигурации.** В системе достижения Cloud-Powered награду разблокировать логики должны быть настроены в Xbox Live, чтобы службы знали, как интерпретировать данные статистики title и когда следует разблокировать награду для пользователя. Это было сделано через новый раздел правила награду награду конфигурации, которая раньше не было. Наличие разблокировать логики в облаке могут быть мощным, это требование дополнительной настройки повышает сложность в проектирование и создание достижения title.

3.  **Затруднено Устранение неполадок.** Хотя система достижения Cloud-Powered дает ряд полезных возможностей, также можно более сложным для игр разработчикам для проверки и устранение неполадок при их достижения, так как достижение разблокирует косвенно активируются правила live в службе, а не напрямую контролируется саму игру.

Стоит отметить, что разработчики игр также несколько раз общий доступ к обратной связи, нравится и значение определенных функций, которые были представлены вместе с системой Cloud-Powered достижения:

1.  Новые функции обслуживания пользователей, такие как ход достижения, обновлений в реальном времени, концепция art вознаграждения и учета разблокирует в веб-канале активности.

2.  Улучшения конфигурации, например файл конфигурации службы вместо локальной конфигурацией, которая должны быть включены в пакет игр (т. е. gameconfig, XLAST, SPA, и т.д.) и возможность легко изменять награду строки & образов после доставки игры.

С 2017 достижений, мы создаем замены существующего достижения Cloud-Powered системы для будущих заголовки для использования, даже упрощает разработчикам игр Xbox настроить достижений, интегрировать награду разблокирует & обновлений в код игры и проверить, достижения работает должным образом.

## <a name="whats-different-with-achievements-2017"></a>Чем отличается в 2017 достижений

|                          | 2017 достижения системы        | На платформе облака system достижений      |
|--------------------------|---------------------------------------|----------------------------------------|
| Разблокировать триггера           | Непосредственно через вызов API                 | Косвенно, через события телеметрии        |
| Разблокировать владельца             | Заголовок                                 | Xbox Live                              |
| Конфигурация            | Строки, изображения вознаграждения              | Строки, изображения и подарки, разблокировать правила \[stats + события\]                    |
| Продвижения              | Поддерживается <br>*непосредственно через вызов API*                | Поддерживается <br> *косвенно, через события телеметрии*       |
| Активности в реальном времени (возврата) | Поддерживается                             | Поддерживается                              |
| Задачи               | Не поддерживается   | Поддерживается                      |

## <a name="title-requirements"></a>Требования для названия

Ниже приведены требования любой заголовок, который будет использовать систему 2017 достижений.

1.  **Должен быть новый заголовок (невыпущенные).** Заголовки, которые уже были выпущены и при использовании системы достижения Cloud-Powered недопустимы. Дополнительные сведения см. в разделе [почему нельзя существующие заголовки «перенести» на новую систему достижения 2017?](#_Why_can’t_existing)

2.  **Необходимо использовать август 2016 г. XDK или более поздней версии.** Update_Achievement API было выпущено в августе 2016 XDK.

3.  **Должен быть заголовок XDK или UWP.** Система 2017 достижения недоступна для устаревших платформ, включая Xbox 360, Windows 8.x или более ранней версии, ни Windows Phone 8 или более ранней версии.

## <a name="updateachievement-api"></a>Update_Achievement API

После достижения настраиваются с помощью XDP или [UDC](../configure-xbl/dev-center/achievements-in-udc.md) и публикации в изолированную среду разработки, название можно разблокировать их путем вызова Update_Achievement API.

Этот API доступен в XDK и Xbox Live SDK.

### <a name="api-signature"></a>Сигнатура API

Подпись API выглядит следующим образом:

```c++
/// <summary>
    /// Allow achievement progress to be updated and achievements to be unlocked.  
    /// This API will work even when offline. On PC and Xbox One, updates will be posted by the system when connection is re-established even if the title isn't running
    /// </summary>
    /// <param name="xboxUserId">The Xbox User ID of the player.</param>
    /// <param name="titleId">The title ID.</param>
    /// <param name="serviceConfigurationId">The service configuration ID (SCID) for the title.</param>
    /// <param name="achievementId">The achievement ID as defined by XDP or Partner Center.</param>
    /// <param name="percentComplete">The completion percentage of the achievement to indicate progress.
    /// Valid values are from 1 to 100. Set to 100 to unlock the achievement.  
    /// Progress will be set by the server to the highest value sent</param>
    /// <remarks>
    /// Returns a task<T> object that represents the state of the asynchronous operation.
    ///
    /// This method calls V2 GET /users/xuid({xuid})/achievements/{scid}/update
    /// </remarks>
    _XSAPIIMP pplx::task<xbox::services::xbox_live_result<void>> update_achievement(
        _In_ const string_t& xboxUserId,
        _In_ uint32_t titleId,
        _In_ const string_t& serviceConfigurationId,
        _In_ const string_t& achievementId,
        _In_ uint32_t percentComplete
        );
```

`xbox::services::xbox_live_result<T>` является обратного вызова для всех вызовов интерфейса API служб для C++ Xbox Live.

Дополнительные сведения см. обсуждение Xfest 2015, «XSAPI: C++, исключения не!»<br>
[видео](https://go.microsoft.com/?linkid=9888207) |  [слайдов](https://developer.xboxlive.com/en-us/platform/documentlibrary/events/Documents/Xfest_2015/Xbox_Live_Track/XSAPI_Cpp_No_Exceptions.pptx)

### <a name="unlocking-via-updateachievement-api"></a>Разблокирование с помощью Update_Achievement API

Чтобы разблокировать достижений, задайте *percentComplete* до 100.

Если пользователь находится в сети, запрос немедленно отправляются в службу Xbox Live достижений и активирует следующие возможности взаимодействия с пользователем:

-   Пользователь получит уведомление об награду разблокирован;

-   Указанный награду будет отображаться как снятие блокировки в списке награду пользователя для заголовка;

-   Разблокировать достижения будут добавляться к веб-канала активности пользователя.

> *Примечание. Будет существовать никаких видимых различий в пользовательские интерфейсы для достижения системой 2017 достижений и достижения Cloud-Powered.*

Если пользователь находится вне сети, запроса на разблокировку будут в очередь локально на устройстве пользователя. Когда на устройстве пользователя установил сетевое подключение, запрос будет автоматически отправляться в службу достижения — помните: никаких действий не требуется от игру, чтобы активировать это – и выше возможности взаимодействия с пользователем будет выполняться, как описано.

### <a name="updating-completion-progress-via-updateachievement-api"></a>Обновление ход выполнения завершения через Update_Achievement API

Обновление пользователя хода разблокировки достижений *percentComplete* соответствующие целого числа от 1 до 100.

Ход достижения можно только увеличить. Если *percentComplete* присвоено число, меньшее чем достижения последнего *percentComplete* значение, обновление будет игнорироваться. Например если награду *percentComplete* ранее было присвоено значение 75, отправляя пропускается обновление со значением 25 и достижения по-прежнему будет отображаться как 75% выполнено.

Если *percentComplete* имеет значение 100, снимет блокировку достижение.

Если *percentComplete* имеет значение в число больше 100 API будет вести себя так, как если ему присвоено точно 100.

## <a name="frequently-asked-questions"></a>Вопросы и ответы

### <a name="span-idwhyarechallenges-classanchorspancan-i-ship-my-title-using-the-achievements-2017-system-yet"></a><span id="_Why_are_Challenges" class="anchor"></span>Можно отправлять заголовок моего в системе достижения 2017 еще?

Абсолютно! Все заголовки буду и рекомендуется использовать 2017 достижения системы вместо системы Cloud-Powered достижений.

### <a name="why-are-challenges-not-supported-in-the-achievements-2017-system"></a>Почему задачи не поддерживаются в системе достижения 2017?

Данные об использовании между игр Xbox показало, что текущая реализация и представлением проблемы не удовлетворяет потребность в большинство разработчиков игр. Мы по-прежнему сбор входных данных для разработчиков и отзывы в этой области и ןאס для предоставления будущих функций, которые более точке в соответствии с потребностями разработчиков. Недавно выпущенный ареной Xbox — это пример функции, который содержит новые возможности конкурентные для Xbox игр новый, но очень похожие направление.

### <a name="can-i-still-add-new-achievements-every-calendar-quarter-if-my-title-is-using-the-achievements-2017-system"></a>Можно по-прежнему добавлять новые достижения каждый Календарный квартал Если заголовок моего использует систему достижения 2017?

Да. Политика достижения не изменяется.

### <a name="span-idwhycantexisting-classanchorspanwhy-cant-existing-titles-migrate-onto-the-new-achievements-2017-system"></a><span id="_Why_can’t_existing" class="anchor"></span>Почему нельзя существующие заголовки «перенести» на новую систему достижения 2017?

Для большинства существующих заголовков «миграции» в системе достижения 2017 не ограничиваться достаточно обновить их конфигурации службы и замены записи событий для достижения разблокировать вызовы —, несмотря на то, что эти изменения только бы очень дорогостоящей и будет содержать значительный риск ошибки и непреднамеренное поведение, которое может привести к достижения безнадежно нарушена. Точнее большинство существующих заголовков также иметь пользователей с существующими данными. Попытка преобразовать динамической игру, которая уже использует достижения Cloud-Powered, система не только быть очень дорогостоящим усилий, как для разработчиков, так и на Xbox, но значительно нарушит существующих пользователей профили и/или игр опыт.

### <a name="if-my-title-was-released-using-the-cloud-powered-achievements-system-can-any-future-dlc-for-the-title-switch-to-achievements-2017"></a>Заголовок моего была выпущена в системе Cloud-Powered достижений, все будущие DLC для заголовка переключиться достижения 2017?

Все достижений для названия необходимо использовать ту же систему достижений. Независимо от достижения система используется базовый игровые достижения — система, которая должна использоваться для всех будущих достижений для заголовка.

### <a name="while-testing-achievements-in-my-dev-sandbox-can-i-mix-and-match-between-using-the-achievements-2017-system-and-the-cloud-powered-achievements-system"></a>При тестировании достижений в моей изолированной среде разработки, можно сопоставлять и совмещать между использованием системы 2017 достижений и достижения Cloud-Powered?

Нет. Все достижений для названия необходимо использовать ту же систему достижений.

### <a name="does-achievements-2017-also-include-offline-unlocks"></a>Достижения 2017 также поддерживает автономный режим разблокирует?

Если заголовок разблокирует достижений, пока устройство находится в автономном режиме, Update_Achievement API будет автоматически очередь запросов на разблокировку вне сети и будет автоматическая синхронизация для Xbox Live, когда устройства установил сетевого подключения, аналогичную текущего Автономные возможности облачных достижения системы. Достижения разблокирует будет отключено, пока он находится в автономном режиме.

### <a name="i-see-a-new-achievementupdate-event-in-xdp-if-my-title-uses-that-event-does-that-mean-it-has-achievements-2017"></a>Я вижу в XDP новое событие «AchievementUpdate». Если заголовок моего использует это событие, означает наличие достижения 2017?

*AchievementUpdate* базовое событие необходим Xbox Live в целях серверной части. Вы можете проигнорировать. Если заголовок вашей настраивает события с помощью базового события этого типа, эти записи событий будет игнорироваться, Xbox Live. Заголовки, встроенные в системе достижения Cloud-Powered должны продолжать настроить их события с помощью других типов базовое событие. Заголовки, встроенные в системе достижения 2017 не требуется настраивать *любой* события для достижения целей.
