---
title: Начало работы с Visual Studio для игр для универсальной платформы Windows
description: Узнайте, как Настройка проекта Visual Studio для включения Xbox Live в игре универсальной платформы Windows
ms.assetid: b53bc91f-79db-4d8f-8919-b9144e2d609b
ms.date: 11/28/2017
ms.topic: article
keywords: xbox live, xbox, игры, uwp, windows 10, xbox one
ms.localizationpriority: medium
ms.openlocfilehash: 314d5e937bb8680dc26b7dfdfa15ff90f8f26c81
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57651409"
---
# <a name="get-started-using-visual-studio-for-uwp-games"></a>Начало работы с помощью Visual Studio для игр для универсальной платформы Windows

## <a name="requirements"></a>Требования

1. Регистрация в  **[программе для разработчиков центра партнеров](https://developer.microsoft.com/store/register)**.
2. **[Windows 10](https://microsoft.com/windows)**.
3. **[Visual Studio](https://www.visualstudio.com/)**  с **средства разработки приложений универсальной Windows**. Минимальная требуемая версия для приложений универсальной платформы Windows — Visual Studio 2015 с обновлением 3. Мы рекомендуем использовать последний выпуск Visual Studio для разработчиков и обновления системы безопасности. 
4. **[Пакет SDK для Windows 10](https://developer.microsoft.com/windows/downloads/windows-10-sdk) v10.0.10586.0** или более поздней версии.

> [!IMPORTANT]
> Visual Studio 2017 является обязательным, если с помощью пакета SDK для Windows 10 версией 10.0.15063.0 (также называется Creators Update) или более поздней версии.

## <a name="create-a-new-product-in-partner-center"></a>Создание нового продукта в центре партнеров

Каждый заголовок, Xbox Live должен иметь продукт, созданный в [центра партнеров](https://partner.microsoft.com/dashboard) прежде чем можно будет возможность входа в систему и вызывать Xbox Live службы. См. в разделе [создайте название на UDC](create-a-new-title.md) Дополнительные сведения.

## <a name="configuring-your-development-device"></a>Чтобы настроить устройство разработки

Предварительная настройка требуется выполнение следующих действий на устройстве, чтобы пользователь мог успешно входа с помощью Xbox Live и вызвать различные службы Xbox Live.

### <a name="set-your-sandbox"></a>Задать изолированную среду

"Песочницы" предоставляют способ сохранить ваши [конфигурации-службы Xbox Live](../xbox-live-service-configuration.md) изолированы от розничной торговли, пока вы не будете готовы к выпуску название. Некоторые данные, собираемые относится только к "песочнице". Например предположим, что название определяет stat вызывается *Headshots*, данных и накопления некоторое количество Headshots в учетной записи пользователя при тестировании название. Это значение будет относящиеся к заголовок вашей изолированной среды для разработки, и если вы перешли воспроизведение розничную версию заголовка, headshots бы не переносятся.

См. в разделе [Xbox Live "песочницы"](../xbox-live-sandboxes.md) статью, чтобы узнать больше и узнать, как задать изолированную среду.

### <a name="sign-in-with-a-test-account"></a>Вход в систему с тестовой учетной записи

Для входа в изолированную среду разработки, необходимо создать тестовую учетную запись или подготовить регулярных учетной записи Майкрософт (MSA) для доступа к вашей "песочницы". Это обеспечивает повышенную безопасность для вашей наименований разработки, а также некоторые другие преимущества.

Дополнительные сведения о тестовых учетных записей и как ее создать, см. в разделе [Xbox Live проверка учетных записей](../xbox-live-test-accounts.md)

## <a name="visual-studio-project-setup"></a>Настройка проекта Visual Studio

### <a name="1-open-a-uwp-project"></a>1. Откройте проект универсальной платформы Windows
Если у вас еще нет существующего проекта UWP, можно создать его, сделав следующее:

1. В Visual Studio **файл** > **новый** > **проекта**.
2. В **новый проект** выберите **Visual C#**   >  **Windows** > **универсальной** узла в левой области, а затем выберите **пустое приложение (универсальные Windows)** на правой панели.
3. В нижней части диалогового окна присвойте проекту имя и расположение проекта.
4. Укажите целевую версию и Минимальная версия Windows 10 SDK. См. в разделе [Выбор версии UWP](https://docs.microsoft.com/windows/uwp/updates-and-versions/choose-a-uwp-version) Дополнительные сведения.

![Создание проекта в Visual STUDIO](../images/getting_started/vs-create-project.gif)

> [!NOTE]
> Xbox Live API (XSAPI) требует использования версии 10.0.10586.0 или более поздней версии.

### <a name="2-add-references-to-the-xbox-live-api-xsapi-in-your-project"></a>2. Добавьте ссылки на Xbox Live API (XSAPI) в проекте

API службы Xbox имеет вариации для универсальной платформы Windows и XDK, а также для C++ и WinRT и их пространство имен структурированные как **Microsoft.Xbox.Live.SDK.*. UWP** и **Microsoft.Xbox.Live.SDK.*. XboxOneXDK**.

1. **UWP** предназначен для разработчиков, работающих над игрой UWP, которая может выполняться на ПК, Xbox One или Windows Phone.
2. **XboxOneXDK** для ID@Xbox и управляемых разработчиков, использующих один XDK Xbox.
3. Пакет SDK C++ можно использовать для C++ игровых движков, а пакет SDK WinRT для игровых движков, написанный на языке C++, C#, или JavaScript.
4. При использовании WinRT с обработчиком C++, следует использовать C + +/ CX, использующего шляпы (^). C++ является рекомендованным интерфейсом API для игровых движков C++.  

> [!TIP]
> Дополнительные сведения об универсальной платформы Windows на Xbox One в [Приступая к работе с разработкой приложений для универсальной платформы Windows в службе Xbox One](https://docs.microsoft.com/windows/uwp/xbox-apps/getting-started).

Чтобы использовать API Xbox Live из проекта, можно либо добавить ссылки на двоичные файлы, с помощью пакетов NuGet или добавлении источника API. Добавление пакетов NuGet ускоряет компиляцию, а добавление источника упрощает отладку. В этой статье поможет выполнить с помощью пакетов NuGet. Если вы хотите использовать источник, обратитесь к [компиляции Xbox Live API-интерфейсы источника в ваш проект UWP](add-xbox-live-apis-source-to-a-uwp-project.md). Можно добавить пакет Xbox Live SDK NuGet для по:

1. В Visual Studio перейдите в раздел **средства** > **диспетчер пакетов NuGet** > **управление пакетами NuGet для решения...** .
2. В диспетчере пакетов NuGet, щелкните **Обзор** и введите **Xbox.Live.SDK** в поле поиска.
3. Выберите версию пакета SDK Xbox Live, вы хотите использовать в списке слева. В этом случае мы будем использовать пакет Microsoft.Xbox.Live.SDK.WinRT.UWP.
3. В правой части окна установите флажок рядом с проектом и нажмите кнопку **установить**.

![Добавление XBL с помощью NuGet](../images/getting_started/vs-add-nuget-xbl.gif)


> [!IMPORTANT]
> Для `Microsoft.Xbox.Live.SDK.Cpp.*` проектов на основе, не забудьте включить заголовок `#include <xsapi\services.h>` в исходном проекте.

### <a name="3-optional-using-connected-storage-andor-secure-sockets"></a>3. (Необязательно) С помощью подключенного хранилища и/или Secure Sockets
В зависимости от версии пакета SDK Windows, который вы используете, может потребоваться установка дополнительного содержимого или вручную добавить ссылки на проект для использования, Xbox Live [подключенные хранилища](../storage-platform/connected-storage/connected-storage-technical-overview.md) или протокола SSL. Если вы хотите использовать функцию подключения хранилища, необходимо будет получить доступ к `Windows.Gaming.XboxLive.Storage` пространства имен. Если вы хотите использовать протокола SSL, необходимо будет получить доступ к `Windows.Networking.XboxLive`.

#### <a name="windows-10-sdk-version-10016299-or-higher"></a>Пакет SDK для Windows 10 версии 10.0.16299 или более поздней версии
Если вы предназначенные пакета SDK для Windows 10 10.0.16299 или более поздней версии, затем можно будет получить доступ к подключенных хранения пространство имен без выполнения дополнительных действий. Чтобы получить доступ к Secure Sockets, необходимо добавить ссылку на **расширения рабочего стола Windows для UWP**. Это можно сделать:

1. В **обозревателе решений**, щелкните правой кнопкой мыши **ссылки** узла и выбора **добавить ссылку...**
2. В левой части **диспетчер ссылок** диалоговом окне выберите **универсальной Windows** > **расширения**.
3. В появившемся списке найдите **расширения рабочего стола Windows для UWP** и установите флажок напротив версию, которая соответствует вашей пакета SDK для Windows 10.
4. Нажмите кнопку **ОК**.

![Добавить новую ссылку в Visual STUDIO](../images/getting_started/get-started-vs-add-ref.png)

#### <a name="windows-10-sdk-version-10015063-or-lower"></a>Пакет SDK для Windows 10 версии 10.0.15063 или более ранней версии
Если вы хотите использовать подключение хранилища или протокола SSL, необходимо установить пакет SDK расширения платформы Live Xbox, перед добавлением ссылки на проект. Это можно сделать:

1. Загрузите и извлеките [Live SDK расширения платформы Xbox](https://aka.ms/xblextsdk).
2. После извлечения, запустите включенного файла MSI, которая совпадает с версией пакета SDK для Windows 10, который используется.

После установки пакета SDK расширения платформы Live Xbox, необходимо добавить ссылку на него в Visual Studio. Это можно сделать:

1. В **обозревателе решений**, щелкните правой кнопкой мыши **ссылки** узла и выбора **добавить ссылку...**
2. В левой части **диспетчер ссылок** диалоговом окне выберите **универсальной Windows** > **расширения**.
3. В появившемся списке найдите **расширения рабочего стола Windows для UWP** и установите флажок напротив версию, которая соответствует вашей пакета SDK для Windows 10.
4. Нажмите кнопку **ОК**.

### <a name="4-associate-your-visual-studio-project-with-your-uwp-app"></a>4. Связать проект Visual Studio с помощью приложения универсальной платформы Windows

Вашей игры иметь возможность входа в систему, должен быть связан с продуктом, вы создали в центре партнеров. Перенос игры в Visual Studio можно связать с помощью мастера взаимосвязей Store. В Visual Studio сделайте следующее:

1.  Щелкните правой кнопкой мыши основной проект (запускаемым проектом), нажмите кнопку **Store** > **связать приложение с Store...**
2.  Вход в систему с **учетную запись разработчика Windows** используется для создания приложения, если запрос и следуйте инструкциям на экране.

> [!TIP]
> См. в разделе [упаковка приложений](https://docs.microsoft.com/windows/uwp/packaging/) Дополнительные сведения о подготовке игры для Windows Store.

### <a name="5-add-internet-capabilities-to-your-visual-studio-project"></a>5. Добавьте Интернет-возможностей в проект Visual Studio
Проект UWP, потребуется указать Интернет-возможностей для взаимодействия с Xbox Live. Эти свойства можно задать с:

1. Дважды щелкните **package.appxmanifest** файл в Visual Studio, чтобы открыть **конструктор манифеста**.
2. Щелкните **возможности** вкладку и проверьте **Интернет (клиент)**.

![Добавить новую ссылку в Visual STUDIO](../images/getting_started/get-started-vs-add-capability.png)

### <a name="6-associate-your-visual-studio-project-with-your-xbox-live-enabled-title"></a>6. Связать проект Visual Studio вместе с названием Xbox Live включена

Чтобы взаимодействовать со службой Xbox Live, необходимо добавить в проект файл конфигурации службы. Это может просто осуществляться с помощью:

1. Запускаемый проект, щелкните правой кнопкой мыши и выберите **добавить** > **новый элемент**.
2. Выберите **текстовый файл** введите и назовите его **xboxservices.config**.
3. Щелкнуть правой кнопкой мыши файл, выберите **свойства** и убедитесь, что:
    1. **Действие при сборке** присваивается **содержимого**, и  
    2. **Копировать в выходной каталог** присваивается **всегда Копировать**.
5.  Изменить файл конфигурации, содержащий следующий шаблон, заменив **TitleId** и **PrimaryServiceConfigId** с помощью значения, применяемые к название. Правильные значения можно получить на корневую страницу Xbox Live в центре партнеров. **PrimaryServiceConfigId** отображается в центре партнеров, как **SCID**.

```json
    {
       "TitleId" : "your title ID (JSON number in decimal)",
       "PrimaryServiceConfigId" : "your primary service config ID"
    }
```

Например:

```json
    {
        "TitleId" : 1563044810,
        "PrimaryServiceConfigId" : "12200100-88da-4d8b-af88-e38f5d2a2bca"
    }
```

> [!TIP]
> Все значения внутри xboxservices.config чувствительны к регистру. См. в разделе [конфигурации службы](../xbox-live-service-configuration.md) Дополнительные сведения о получении TitleID и PrimaryServiceConfigId.

### <a name="7-optional-add-multiplayer-capabilities"></a>7. (Необязательно) Добавить многопользовательские возможности

Если вы планируете добавить многопользовательскую поддержки для заголовка и требуется реализовать возможность игроки смогут приглашать других пользователей для игры, а затем необходимо добавить в файл AppXManifest другое поле. См. в разделе [Настройка многопользовательскую для вашей AppXManifest](../multiplayer/service-configuration/configure-your-appxmanifest-for-multiplayer.md) Дополнительные сведения.

## <a name="learn-more"></a>Подробнее

[Примеры Xbox Live SDK](https://github.com/Microsoft/xbox-live-samples) являются хорошим способом использования API-интерфейсы Live Xbox и продемонстрировать интерфейсы API, доступные для разработчиков в ID@Xbox программы. Чтобы использовать образцы, необходимо будет изменить изолированную среду для XDKS.1.
