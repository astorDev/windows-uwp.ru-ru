---
title: Сетевая интегрированная Xbox
description: Узнайте об интегрированном многопользовательском режиме Xbox (XIM) — универсальном решении для многопользовательской игры, сетевого взаимодействия и чата в играх Xbox Live.
ms.assetid: edbb28e6-1b6c-4f12-a9c6-fa8961de99a8
ms.date: 01/25/2018
ms.topic: article
keywords: Xbox live, xbox, игры, универсальной платформы Windows, windows 10, xbox, один, встроенная многопользовательскую xbox
localizationpriority: medium
ms.openlocfilehash: aa82b1042f710d81d83b98767802c7538fd53fba
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57641779"
---
# <a name="xbox-integrated-multiplayer-xim"></a>Xbox Integrated Multiplayer (XIM)

- [Общие сведения о](#overview)
- [Концепции](#concepts)
- [Функции](#features)
- [Связь с другими модулями](#relationship-to-other-modules)

## <a name="overview"></a>Обзор

Интегрированный многопользовательский режим (XIM) — это автономный интерфейс для удобного добавления сетевого взаимодействия и функций чата в режиме реального времени в многопользовательскую игру с использованием служб Xbox Live. Интерфейс XIM не требует проектом, чтобы выбрать между компиляция с использованием C + +/ CX и традиционного C++. он может использоваться с любым. Реализация также не выдавать исключения как средства отчетности, поэтому их можно использовать без труда из проектов без поддержки исключений при желании Некритическая ошибка.

Сведения о начале работы см. в разделе [Использование XIM](xbox-integrated-multiplayer/using-xim.md). Если вы используете C#, см. в разделе [с помощью XIM C# ](xbox-integrated-multiplayer/using-xim-cs.md).

## <a name="concepts"></a>Понятия

XIM ориентирован на несколько основных понятий:

- XIM сети — это логическое представление набор взаимосвязанных пользователи, участвующие в конкретной многопользовательской работы, а также основные состояние, которое описывает эту коллекцию. Участники не могут находиться в нескольких сетях XIM одновременно, но могут без проблем перемещаться из одной концептуальной сети XIM в другую.
- Подбор игроков - необязательно процесс обнаружения дополнительных удаленного игроков с похожими интересами или уровней участвовать в сети XIM без необходимости существующей связи социальных сетей.
- Запросы - необязательно процесс обнаружения XIM сети без необходимости социальных сетей связь между участниками.
- `xim_player` -Объект, представляющий отдельного человека пользователя входа на локальном или удаленном устройстве и участие в XIM сети. Отдельный физический пользователь, который присоединяется к одной и той же сети XIM, затем покидает ее и присоединяется снова, считается двумя отдельными экземплярами игрока.
- `xim_state_change` -Структура, представляющий уведомление на локальном устройстве относительно асинхронной изменений, в какой-либо аспект XIM сети.
- `xim::start_processing_state_changes` и `xim::finish_processing_state_changes` -пару методов вызывается приложением каждый кадр пользовательского интерфейса для выполнения асинхронных операций, чтобы получить результаты для обработки в виде `xim_state_change` структуры, а затем освободить связанные ресурсы после завершения.

На очень высоком уровне игрового приложения использует библиотеку XIM настроить набор пользователей, выполнившего вход на локальном устройстве для перемещения в сети XIM как новый игроков. Приложение вызывает `xim::start_processing_state_changes` и `xim::finish_processing_state_changes` каждый кадр пользовательского интерфейса. Предоставляется как экземпляров приложения на удаленных устройствах добавляют пользователей в сети XIM, каждый экземпляр участвующих `xim_state_change` обновления, описывающий локальная и удаленная `xim_player`s, присоединение к этой сети XIM. Когда игрок перестает принимать участие в сети XIM (добровольно или из-за проблем с сетевым подключением), обновления `xim_state_change` предоставляются всем экземплярам приложения, указывая на то, что `xim_player` покинул игру.

Приложение может определить сеть XIM, в которой необходимо участвовать, несколькими способами. Часто приложение запускается посредством автоматического перемещения локальных пользователей в новую сеть, доступную друзьям пользователей, где локальные пользователи могут отправлять приглашения или обеспечивать возможность обнаружения их сети XIM в рамках присоединения к команде (например, через карты игроков). Как только будет выполнено социальное обнаружение пользователей, приложение может инициировать процесс поиска соответствий Xbox Live и переместить всех игроков в новую сеть XIM, которая также содержит дополнительных "сопоставленных" удаленных игроков для заполнения команд или списков оппонентов. Затем, когда многопользовательское взаимодействие завершится, экземпляры приложения смогут вернуть своих локальных игроков (и, при необходимости, изначально подобранных удаленных игроков) в новую закрытую сеть XIM или в другую произвольную сеть XIM, подобранную в ходе поиска сочетаний. Голосовой и текстовый чат доступны на протяжении всего процесса. Ключевой характеристикой этого API является простота перемещения игроков из одной сети XIM в другую. Это полностью соответствует ожиданиям к современным играм — качественным и с широким ассортиментом механизмом социального взаимодействия.

В отличие от модели клиент сервер сеть XIM логически — полностью подключен сетки устройств однорангового узла. Как описано в разделе этого документа, любой проигрывателя можно отправлять напрямую в любой другой, через API. Все методы, которые влияют на состояние XIM сети в целом может вызываться с любого устройства и участников.

XIM использует разрешение конфликтов простой побеждает последний записи, если приложение в противном случае не предотвращает изменения состояния сети же XIM одновременно эффективно несколько участников. Это означает, что XIM не устанавливает определенные принципы любой роли «узел» или «server». XIM не ограничивают приложениям использовать свои собственные понятия, такие как поддержка миграции приложения на основе ролей к другим участником, когда игрок покидает XIM сети.

## <a name="features"></a>Возможности

- Предоставляет игру с помощью голоса и текста связи чата, который обнаруживает и учитывает параметры конфиденциальности проигрывателя

    Всем игрокам также автоматически предоставляется возможность голосового взаимодействия и общения в чате, если это допускают параметры конфиденциальности и конфигурация приложения. Для игроков, включивших преобразование речи в текст и текста в речь, XIM прозрачно выполнит это преобразование, чтобы доставлять текстовые сообщения чата, представляющие звук входящей речи и звук синтезированной речи в игре для исходящих сообщений чата соответственно.

- Позволяет игры для отправки сообщений свои собственные данные, относящиеся к игре

    В сети XIM приложение может отправлять собственные сообщения данных, связанные с игрой, например новости о перемещении аватаров. Все полученные сообщения доставляются приложению в качестве `xim_state_change`, указывая на предусмотренный источник и локальные места назначения.

- Функции, как решение выделенный чата с помощью резервирования каналу

    Подробная документация об использовании XIM посредством внеполосных резервирований доступна в разделе [Резервирования XIM](xbox-integrated-multiplayer/xim-reservations.md).

- Без поддержки исключений и может использоваться с использованием либо C + +/ CX или традиционного C++

## <a name="relationship-to-other-modules"></a>Связь с другими модулями

XIM предоставляет удобный единый интерфейс для игр с базовыми потребностями в многопользовательском взаимодействии. Он включает функциональность нескольких модулей, в частности модуля Xbox Services API (XSAPI) `multiplayer_manager`, библиотеки `xbox::services::game_chat_2` и защищенной многопользовательской сети `Windows::Networking::XboxLive` в виде единого оптимизированного API. Это уменьшает типичный объем кода, задач и концепций, участвующих в создании многопользовательских игр, которые не требуют абсолютной гибкости или контроля. В приложениях, требования которых не соответствуют концепции упрощения XIM, однако, может оказаться целесообразно использовать компоненты напрямую.

Сеть XIM создана, чтобы устранить необходимость в управлении такими объектами, как документы сессии MPSD или сетевой транспорт, с помощью базовых компонентов. Тем не менее она не препятствует их одновременному или параллельному использованию в составе отдельного списка игроков или сетки взаимодействия. В этом случае приложение обязано обеспечить совместное использование сетевых ресурсов сетью XIM и ее собственными механизмами. В настоящее время XIM поддерживает внеполосные резервирования, чтобы упростить использование этой сети в качестве выделенного решения для чата, список пользователей в котором составляется исключительно на основе внешнего ввода.

Xbox Live предоставляет множество других функций, которые ценны для многопользовательских игр, но напрямую не участвуют в настройке многопользовательского чата и сетевого взаимодействия. Следовательно, они не рассматриваются в этом модуле. Приложения рекомендуется искать API службы Xbox (XSAPI) проигрывателя достижения, списки лидеров, хранения и многое другое.
