---
title: Введение в систему многопользовательской игры
description: Предоставляет вводные сведения верхнего уровня в системе 2015-многопользовательскую Xbox Live.
ms.assetid: d025bd2b-2ca4-4ba9-9394-4950d96ad264
ms.date: 04/04/2017
ms.topic: article
keywords: Xbox live, xbox, игры, универсальной платформы Windows, windows 10 для настольных ПК, xbox, многопользовательские 2015
ms.localizationpriority: medium
ms.openlocfilehash: 4a739aaa650a7086dfe58b1b8ca170e15b3b2ef0
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57629419"
---
# <a name="introduction-to-the-multiplayer-system"></a>Введение в систему многопользовательской игры

| Примечание.                                                                                                                                                                                                          |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Эта статья предназначена для расширенное использование API.  В качестве отправной точки, пожалуйста взгляните на [API диспетчера многопользовательскую](../multiplayer-manager.md) что значительно упрощает разработку.  Дайте вашей DAM при обнаружении неподдерживаемым сценарием в диспетчере многопользовательскую. |

В этом документе содержатся следующие подразделы
* О многопользовательской системе
* Многопользовательские компоненты, интерфейсы и архитектуры
* Стороны, поддерживаемый многопользовательскую 2015 г.
* Многопользовательские терминология
* Новые возможности в многопользовательскую 2015 г.
* Различия между Xbox 360 и Xbox MPSD один сеанс функции

## <a name="about-the-multiplayer-system"></a>О многопользовательской системе


Многопользовательскую 2015 оптимизирует непосредственное использование MPSD и игровые сеансы. Он обеспечивает улучшенную поддержку нескольких параллельных сеансов для одного заголовка или пользователя и обновляет API службы Xbox (XSAPI) чтобы включить заголовки:

-   Объявление текущего действия и доступности для соединений пользователя.
-   Отправки приглашения в сеансы, и строки видимыми контекста (заголовок указан).
-   Обнаружение и присоединиться к сеансам с помощью кода заголовок.
-   Ведение веб-сокет подключения к MPSD, чтобы они могли получать уведомления краткое (плечо, сможет узнать касания) на сеанс изменения, например, обновления, которые отражают подписки, чтобы изменить события и изменения состояния подключения. MPSD также использует веб-сокет подключения быстро обнаруживать и фиксировать ךכטוםעסךטץ סטסעול.
-   Используйте SmartMatch подбор игроков.

## <a name="multiplayer-components-interfaces-and-architectures"></a>Многопользовательские компоненты, интерфейсы и архитектуры

### <a name="components-of-2015-multiplayer"></a>Компоненты многопользовательскую 2015 г.

Многопользовательскую — это система, которая состоит из нескольких компонентов. Это достаточно гибок для того, чтобы разрешить другим компонентам, таких как выделенные серверы и внешних партнеров системы.
#### <a name="multiplayer-session-directory-mpsd"></a>Каталог сеансов многопользовательской игры (MPSD)


Directory многопользовательской (MPSD) — это служба, в котором содержится коллекция сеансов. Сеанс — это надежный документ, находящиеся в облаке и представляющую собой группу людей, игры. MPSD Подробнее [каталог сеанса многопользовательскую (MPSD)](multiplayer-session-directory.md).


#### <a name="multiplayer-apis"></a>Многопользовательские API-интерфейсов

Многопользовательскую 2015 предоставляет API WinRT многопользовательскую, реализуется через **пространства имен Microsoft.Xbox.Services.Multiplayer**. Его компоненты включают **MultiplayerService класс**, определения веб-службы, который заключает в оболочку MPSD.

Кроме того, входит многопользовательскую REST API. Он определяет URI и JSON объектов, которые вызываются методы WinRT API. Функции REST можно использовать в прямой вызов из свои заголовки, но рекомендуется для доступа к MPSD косвенно, через WinRT API. Дополнительные сведения см. в разделе **вызова MPSD**.

#### <a name="xbox-party-system"></a>Системы производителя Xbox

В многопользовательскую 2015 приставки Xbox сторона поддерживает только чата сторонами как внешние сущности. Заголовки можно взаимодействовать с системой сторона также параметр поиска членства чата сторон. Дополнительные сведения см. в разделе **сторонами, поддерживаемых многопользовательскую 2015**.

Система сторона теперь поддерживает игр непосредственно через сеанс MPSD, вместо использования игр сторона. Это вплоть до заголовка использовать сеансы для реализации таких операций, как член взаимодействия, извлечение из проигрывателей в игры, как появляется доступное пространство и вовлечение пользователей во время периодов ожидания.


### <a name="2015-multiplayer-interfaces"></a>Многопользовательские интерфейсы 2015 г.

Многопользовательскую 2015 использует несколько интерфейсов для других компонентов Xbox.
#### <a name="xbox-secure-sockets"></a>Xbox Secure Sockets

Многопользовательскую 2015 поддерживает низкого уровня сетевого взаимодействия между устройствами с помощью защищенных сокетов Xbox и Winsock. Функции сетевого взаимодействия использует Internet Protocol Security (IPSec), чтобы разрешить заголовки для предоставления сопоставление безопасности устройства. См. в разделе **сети обзоры** подробные сведения о Xbox secure sockets функции.


#### <a name="xbox-live-real-time-activity-service"></a>Служба Xbox Live в режиме реального времени действия

Использует многопользовательскую 2015 **служба в режиме реального времени действия** чтобы разрешить наименований подписаться на MPSD сеанса изменения и включить функцию автоматического обнаружения клиента отключается. Дополнительные сведения приведены в [службы в реальном времени действия возврата](../../real-time-activity-service/real-time-activity-service.md).


#### <a name="xbox-live-matchmaking-service"></a>Служба Xbox Live подбор игроков

**Координирующему службы** forms группы из игроков, в зависимости от их настройки и данные и сведения, предоставляемые во время SmartMatch подбор игроков. Сведения о многопользовательскую использование этой службы, см. в разделе [Координирующему SmartMatch](smartmatch-matchmaking.md).


#### <a name="xbox-live-reputation-service"></a>Xbox Live Reputation Service

*Службу репутации* управляет Статистика пользователей о репутации и во время фильтрацией репутации подбор игроков. Он используется многопользовательскую 2015 через SmartMatch подбор игроков. Дополнительные сведения см. в разделе [репутации](../../social-platform/people-system/reputation.md).


#### <a name="xbox-live-compute"></a>Xbox Live вычислений

Вычислений Xbox Live предоставляет облачной вычислительной мощности для заголовков, с помощью многопользовательскую 2015. Дополнительные сведения об использовании вычислений Xbox Live, см. в разделе [с помощью Xbox Live вычислений в многопользовательскую](https://developer.microsoft.com/en-us/games/xbox/docs/xboxlive/xbox-live-partners/xbox-live-compute/using-xbox-live-compute-in-multiplayer).


### <a name="typical-2015-multiplayer-architectures"></a>Стандартные архитектуры многопользовательские 2015 г.

В этом разделе описываются наиболее типичных архитектурах многопользовательские 2015.
#### <a name="peer-to-peer-architecture"></a>Архитектура Peer-to-peer

В архитектуре peer-to-peer заголовок использует MPSD и SmartMatch координирующему для обнаружения адресов однорангового узла. Затем адреса используются для подключения одноранговых узлов, использующих протокол Xbox. Дополнительные сведения см. в разделе *введение Winsock на Xbox One*.

![Схема архитектуры одноранговая сеть](../../images/multiplayer/Mult2015ArchPeer.png)


#### <a name="client-server-architecture"></a>Архитектура клиент сервер

В многопользовательской архитектуры клиент сервер заголовок использует MPSD и SmartMatch координирующему для обнаружения адресов выделенного сервера. Затем они используются для подключения к выделенный сервер, с помощью Xbox защищенных сокетов. Дополнительные сведения см. в разделе *введение Winsock на Xbox One*.

| Примечание.                                                                         |
|-------------------------------------------------------------------------------------------|
| Xbox Live вычислительных экземпляров может использоваться как серверы архитектуры клиент сервер. |

![Схема архитектуры сервера клиента](../../images/multiplayer/Mult2015ArchClientServer.png)


## <a name="parties-supported-by-2015-multiplayer"></a>Стороны, поддерживаемый многопользовательскую 2015 г.
Многопользовательскую 2015 для Xbox One не предоставлять «игр стороны» в качестве конструкцию системного уровня. Тем не менее он поддерживает «стороны чата» на уровне системы, как и в многопользовательскую 2014.

| Примечание.                                                                                                                    |
|--------------------------------------------------------------------------------------------------------------------------------------|
| Свои заголовки можно реализовать аналогичны реализованы с помощью игр сторона, но вместо этого использовать MPSD сеансы с пользователями. |


### <a name="chat-party"></a>Сторона чата

Чат сторона — это группа людей, которые общаться друг с другом, управляемые пользователем с помощью одного субъекта приложения Xbox. Пользователи могут быть стороны чата, при воспроизведении в сеансе игр или во время выполнения другого действия консоли. Тем не менее существуют без связей между пользователями в сторона разговора и другие действия для этих пользователей.

Сторона чата предоставляется с использованием *PartyChat класс*, позволяющий заголовок для проверки состояния стороны чата. Например, заголовок позволяет перечислять членов стороны чата с помощью *PartyChat.GetPartyChatViewAsync метод*.


### <a name="implementing-features-similar-to-those-related-to-the-game-party"></a>Реализация функции, аналогичные, связанные с игр сторона

В 2014 многопользовательскую игр сторона обслуживаться нескольких целей. Это разрешено заголовка:

-   Объявление текущего действия пользователя и доступности для соединений
-   Отправить приглашения (приглашения) сеансы
-   Обнаружение и присоединиться к сеансам
-   Получать уведомления на определенные изменения в сеансы, зарегистрированные в стороне
-   Используйте координирующему SmartMatch
-   Поместить группу людей в нескольких сеансах игр

Многопользовательскую 2015 поддерживает все вышеуказанные характеристики непосредственно через MPSD сеансы.

## <a name="multiplayer-terminology"></a>Многопользовательские терминология


| Термин                                 | Описание|
| --- | --- |
| Active проигрывателя                        | Игрок, который задан в активное состояние сеанса. Заголовок задает проигрыватель в это состояние, когда игрок участвует в игре. Дополнительные сведения см. в разделе [пользовательских состояний сеанса](mpsd-session-details.md).                                                                                                                                                                                                                                                                                          |
| Арбитр                              | Одной консоли, в сеансе игры, который управляет состоянием сеанса многопользовательской каталога (MPSD) в игре, например, на рекламу игр сеанс подбор игроков, чтобы найти больше игроков. Арбитр задается заголовок. Арбитр не всегда является узлом игры. См. в разделе [арбитр сеанса](mpsd-session-details.md).                                                                                                                                                                            |
| Упорядочение игры                        | Тип игры, в которой создается только через один проигрыватель приглашение других игроков, чтобы присоединить, без участия партнеров.                                                                                                                                                                                                                                                                                                                                                                                                    |
| Сторона чата                           | Группа людей, которые общаться друг с другом. Может привлечь людей в одном действии, или они могут быть участвует в различные действия, такие как игры, музыка или приложений. См. в разделе **сторонами, поддерживаемых многопользовательскую 2015**.                                                                                                                                                                                                                                                                                 |
| Игры приглашения                          | Приглашение присоединиться к сеансу игр.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Игры сеанса                         | Сеанс, в котором пользователи фактически воспроизводится друг с другом. Все многопользовательские сценарии, например, подбор игроков или присоединение к основной, конечном счете оказываются в сеансе игр. Сеанс часто объявляется как текущих действий пользователей, чтобы включить соединения. Он также используется для создания недавнего список игроков. См. в разделе [подробные сведения о сеансе MPSD](mpsd-session-details.md).                                                                                                                                                           |
| Узел сеансов игр                    | Запуск игры в консоли play моделирования для заголовков, от сервера архитектура сети на основе узла peer-to-peer. Эта консоль обычно является таким же, как данный арбитр, но необязательно должны совпадать.                                                                                                                                                                                                                                                                                                                            |
| Дескриптор (или дескриптор сеанса)           | Ссылка на сеанс MPSD, который имеет дополнительное состояние и поведение, связанное с ним. См. в разделе [MPSD обрабатывает сеансы](multiplayer-session-directory.md).                                                                                                                                                                                                                                                                                                                                                                    |
| Неактивные проигрывателя                      | Игрок, который задан в неактивном состоянии в рамках сеанса. Заголовок задает проигрыватель в это состояние при игре приостанавливается, либо в противном случае неактивными, как определено для наименования. В некоторых случаях MPSD также может установить проигрыватель как неактивную, но отвечает главным образом для этого заголовка. Дополнительные сведения см. в разделе [пользовательских состояний сеанса](mpsd-session-details.md).                                                                                                                           |
| Hopper                               | Hopper является коллекцией на основе логики билеты совпадения. Заголовок может иметь несколько hoppers, но могут быть сопоставлены только билеты в том же hopper. Например заголовок может создать один hopper, для какой проигрывателя навык – это элемент, наиболее важные для сопоставления. Он может использовать другой hopper, в которой игроки являются только найдено совпадение, если они приобрели же загружаемое содержимое. Дополнительные сведения о, hoppers помещается в рабочий процесс SmartMatch, см. в разделе [SmartMatch операций среды выполнения](smartmatch-matchmaking.md) |
| Примите участие в ход выполнения                     | Концепция присоединение другой проигрыватель игр, после начала игры. Игроки могут присоединиться к друга игры через своего друга игроков карты. Заголовок можно переместить эти игроков в игры сеанс в соответствующее время.                                                                                                                                                                                                                                                                                                      |
| Основной сеанса                        | Вспомогательный сеанса для приглашенного игроков, ожидающими присоединиться к сеансу игр. См. в разделе [подробные сведения о сеансе MPSD](mpsd-session-details.md).                                                                                                                                                                                                                                                                                                                                                                                       |
| Совпадение целевой объект сеанса                 | Сеанс совпадение, заданный во время координирующему SmartMatch для представления соответствие. См. в разделе [Координирующему SmartMatch](smartmatch-matchmaking.md).                                                                                                                                                                                                                                                                                                                                                                                              |
| Совпадение билет сеанса                 | Настройка сеанса возможного совпадения во время SmartMatch подбор игроков. См. в разделе [Координирующему SmartMatch](smartmatch-matchmaking.md).                                                                                                                                                                                                                                                                                                                                                                                                         |
| MPSD сеанса                         | Безопасный документ, который находится в каталоге многопользовательской (MPSD) в облаке Xbox Live. Он содержит группы пользователей, которые могут быть подключены во время выполнения заголовок на Xbox One вместе с метаданными о пользователях и их игры. См. в разделе [подробные сведения о сеансе MPSD](mpsd-session-details.md).                                                                                                                                                                                                                  |
| Каталог сеансов многопользовательской игры (MPSD) | Службы, работающие в облаке, многопользовательские системой для хранения и извлечения сеансов. См. в разделе [Directory многопользовательской (MPSD)](multiplayer-session-directory.md).                                                                                                                                                                                                                                                                                                                                                                |
| Приложения сторонних поставщиков                            | Систему Xbox One привязать приложение, которое позволяет пользователям просматривать и управлять их стороны.                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Сеанс сервера                       | Сеанс игр, созданных обработки вычислений Xbox Live. См. в разделе [подробные сведения о сеансе MPSD](mpsd-session-details.md).                                                                                                                                                                                                                                                                                                                                                                                                            |
| Повышение Tap                         | Уведомление из MPSD в заголовок, который, потенциально представляющие интерес произошло изменение в службе. Коснитесь советом является краткое напоминание, часто меньше информационное чем периодические уведомления. См. в разделе [MPSD изменить обработка уведомлений и отключить обнаружение](multiplayer-session-directory.md).                                                                                                                                                                                                                     |
| Поиск сочетаний с помощью SmartMatch               | Xbox Live координирующему функцию доступные заведение Xbox One, реализованном в службе подбор игроков. Используя MPSD и подбор игроков, заголовок отправляет запрос для сопоставления и уведомляется позже найдены соответствующие группы. См. в разделе [Координирующему SmartMatch](smartmatch-matchmaking.md).                                                                                                                                                                                                                                  |

## <a name="whats-new-in-2015-multiplayer"></a>Новые возможности в многопользовательскую 2015 г.

| Осторожно                                                                                                                                                                                                                                               |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Если вы используете многопользовательскую 2015, важно отметить, что классы, связанные с субъекта, в 2014 многопользовательскую не следует использовать больше. Совпадением 2015 многопользовательские функции и классы, связанные с сторона приводит к поведению некорректные и никогда не должно выполняться. |


### <a name="new-concepts-in-2015-multiplayer"></a>Новых концепциях в многопользовательскую 2015 г.


#### <a name="web-socket-connections-to-mpsd"></a>Веб-сокет подключения к MPSD

MPSD теперь включает заголовки позволяет поддерживать подключения web socket с ним. Эти подключения позволяют клиентам получать уведомления при изменении сеансов. Дополнительные сведения см. в разделе [обработка уведомлений MPSD изменение и отключение обнаружения](multiplayer-session-directory.md).


#### <a name="mpsd-session-handles"></a>Маркеры сеанса MPSD

Многопользовательскую 2015 г. добавлена поддержка MPSD сеанса дескрипторов, которые являются ссылками на сеансы, которые могут включать типизированных данных. Дополнительные сведения см. в разделе [MPSD обрабатывает сеансы](multiplayer-session-directory.md).


### <a name="summary-of-new-2015-multiplayer-winrt-api-functionality"></a>Кратко описываются новые функции многопользовательские WinRT API 2015 г.

Новые функциональные возможности WinRT API многопользовательские основан на существующей XSAPI, позволяет упростить процесс, который перехода для названия уже многопользовательскую 2014 с помощью API игр сторона.

Добавляет многопользовательскую 2015 *MultiplayerActivityDetails класс*, который представляет сведения о текущей активности пользователя, например, сеанс, в котором присоединяемые пользователя.

Были добавлены новые функциональные возможности *MultiplayerService класс*. Примерами являются методы и свойства при работе с действиями для пользователей и групп социальных сетей, извлечение сеансов, использующих различные фильтры и дескрипторы, отправка приглашения игр и сеанса операций чтения и записи, используя маркеры.

*MultiplayerSession класс* расширяет функциональные возможности работы с типами изменения сеанса, подписки на уведомления, сравнение сеанса и параметр сеанса как закрытые.

*Класс MultiplayerSessionReference* изменяется для наследования от **IMultiplayerSessionReference**, чтобы они поддерживали вызовы кросс-пространство имен. Класс также имеет новый URI-путь, методов синтаксического анализа.

| Примечание.                                                                                                                                                                                                                                                                                                                                                                                   |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Для поддержки событий и подписок на уведомления, 2015 многопользовательскую расширяет его функциональные возможности *пространства имен Microsoft.Xbox.Services.RealTimeActivity*. Также включены в новом функциональные возможности *SystemUI.ShowSendGameInvitesAsync метод*, которое используется для отображения пользовательского интерфейса для многопользовательскую 2015 игр сообщение invite. |

## <a name="differences-between-xbox-360-and-xbox-one-mpsd-session-functions"></a>Различия между Xbox 360 и Xbox MPSD один сеанс функции

| Функция | Xbox 360 | Xbox One |
|---|---|---|
| **Получение сведений о сеансе игр** | XSessionGetDetails, XSessionSearchByID или заголовок выполняет отслеживание. | Заголовок запрашивает сведения о сеансе из MPSD. |
|**Миграция узла** | При необходимости title вызывает XSessionMigrateHost. | В зависимости от причины миграции заголовок может иметь возможность назначить новый узел для сеанса или создать новый сеанс MPSD. |
| **Несколько сеансов проигрывателя** | Для обработки более чем один сеанс одновременно, например, XNetReplaceKey и XNetUnregisterKey непросто. | Сеансов на основе службы делает управления одного сеанса очистки и упрощает обработку нескольких сеансов. |
| **Signouts и отключает** | Заголовок должен обрабатывать отключается и signout по-разному с XCloseHandle или XSessionDelete. | MPSD упрощает signouts и отключения обработки и времени ожидания, установленные в конфигурации. |
| **Подбор игроков** | Запросы клиентские подбор игроков | Основанная на службах подбор игроков, позволяющий лучше подходит для обеспечения качества и проще координирующему фона в заголовок. |


### <a name="sessions"></a>Сессии

На Xbox 360 сеанс, представленной в экземпляре игры. Пользователям поиск сеансов в службе подбор игроков и сообщаемые статистики в конце сеанса.

В службе Xbox One сеанс, более универсален и представляет группу игроков. Сеанс является обязательным для любого сетевого подключения между консолями и содержит сведения, которые должны быть общими для всех пользователей в сеансе. Некоторые примеры этих сведений включают число исполнителей, разрешенных в сеанс, безопасный адрес каждой консоли в сеансе и пользовательские данные игры.


### <a name="xbox-matchmaking"></a>Подбор игроков Xbox

На Xbox 360 заголовки выполнении подбор игроков, настроив схему атрибутов, а также набор запросов для поиска по этим атрибутам. Во время выполнения заголовок выбрал либо узел сеанса или поиска по одной.

В службе Xbox One подбор игроков, серверных и игроков и заголовки больше не решить, следует ли разместить или поиска. Вместо этого каждый предварительно формат группа игроков создает сеанс «запрос» и отправляет этот сеанс в службу поддержки знакомства. Затем служба находит другие сеансы и объединяет группы, чтобы сформировать новый сеанс «target». Клиенты уведомляются об соответствие и выполнения качество обслуживания (QoS), чтобы проверить подключение с другими участниками сеанса до запуска игры.


### <a name="xbox-live-compute-service"></a>Служба Xbox Live вычислений

Службы вычислений Xbox Live — новое предложение на Xbox One. Он позволяет разработчикам мощь масштабирование вычислительных ресурсов облака, а также позволяет большего размера использовать многопользовательские сценарии не были недоступны в сети peer-to-peer. Дополнительные сведения о службе вычислений Xbox Live см. в документации вычислений Xbox Live, в документации по XDK.


## <a name="see-also"></a>См. также

[Каталог многопользовательской (MPSD)](multiplayer-session-directory.md)

[Подбор игроков SmartMatch](smartmatch-matchmaking.md)

[Служба в режиме реального времени действия (возврата)](../../real-time-activity-service/real-time-activity-service.md)

[Репутации](../../social-platform/people-system/reputation.md)

[С помощью вычислений Xbox Live в многопользовательскую (необходим доступ управляемого партнера)](https://developer.microsoft.com/en-us/games/xbox/docs/xboxlive/xbox-live-partners/xbox-live-compute/using-xbox-live-compute-in-multiplayer)
