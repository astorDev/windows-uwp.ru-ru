---
title: 'Многопользовательский режим: вопросы и ответы, устранение неполадок за 2015 г.'
description: Часто задаваемые вопросы о 2015-многопользовательскую Xbox Live и устранения неполадок.
ms.assetid: 75823f10-b342-4e20-b885-e5ad4392bc3d
ms.date: 04/04/2017
ms.topic: article
keywords: Xbox live, xbox, игры, универсальной платформы Windows, windows 10, xbox, один, многопользовательскую
ms.localizationpriority: medium
ms.openlocfilehash: 171d80f4fc925d95d80043f40bb387b045a4fe23
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57625529"
---
# <a name="multiplayer-2015-faq-and-troubleshooting"></a>Многопользовательский режим: вопросы и ответы, устранение неполадок за 2015 г.

-   Я занимаюсь разработкой новый заголовок. Многопользовательские элементы API, которые следует использовать?
-   Как получить доступ к многопользовательской новый интерфейс API из службы?
-   Заголовок моего подписаться на изменения для более одного сеанса?
-   Пользователь удаляется немедленно, если он теряет сетевое подключение или отключение консоли?
-   Как узнать какие SCID шаблона сеанса и "песочницы" для использования?
-   Есть ли пример тела запроса, который я сравнивает одну заголовок моего?
-   Я получаю код HTTP/403 при вызове MPSD.
-   При вызове MPSD я получаю код HTTP/404.
-   Почему я получаю код HTTP/404 при вызове **MultiplayerService.WriteSessionByHandleAsync** или **MultiplayerService.GetCurrentSessionByHandleAsync**?
-   При вызове MPSD я получаю код HTTP/412.
-   Я получаю HTTP/400, 405, 409, 503, кода и т.д., при вызове MPSD.
-   Что можно или необходимо изменять в шаблонах сеанса для заголовок моего?
-   Я получаю сообщение об ошибке, которое говорит, что мой сеанс не инициализирован.
-   Мой сеанс не создается и возвращается код HTTP/204.
-   Когда следует опросить MPSD?
-   Что произойдет, если игрок было зарезервировано или приглашены в сеанс не будет присоединена к его?
-   Почему бы созданный сеанс не найден, подбор игроков?
-   Что такое ключевое различие между сторонами правильно используются многопользовательскую 2015 способ а они использовались в многопользовательскую 2014?
-   Если игры сеанс имеет слотов открыть проигрыватель и поддерживает соединения в работе, почему пользователи не смогли бы найти сеанс после ее запуска?
-   Если открыт сеанс игр, можно пользователя, который только что присоединившимся к игре просто подключиться к сеансу и начать воспроизведение без ожидания для резервирования?
-   При больших игровые сеансы воспроизводится в моей должности, почему не все элементы сеанса отображаются тост игр приглашение?
-   Я вижу несогласованные игрового поведения и получили сведения о протоколе активации, ссылающихся на функции игр субъекта.
-   Почему я вижу синтаксис v105 сеанса документов в моей трассировки несмотря на то, что я настроил шаблон v107 сеанса?


### <a name="i-am-developing-a-new-title-which-multiplayer-api-elements-should-i-use"></a>Я занимаюсь разработкой новый заголовок. Многопользовательские элементы API, которые следует использовать?

Многопользовательские функции 2014 будет применяться для существующих заголовков, но быть связанных элементов API, которые скорее всего, устарело. Настоятельно рекомендуется использовать многопользовательскую 2015 при подготовке клиентов для выпуска в 2015 г.


### <a name="how-can-i-access-the-new-multiplayer-api-from-a-service"></a>Как получить доступ к многопользовательской новый интерфейс API из службы?

См. в разделе [вызова MPSD](multiplayer-session-directory.md).


### <a name="can-my-title-subscribe-to-changes-for-more-than-one-session"></a>Заголовок моего подписаться на изменения для более одного сеанса?

Да, заголовок можно подписаться для получения изменений на до 10 сеансов для каждого подключения.


### <a name="will-a-user-be-removed-immediately-if-heshe-loses-a-network-connection-or-turns-off-the-console"></a>Пользователь удаляется немедленно, если он теряет сетевое подключение или отключение консоли?

Подключение веб-сокета позволяет MPSD быстро обнаружить отключение клиента и установка клиента в неактивное состояние. Члены сеанса удаляются сразу же после истечения времени ожидания удаления неактивных. Дополнительные сведения см. в разделе [промежутки времени ожидания сеанса](mpsd-session-details.md).


### <a name="how-do-i-find-out-what-scid-session-template-and-sandbox-to-use"></a>Как узнать какие SCID шаблона сеанса и "песочницы" для использования?

Если вы не были при первоначальной регистрации название, при создании этой информации, у вас нет доступа к этой информации. Обратитесь к менеджеру разработчика, кто может получить данные.


### <a name="is-there-an-example-of-a-request-body-that-i-can-compare-to-the-one-for-my-title"></a>Есть ли пример тела запроса, который я сравнивает одну заголовок моего?

См. в разделе структуры запроса в **MultiplayerSessionRequest (JSON)**


### <a name="i-am-getting-an-http403-code-when-calling-mpsd"></a>Я получаю код HTTP/403 при вызове MPSD.

Обычно это разрешения или область проблемы. Сбор трассировки Fiddler, чтобы получить дополнительные сведения и проверьте сообщения возвращаются как часть текста HttpResponse для распространенных сообщений 403:

-   Файл конфигурации запрошенной службы невозможен.
    1.  Убедитесь, что вы используете учетную запись, имеет доступ к «песочнице».
    2.  Убедитесь, что вы находитесь в правильный "песочницы".
     3.  Если вы используете проверку подлинности сертификата и получении этой ошибки обратитесь к своему менеджеру разработчика.   Запрошенный сеанс будет недоступно. Вызывающего пользователя должна иметь привилегию многопользовательской и частных сеансов можно прочитать только участниками сеанса.

    У вас нет возможности для просмотра сеанса, возможно, так как вы пытаетесь получить доступ к сеанс с видимость закрытых. Если видимость имеет значение Private, только члены этого сеанса может читать документ сеанса.

| Примечание.                                                                                                                                                  |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Пользователь должен иметь учетную запись Gold, чтобы зарегистрировать новый сеанс. Без права учетной записи Gold для воспроизведения пользователя запросы на регистрацию нового сеанса возвращают HTTP/403. |

-   Текст запроса не может содержать ссылок на существующие элементы, если основной проверки подлинности с сервером.

    Другой пользователь не удается подключиться к сеансу от имени пользователя. Вы можете только пригласить. Значение индекса «зарезервировать\_&lt;номер&gt;"пригласить проигрыватель.


### <a name="i-am-getting-an-http404-code-when-calling-mpsd"></a>При вызове MPSD я получаю код HTTP/404.

Соберите трассировки Fiddler, чтобы получить дополнительные сведения и выполните одно из следующих:

1.  Проверка, возвращаемое сообщение, как часть текста HttpResponse для распространенных сообщений 404:
    -   Файл конфигурации запрошенной службы имеет неверное или не настроено для сеансов. Проверьте правильность SCID, который используется.
    -   Запрошенный сеанс не найден. Убедитесь, что сеанс будет создан и правильность шаблона сеанса перед его возвращением. Можно создать сеанс с вызов PUT.

2.  Проверьте URI, который вы используете.
3.  Перезагрузить консоль или попробуйте нового пользователя.
4.  Проверьте форумы разработчиков игр, код ошибки или других решений.
5.  Убедитесь, что сеанс не был удален из-за пустого. Сеансы могут стать пустыми, если пользователи истекло время ожидания. Когда это происходит, это обычно бывает так, как все элементы сеанса находятся в состоянии, к которому применяется время ожидания, например «Готово» или «неактивно». См. в разделе [пользовательских состояний сеанса](mpsd-session-details.md) для сведения о состоянии пользователя.


### <a name="why-am-i-getting-an-http404-code-when-calling-multiplayerservicewritesessionbyhandleasync-or-multiplayerservicegetcurrentsessionbyhandleasync"></a>Почему я получаю код HTTP/404 при вызове **MultiplayerService.WriteSessionByHandleAsync** или **MultiplayerService.GetCurrentSessionByHandleAsync**?

Если заголовок вашей обращается к сеанс MPSD дескриптором в ответ на активации протокол соединения, содержащий идентификатор дескриптора, идентификатор дескриптора в активации протокола могут устареть по одной из следующих причин:

-   Представление пользовательского интерфейса в оболочке Xbox, из которой заголовок инициируется соединения могут устареть. Несмотря на открытость некоторые представления пользовательского интерфейса, например, Карточка профиля пользователя, дескрипторы соединения не обновляется автоматически. Во избежание получения кода HTTP/404, заголовок следует закрыть и снова откройте представлении, чтобы обновить данные до перехода в группу.
-   Пользователь, который присоединяется к заголовку сменил действие сеансы после заголовка операция соединения из оболочки Xbox пользовательского интерфейса. Поэтому для кода HTTP/404 должна возникать редко.

В любом из этих случаев коде title должно отображаться присоединяемый пользователю сообщение об ошибке соединения не удалось.


### <a name="i-am-getting-an-http412-code-when-calling-mpsd"></a>При вызове MPSD я получаю код HTTP/412.

Следующий запрос возвращает HTTP/412, если сеанс уже существует:

    PUT /serviceconfigs/00000000-0000-0000-0000-000000000000/sessiontemplates/quick/sessions/foo HTTP/1.1
    Content-Type: application/json
    If-None-Match: *


Следующий запрос возвращает HTTP/412, если сеанс etag не совпадает с заголовком If-Match:

    PUT /serviceconfigs/00000000-0000-0000-0000-000000000000/sessiontemplates/quick/sessions/foo HTTP/1.1
    Content-Type: application/json
    If-Match: 9555A7DE-8B91-40E4-8CFB-0629312C9C7D


См. в разделе [синхронизировать обновления сеанса](multiplayer-session-directory.md) Дополнительные сведения.


### <a name="i-am-getting-an-http400-405-409-503-etc-code-when-calling-mpsd"></a>Я получаю HTTP/400, 405, 409, 503, кода и т.д., при вызове MPSD.

Собирать трассировки Fiddler для получения дополнительных сведений, а затем сообщений о проверке, возвращается как часть текста HttpResponse. Это должны получить достаточно информации, чтобы идентифицировать и исправить эту ошибку, или можно выполнить поиск на форумах разработчиков для разрешения.

Можно также получить текст ответа при использовании XSAPI, как описано в разделе [Устранение неполадок в API службы Xbox Live](../../using-xbox-live/troubleshooting/troubleshooting-the-xbox-live-services-api.md). Кроме того, можно использовать код **XboxLiveContextSettings.EnableServiceCallRoutedEvents** свойство для отправки выходных данных для заголовка пользовательского интерфейса.


### <a name="what-can-or-should-i-change-in-the-session-templates-for-my-title"></a>Что можно или необходимо изменять в шаблонах сеанса для заголовок моего?

Сеанс шаблоны представляют собой шаблоны для сеансов и не может переопределить константы, уже задано в шаблонах. Тем не менее можно добавить новые свойства в шаблонах. См. в разделе [MPSD сеанса шаблоны](multiplayer-session-directory.md) для получения дополнительных сведений.


### <a name="im-getting-an-error-that-is-saying-my-session-isnt-initialized"></a>Я получаю сообщение об ошибке, которое говорит, что мой сеанс не инициализирован.

Ошибка пример ответа:

400 - \[ResponseBody\]: Этот сеанс должен быть настроен для управляемая инициализация, требуется по крайней мере 2 элементы для запуска.

Невозможно создать сеанс, так как недостаточно резервирования член сеанса с «инициализировать» поля задано значение true, включаются в запрос. Это поле можно задать в коде для элемента с помощью *initializeRequested* параметр для **MultiplayerSession.AddMemberReservation** метод или **MultiplayerSession.Join** метод.

Инициализация, заданные в шаблоне сеанса, убедитесь, что «инициализировать»: «true» установлено достаточное количество резервирований члена для передачи координирующему QoS. Дополнительные сведения см. в разделе [инициализации сеанса целевым и качество обслуживания](smartmatch-matchmaking.md).


### <a name="my-session-is-not-being-created-and-im-getting-an-http204-code"></a>Мой сеанс не создается и возвращается код HTTP/204.

Этот код состояния указывает, что пользователи не были добавлены в сеанс, при его создании. Если нет пользователей в сеансе при ее создании, а пустой время истечения сеанса равно нулю (по умолчанию), сеанс не создается.

Убедитесь, что включать по крайней мере один проигрыватель при создании сеанса. Для сценариев на выделенном сервере получите проигрывателя, кто пытается создать сопоставления или кому необходимо создать сопоставления и использовать этот проигрыватель по начальной в соответствие. Кроме того можно изменить или удалить пустой время ожидания сеанса. Дополнительные сведения см. в разделе [промежутки времени ожидания сеанса](mpsd-session-details.md).


### <a name="when-should-i-poll-mpsd"></a>Когда следует опросить MPSD?

Свои заголовки необходимо избежать опроса MPSD. Если заголовок должен выполнить обнаружение изменений в MPSD сеансы, его следует подписки на события изменения сеанса. Дополнительные сведения см. в разделе [как: Подпишитесь на уведомления об изменении сеанса MPSD](multiplayer-how-tos.md).


### <a name="what-happens-if-a-player-who-was-reserved-or-invited-to-the-session-does-not-join-it"></a>Что произойдет, если игрок было зарезервировано или приглашены в сеанс не будет присоединена к его?

Это зависит от того, выполняется ли заголовок уведомлению проигрыватель, который готов игр сеанса. Если игрок указано в заголовке и не принимает уведомления игр сеанса заголовок пользовательского интерфейса, возлагается заголовок для удаления проигрывателя из игр сеанса с **MultiplayerSession.Leave** метод.

Если заголовок ограничен или не запущена, оболочка предоставляет уведомление, информирует проигрыватель что слот доступен. Если игрок отклонит или не учитывает Системное уведомление, MPSD удаляет этот человек из игр сеанса.


### <a name="why-would-a-created-session-not-be-found-by-matchmaking"></a>Почему бы созданный сеанс не найден, подбор игроков?

В службе Xbox One просто создав сеанс недостаточно для партнеров для поиска нового сеанса. Необходимо создать билет совпадение для запуска рекламу сеанса в службу поддержки знакомства. См. в разделе [Координирующему SmartMatch](smartmatch-matchmaking.md).


### <a name="what-is-the-key-difference-between-the-way-parties-are-properly-used-by-2015-multiplayer-and-the-way-they-were-used-in-2014-multiplayer"></a>Что такое ключевое различие между сторонами правильно используются многопользовательскую 2015 способ а они использовались в многопользовательскую 2014?

В 2015 многопользовательскую многопользовательские API определяет не системного уровня игры, которые только чата сторонами. Вместо использования игр сторон, заголовок использует сеансы для управления присоединение приглашает и функции, связанные с. Для многопользовательскую 2014 многопользовательские API в службе Xbox One видном месте использует концепцию игр сторона (**сторона** класс), который фактически реализует основную соединение на уровне системы, вместо игры приглашает.


### <a name="if-a-game-session-has-open-player-slots-and-supports-join-in-progress-why-would-users-not-be-able-to-find-the-session-once-it-has-started"></a>Если игры сеанс имеет слотов открыть проигрыватель и поддерживает соединения в работе, почему пользователи не смогли бы найти сеанс после ее запуска?

При запуске сеанса игры, больше не объявляется в службе подбор игроков. Если проигрыватель слотов становятся доступными в рамках сеанса и арбитр (узел) хочет привлекайте новых игроков, арбитр необходимо создание билета соответствия выполняется в сеансе с **MatchmakingService.CreateMatchTicketAsync** метод. Билет объявляет сеансом и находит больше игроков. См. в разделе [Координирующему SmartMatch](smartmatch-matchmaking.md).


### <a name="if-a-game-session-is-open-can-a-user-who-has-just-joined-a-game-simply-join-the-session-and-start-playing-without-having-to-wait-for-the-reservation"></a>Если открыт сеанс игр, можно пользователя, который только что присоединившимся к игре просто подключиться к сеансу и начать воспроизведение без ожидания для резервирования?

Да. Это особенно полезно в случаях, где названия использует несколько сеансов для отслеживания подгрупп игроков в рамках сеанса игры. Присоединяемый пользователь может подключиться к сеансу, представляющий его/ее группы и затем необходимо присоединиться к сеансу, большего размера игр.


### <a name="when-large-game-sessions-are-playing-in-my-title-why-arent-all-session-members-seeing-the-game-invite-toast"></a>При больших игровые сеансы воспроизводится в моей должности, почему не все элементы сеанса отображаются тост игр приглашение?

Когда заголовок вашей добавляет пользователя к сеансу с помощью функции присоединения, заголовок всегда задает **MultiplayerSessionMember.InitializeRequested** присваивается значение true. Это сообщает MPSD ожидания до конца сеанса элементы перед перемещением игры из стадии инициализации. В противном случае пользователи имеют очень короткий промежуток в объединения и могут быть пропущены, всплывающие уведомления и уведомления об изменениях сеанса.


### <a name="i-am-seeing-inconsistent-game-behavior-and-have-received-protocol-activation-information-referencing-game-party-features"></a>Я вижу несогласованные игрового поведения и получили сведения о протоколе активации, ссылающихся на функции игр субъекта.

Это означает, что смешана многопользовательскую 2014 и 2015 многопользовательские функции. API для многопользовательскую 2015 следует использовать никогда не с кодом, написанным для многопользовательскую 2014.


### <a name="why-am-i-seeing-the-syntax-for-v105-session-documents-in-my-traces-although-i-have-configured-a-v107-session-template"></a>Почему я вижу синтаксис v105 сеанса документов в моей трассировки несмотря на то, что я настроил шаблон v107 сеанса?

MPSD выполняет автоматическое преобразование между версиями документа сеанса на основе запроса клиента. В настоящее время все API-интерфейсы службы Xbox использовать v105 для запросов к MPSD. Это может привести различный синтаксис между шаблонами v107 сеанса и v105 выполняет трассировку, но не другие влияет на функциональность. Шаблоны сеанса должен быть настроен в качестве v107.

© Корпорация Майкрософт 2015 г. Все права защищены.
Отправить отзыв на <https://forums.xboxlive.com/spaces/22/index.html>.
Версия: 2.0.90731.0
