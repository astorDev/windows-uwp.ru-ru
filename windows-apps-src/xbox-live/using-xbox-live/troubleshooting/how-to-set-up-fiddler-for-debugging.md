---
title: Устранение неполадок, Xbox Live, с помощью Fiddler
description: Узнайте, как использование Fiddler для устранения неполадок вызовов службы Xbox Live.
ms.assetid: 7d76e444-027b-4659-80d5-5b2bf56d199e
ms.date: 04/04/2017
ms.topic: article
keywords: Xbox live, xbox, игры, универсальной платформы Windows, windows 10, xbox, один, fiddler, вызовы служб, устранение неполадок
ms.localizationpriority: medium
ms.openlocfilehash: 84c6717a4f9f5aff9fd3ff1f68c870fdd9174865
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57606719"
---
# <a name="troubleshooting-xbox-live-using-fiddler"></a>Устранение неполадок, Xbox Live, с помощью Fiddler

Fiddler — это веб-прокси, которая регистрирует все HTTP и HTTPS-трафика между устройством и Интернет для отладки. Он понадобится для входа и проверять трафик из службы Xbox Live и доверяющей стороны веб-служб, анализ и отладку вызовов веб-службы.

## <a name="for-windows-uwp-pc-apps"></a>Для приложений Windows UWP ПК

1. Убедитесь, что текущий пользователь находится в группе администраторов на ПК
1. Скачать Fiddler из [https://www.telerik.com/fiddler](https://www.telerik.com/fiddler)
1. Обязательно выберите версию, которая «Предназначено для .NET Framework 4»
1. После установки перейдите к средствам -> Параметры Fiddler и включить захват подключений HTTPS и расшифровки HTTPS-трафика.  Обмен данными между среды выполнения и службы Xbox LIVE, шифруются с помощью протокола SSL.  Без этого параметра вы не увидите никаких полезных действий.  Примите все диалоговые окна, которые Fiddler всплывает (должно быть 5 диалоговые окна в том числе контроля учетных Записей)
1. Перейти к «WinConfig», «Будут исключены All» и «Сохранить изменения».  В противном случае Fiddler не будет работать с приложениями Store.
1. Теперь при запуске приложения вы увидите запросов и ответов, между приложением, среда выполнения и Xbox LIVE.

Для отладки вызовов уровня ОС универсальной платформы Windows, которые обычно не требуется, но может быть полезно при отладке события входа в систему и в игре, необходимо настроить Fiddler для захвата трафика WinHTTP.
Это можно сделать с помощью:
```cpp
    netsh winhttp set proxy 127.0.0.1:8888 "<-loopback>"
```
там, где порт 8888 соответствует номеру порта, вы настроили Fiddlers Сервис | Параметры | Вкладка "подключения" который по умолчанию является 8888.
Чтобы отменить это, выполните следующую команду:
```cpp
    netsh winhttp reset proxy
```

## <a name="for-xbox-one-uwp-based-projects"></a>Для проектов на основе одного UWP Xbox

Приведенные здесь действия [https://docs.microsoft.com/en-us/windows/uwp/xbox-apps/uwp-fiddler](https://docs.microsoft.com/en-us/windows/uwp/xbox-apps/uwp-fiddler)

## <a name="for-xbox-one-xdk-based-projects"></a>Для одного XDK Xbox проектов на основе.

В обычных условиях консоль, которая устанавливает связь через прокси-сервер, подвержена риску изменения процесса связи прокси-сервером, что потенциально дает игрокам возможность жульничать. Поэтому консоли спроектированы таким образом, что не позволяют устанавливать связь через прокси-сервер. Для использования Fiddler с комплектом средств разработки для Xbox One требуется выполнить ряд специальных действий по настройке комплекта средств разработки, чтобы он мог использовать прокси-сервер Fiddler.

Fiddler — это бесплатное средство. Его можно загрузить на [веб-сайте Fiddler](https://www.telerik.com/fiddler/).

Fiddler может влиять на состояние сети, о котором сообщает консоль. Если восходящее соединение отключено с компьютера, на котором запущен Fiddler, консоль может не обнаружить это отключение до тех пор, пока для нее не истечет срок действия проверки подлинности. Если вы используете Fiddler, следует отключать соединение между консолью и компьютером, на котором запущен Fiddler, а не имитировать отключение с помощью Fiddler. По-прежнему лучше, используйте сетевой нагрузкой средства таким образом имитировать отключения в целях тестирования.

Установка и включение Fiddler на Компьютере разработки

Выполните следующие действия, чтобы установить и включить Fiddler отслеживать трафик из вашей пакет средств разработки.

1. Установите Fiddler на своем компьютере разработчика, следуя указаниям на [веб-сайте Fiddler](https://www.telerik.com/fiddler/).
1. Запустите Fiddler и выберите параметры Fiddler из меню "Сервис".
1. Выберите вкладку «подключения» и убедитесь, что установлен флажок Разрешить подключение удаленных компьютеров флажок.
1. Нажмите кнопку ОК, чтобы принять изменения в параметры. Появится диалоговое окно, сообщающее, что Fiddler необходимо перезапустить, чтобы изменения вступили в силу, и что может понадобиться ручная настройка брандмауэра. В этом диалоговом окне нажмите кнопку ОК, но еще не перезапускать Fiddler.
1. Настройте нужное правило брандмауэра, чтобы разрешить подключения для удаленных компьютеров. Откройте апплет панели управления брандмауэром Windows. Выберите дополнительные параметры и затем правило входящего трафика. Найдите правило с именем «FiddlerProxy» и прокрутите вправо, и убедиться, что каждый из следующих параметров отображается для этого правила.

| Параметр          | Рекомендуемое значение                |
|------------------|--------------------------------|
| Имя             | FiddlerProxy                   |
| Группа            | (не задано значение для группы) |
| Профиль          | Все                            |
| Enabled          | Да                            |
| Действие           | Разрешить                          |
| Переопределение         | Нет                             |
| Программа          | Путь к fiddler.exe            |
| LocalAddress     | Любой                            |
| RemoteAddress    | Любой                            |
| Используемый протокол         | TCP                            |
| Локальный порт        | Любой                            |
| Удаленный порт       | Любой                            |
| Разрешенные пользователи     | Любой                            |
| Разрешенные компьютеры | Любой                            |


1. Настройте Fiddler для записи и расшифровки трафика HTTPS.
    1. Чтобы включить наилучшей производительности, установите Fiddler для использования режима потоковой передачи, нажав кнопку Stream в панели кнопок.
    1. В Fiddler выберите средства, а затем параметры Fiddler, а затем HTTPS.
    1. Установите флажок расшифровки HTTPS трафика. Если окно messagebox с вопросом для настройки Windows, чтобы доверять сертификату ЦС, нажмите кнопку "Нет".
    1. Выберите корневой сертификат, экспортировать к кнопке рабочего стола.
1. Выйдите из Fiddler и запустите его снова.

### <a name="to-configure-a-dev-kit-to-use-fiddler-as-its-proxy-to-the-internet"></a>Настройка комплекта средств разработки для использования Fiddler в качестве прокси-сервера для подключения к Интернету
Конфигурация Fiddler в пакет средств разработки упрощена метода, используемого в предыдущих выпусках.

1. Скопируйте Fiddler корневой сертификат, который был экспортирован в рабочем столе, в пакет средств разработки, как``` xs:\Microsoft\Cert\FiddlerRoot.cer```.  Можно использовать следующую команду:  ```xbcp [local Fiddler Root directory]\FiddlerRoot.cer xs:\Microsoft\Cert\FiddlerRoot.cer```
1. Создайте текстовый файл с именем ```ProxyAddress.txt```с IP-адрес или имя узла Компьютере разработки под управлением Fiddler и номер порта где Fiddler прослушивает как единственное содержимое в файле. Формат имени или IP-адрес и порт следующим образом: «УЗЕЛ: ПОРТ». (По умолчанию, Fiddler использует порт 8888). Например «10.124.220.250:8888» или «my_dev_pc.contoso.com:8888». Скопируйте этот файл в пакет средств разработки, как xs:\Microsoft\Fiddler\ProxyAddress.txt.  Можно использовать следующую команду:  ```xbcp [local Proxy Address file directory]\ProxyAddress.txt xs:\Microsoft\Fiddler\ProxyAddress.txt```
1. Перезагрузите пакет средств разработки, введя ```xbreboot``` в командной строке

### <a name="to-stop-using-fiddler"></a>Прекращение использования Fiddler

Чтобы остановить с помощью Fiddler в качестве прокси-сервера к Интернету и таким образом трассировки весь сетевой трафик комплекта разработки в Fiddler, просто переименуйте или удалите файл FiddlerRoot.cer в пакет средств разработки и перезагрузите пакет средств разработки.

### <a name="how-it-works"></a>Принцип работы

Наличие файла xs:\Microsoft\Cert\FiddlerRoot.cer и во время загрузки файла xs:\Microsoft\Fiddler\ProxyAddress.txt вызывает средств разработки, чтобы настроиться на использование прокси-сервер, указанный в ProxyAddress.txt. Если отсутствует один из файлов, затем пакет средств разработки не настраивается сам работать через прокси-сервер Fiddler.

На всех компьютерах с установленным Fiddler используются разные корневые сертификаты Fiddler. При наличии более одного ПК, который может использоваться для предоставления прокси-сервер Fiddler для вашего пакета средств разработки, можно скопировать каждого ПК Fiddler корневой сертификат в каталоге xs:\Microsoft\Cert до тех пор, пока один из них называется FiddlerRoot.cer. Все сертификаты в каталоге Cert проверяются при проверке подлинности прокси-сервер Fiddler. Экземпляр Fiddler на любом ПК адрес находится в ProxyAddress.txt будет использоваться как прокси, до тех пор, пока его сертификат присутствует в каталоге сертификата.
