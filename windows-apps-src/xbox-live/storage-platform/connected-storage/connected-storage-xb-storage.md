---
title: Управление хранилищем локального подключения
description: Узнайте, как управление локальными данными подключения хранилища в среде разработки.
ms.assetid: 630cb5fc-5d48-4026-8d6c-3aa617d75b2e
ms.date: 02/27/2018
ms.topic: article
keywords: Xbox live, xbox, игры, универсальной платформы Windows, windows 10 для настольных ПК, xbox, подключенные устройства хранения
ms.localizationpriority: medium
ms.openlocfilehash: 09fce637c50b0a03230d0808e51a9e5cfadc7179
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57642059"
---
# <a name="managing-local-connected-storage"></a>Управление хранилищем локального подключения
Подключение хранилища используется для хранения данных игр в облаке, имеется также компонент локального хранилища в службу хранилища, подключенные. Какой бы ни на ПК или консоли есть локальный кэш подключения хранилища данных, которые содержат данные, синхронизируются с облаком. При создании заголовка XDK или UWP есть средство, чтобы можно было управлять в локальные данные хранилища, подключенных.

См. в следующей таблице, чтобы найти подходящее средство для управления локально кэшированные данные подключения хранилища:

|Заголовок классификации  |Устройство  |Средство локального хранилища  |
|---------|---------|---------|
|XDK     |Xbox One Console     |*xbstorage*         |
|UWP     |Компьютер         |*gamesaveutil*         |
|UWP     |Xbox One Console     |Портал устройств Xbox (XDP |)

- *Xbstorage* — это средство командной строки, выполните в командной строке XDK, для управления кэшированное подключение хранилища в одной консоли Xbox. *Xbstorage* средство можно найти в Xbox один XDK в путь к файлу: **Durango XDK/bin/xbstorage.exe (x86) /Program файлы или Microsoft**
- *Gamesaveutil* -это средство командной строки для управления UWP локально кэшированных подключенные хранилища на ПК. *Gamesaveutil* средство поставляется в комплекте с [пакета SDK для Windows 10](https://developer.microsoft.com/en-US/windows/downloads/windows-10-sdk) Fall Creators Update и более поздних версий (построение 10.0.16299.15 и более поздних версий). После установки соответствующей версии пакета SDK для Windows 10, *gamesaveutil* можно найти в папке: **Комплекты ProgramFiles(x86)/Windows/10/bin / [пакет SDK для Version]/x64/gamesaveutil.exe**.
- *Portal(XDP) устройства Xbox* представляет собой online портал, который позволяет управлять локально кэшированных данных подключенных UWP хранения на одной консоли Xbox. В этой статье рассматриваются XDP использования. Узнайте, как использовать XDP. в статье [портал устройств для Xbox](https://docs.microsoft.com/en-us/windows/uwp/debug-test-perf/device-portal-xbox).

## <a name="xbstorage"></a>Xbstorage

*Xbstorage* позволяет очистка локально кэшированные данные подключения хранилища данных с жесткого диска, а также импорт и экспорт данных для пользователей или компьютеров из подключенных дисковых пространств с помощью XML-файлов.

При выполнении операции над локальных данных с помощью *xbstorage* средство, система будет работать так, будто этой операции в приложении, поэтому чтение данных из подключенных дисковое пространство в локальный файл будет к тому, что Синхронизация с облаком перед копированием.

Аналогичным образом копия данных из XML-файл на Компьютере разработки в контейнер хранилища, подключенных на Xbox One dev kit приведет к консоли начать отправку данных в облако. Тем не менее, существуют условия, в которых это не затронет: Если комплекта разработки не удается получить блокировку, или если возникает конфликт данных между контейнерами на консоль и в облаке, консоль будет работать так, будто пользователь решили не дать разрешения конфликта, комплектации одну версию контейнера, необходимо сохранить, а консоль будет вести себя так, как если бы воспроизведении вне сети до следующего запуска заголовок.

Единственным исключением для этих команд является **Сброс** **/force** которого удаляет сохраненные данные в локальном хранилище для всех SCIDs и пользователей, но не изменяет данные, хранящиеся в облаке. Это полезно для помещения в состояние, в котором было бы в, если пользователь перемещаемых на консоль и загрузка данных из облака на воспроизведение заголовка консоли.

### <a name="xbstorage-commands"></a>Команды Xbstorage

Xbstorage имеет следующие шесть команд разработчики могут использовать с XDK командной строки для управления локальные данные на их Xbox один пакет средств разработки:

<a id="xbstorage_reset"></a>

|Команда  |Описание  |
|---------|---------|
|сброс    |Выполняет сброс подключения хранилища.         |
|импорт   |Импортирует данные из указанного файла XML в подключенных дискового пространства.         |
|Экспорт   |Экспортирует данные из подключенных дисковое пространство в указанный XML-файл.         |
|"Удалить"   |Удаляет данные из подключенных дискового пространства.         |
|создать |Создает фиктивных данных и сохраняет заданный XML-файл.         |
|Имитация |Имитирует хранилища условия нехватки места.         |

### <a name="xbstorage-reset"></a>Сброс Xbstorage

`xbstorage reset [/force]`

Стирает все локальные данные в хранилище, подключенных с локальной консоли, восстановится до заводских настроек. Данных, который сохранен в облако не изменяется и загружается повторно при необходимости.

|Параметр  |Описание  |
|---------|---------|
|/ Force   |Подтверждает, что подключение хранилища следует сбросить. Выполнение команды сброса без указания **/force** приводит к отображаться следующие сообщения:   Так как фабрика подключенные хранилища сброса является потенциально необратимой операцией, эта команда не выполняет сброс, пока **/force** флаг присутствует. |

<a id="xbstorage_import"></a>

### <a name="xbstorage-import"></a>Импорт Xbstorage

`xbstorage import *file-name* [/scid:*SCID*] [/machine] [/msa:*account*] [/replace] [/verbose]`

Импортирует данные, указанные в *filename* подключенных дисковому пространству.
Файл является XML-файл, содержащий данные. Например, см. в разделе [xbstorage создания](#xbstorage_generate). Дополнительные сведения о формате файла XML, см. в разделе [формат файла импорта и экспорта](#xbstorage_fileformat)далее в этом разделе.
Для указания места хранения, подключенные двумя способами:

- Если входной файл имеет **ContextDescription** раздел, в котором правильно заполнен, то он будет использоваться для указания места хранения, подключенные.
- Дисковое пространство может также быть частично или полностью задается при помощи параметров командной строки, которые имеют приоритет над соответствующих элементов дискового пространства, заданными во входном файле.

Примеры использования:

```cmd
  xbstorage import mydata.xml
  xbstorage import mydata.xml /replace
  xbstorage import mydata.xml /machine /scid:2AAEB34B-DAB2-4879-B625-D970069C1D22
  xbstorage import mydata.xml /msa:user@domain.com /scid:2AAEB34B-DAB2-4879-B625-D970069C1D22
  xbstorage import mydata.xml /verbose 
```

> [!NOTE]
> Прежде чем импортировать для указанного подключения дисковое пространство, система будет пытаться синхронизировать с облаком, используя ту же логику, которая запускается при подключенных дисковое пространство, приобретается путем выполняемому приложению.
>
> Если выполняется приложение с же первичного SCID, эта операция может привести к гонки и содержимое подключенных дисковое пространство может находиться в неопределенном состоянии.
>
> Если **/замены** не указан, контейнерах, указанных во входном файле будут удалены перед записью в большие двоичные объекты, заданные во входном файле. Контейнеры в подключенных дисковое пространство не указан во входном файле останутся без изменений.

|Параметр  |Описание  |
|---------|---------|
|*Имя файла*     |Задает XML-файл, содержащий данные для импорта.         |
|/scid:*SCID*    |Задает идентификатор конфигурации службы (SCID).         |
|/ machine        |Указывает, подключен дисковое пространство на уровне компьютера.  Этот параметр не может использоваться одновременно с **/msa** параметр.         |
|/MSA:*учетной записи*  |Указывает учетную запись, используемую для подключения хранилища пользователя. Консоль для пространства для использования необходимо входа пользователя.  Этот параметр не может использоваться одновременно с **или компьютер,** параметр.         |
|/REPLACE        |Удаляет все контейнеры в указанный подключенных дискового пространства перед импортом.         |
|/ verbose        |Состояние импорта.         |


 <a id="xbstorage_export"></a>

### <a name="xbstorage-export"></a>Xbstorage экспорта

`xbstorage export *outfile* [/context:*input-file*] [/scid:*SCID*] [/machine] [/msa:*account*] [/verbose]`

Экспортирует данные из подключенных дисковое пространство в файл, указанный параметром **outfile**.    Файл является XML-файл, содержащий данные. См. в разделе [xbstorage создания](#xbstorage_generate) чтобы узнать, как создать пример. Дополнительные сведения о формате файла XML, см. в разделе [формат файла импорта и экспорта](#xbstorage_fileformat)далее в этом разделе. Для указания места хранения, подключенные двумя способами:

- Если **/context** параметр используется, и имя файла указано в параметре \<infile > имеет **ContextDescription** раздел, в котором правильно заполнен, то этот файл будет использоваться для указания Подключенные дисковое пространство.
- В дисковом пространстве также можно частично или полностью указать с помощью параметров командной строки, которые имеют приоритет над соответствующих элементов дискового пространства, указанный в **/context** файла.

Примеры использования:

```cmd
  xbstorage export exporteddata.xml /context:space.xml
  xbstorage export exporteddata.xml /machine /scid:2AAEB34B-DAB2-4879-B625-D970069C1D22
  xbstorage export exporteddata.xml /msa:user@domain.com /scid:2AAEB34B-DAB2-4879-B625-D970069C1D22
  xbstorage export exporteddata.xml /context:space.xml /verbose
```

> [!NOTE]
> Перед экспортом указанного подключенных дискового пространства, система будет пытаться синхронизировать с облаком, используя ту же логику, которая запускается при подключенных дисковое пространство, приобретается путем работающего приложения.
>
> Если выполняется приложение с же первичного SCID, эта операция может привести к гонки и содержимое подключенных дисковое пространство может находиться в неопределенном состоянии.

|Параметр  |Описание  |
|---------|---------|
|*выходной файл*             |XML-файла данные будут экспортированы в.         |
|/context:*input-file* |Задает входной файл для чтения сведений о пространстве.         |
|/scid:*SCID*          |Задает идентификатор конфигурации службы (SCID).         |
|/ machine              |Указывает, подключен дисковое пространство на уровне компьютера.  Этот параметр не может использоваться одновременно с **/msa** параметр.         |
|/MSA:*учетной записи*        |Указывает учетную запись, используемую для подключения хранилища пользователя. Консоль для пространства для использования необходимо входа пользователя.  Этот параметр не может использоваться одновременно с **или компьютер,** параметр.         |
|/ verbose              |Отображает состояние операции экспорта.         |

<a id="xbstorage_delete"></a>

### <a name="xbstorage-delete"></a>Удалить Xbstorage

`xbstorage delete [/context:*input-file*] [/scid:*SCID*] [/machine] [/msa:*account*] [/verbose]`

Удаляет все данные из подключенных дискового пространства.
Для указания места хранения, подключенные двумя способами:

- Если **/context** параметр используется, и имя файла указано в параметре \<infile > имеет **ContextDescription** раздел, в котором правильно заполнен, то этот файл будет использоваться для указания Подключенные дисковое пространство.
- В дисковом пространстве также можно частично или полностью указать с помощью параметров командной строки, которые имеют приоритет над соответствующих элементов дискового пространства, указанный в **/context** файла.

Примеры использования:

```cmd
  xbstorage delete /context:space.xml
  xbstorage delete /machine /scid:2AAEB34B-DAB2-4879-B625-D970069C1D22
  xbstorage delete /msa:user@domain.com /scid:2AAEB34B-DAB2-4879-B625-D970069C1D22
  xbstorage delete /context:space.xml /verbose
```

> [!NOTE]
> Прежде чем удалить указанный подключенных дискового пространства, система будет пытаться синхронизировать с облаком, используя ту же логику, которая запускается при подключенных дисковое пространство, приобретается путем работающего приложения.
>> Если выполняется приложение с же первичного SCID, эта операция может привести к гонки и содержимое подключенных дисковое пространство может находиться в неопределенном состоянии.

|Параметр  |Описание |
|---------|---------|
|/context:*input-file*     |Задает входной файл для чтения сведений о пространстве.         |
|/scid:*SCID*              |Задает идентификатор конфигурации службы (SCID).         |
|/ machine                  |Указывает, подключен дисковое пространство на уровне компьютера.  Этот параметр не может использоваться одновременно с **/msa** параметр.         |
|/MSA:*учетной записи*            |Указывает учетную запись, используемую для подключения хранилища пользователя. Консоль для пространства для использования необходимо входа пользователя.  Этот параметр не может использоваться одновременно с **или компьютер,** параметр.         |
|/ verbose                  |Отображает состояние операции удаления.         |

 <a id="xbstorage_generate"></a>

### <a name="xbstorage-generate"></a>Создать Xbstorage

`xbstorage generate *file-name* [/containers:*n*] [/blobs:*n*] [/blobsize:*n*]`

Создает фиктивных данных и сохраняет файл, указанный \<имя файла >. Дополнительные сведения о формате файла XML, см. в разделе [формат файла импорта и экспорта](#xbstorage_fileformat)далее в этом разделе.    Идентификатор конфигурации службы (SCID) будет указано значение 00000000-0000-0000-0000-000000000000, а для подключенных дисковое пространство на уровне компьютера будут установлены учетной записи. Если вы хотите изменить эти значения, можно изменить файл непосредственно после его создания.

Примеры использования:

```cmd
  xbstorage generate dummydata.xml
  xbstorage generate dummydata.xml /containers:4
  xbstorage generate dummydata.xml /blobs:10
  xbstorage generate dummydata.xml /containers:4 /blobs:10
  xbstorage generate dummydata.xml /containers:4 /blobs:10 /blobsize:512
```

> [!NOTE]
> Байтовые данные — это простой последовательности по возрастанию; Например большой двоичный объект байтов пяти будет иметь следующий байт: 00 01 02 03 04. >> Если вы хотите указать подключенных дисковое пространство на пользователя, измените **учетной записи** узел в XML-файле, чтобы примерно следующим образом:
>  ```
>    <Account msa="user@domain.com"/>
>  ```

|Параметр  |Описание  |
|---------|---------|
|*Имя файла*     | Будет записываться XML-файл данных. |
|/Containers:*n* | Указывает номер, *n*, контейнеров для создания. Число по умолчанию — 2.  |
|/ большие двоичные объекты:*n*      | Указывает номер, *n*, больших двоичных объектов для создания. Число по умолчанию — 3.  |
|/blobsize:*n*   | Указывает номер, *n*, количество байтов для больших двоичных объектов. Размер по умолчанию — 1024 байт.  |

 <a id="xbstorage_simulate"></a>

### <a name="xbstorage-simulate"></a>Имитация Xbstorage

`xbstorage simulate [/reserveremainingspace] [/forceoutoflocalstorage] [/stop] [/verbose]`

Имитирует условия локального хранилища для службы хранилища, подключенных нехватки.

|Параметр  |Описание  |
|---------|---------|
|/reserveremainingspace | Оставляет за собой все оставшееся пространство в хранилище, подключены. Удаление что-то из ConnectedStorage откроется пространство, которое можно использовать. |

| / forceoutoflocalstorage | Имитирует подключенную службу хранилища, слева необходимости нет свободного места. Удаление что-то из подключенных хранилища не приведет к изменению службы подключенного хранилища из отчетов не хватает памяти. |

| / Остановка | Останавливает все моделирование. |

| / verbose | Состояние имитации операции. |

 <a id="ID4E4MAC"></a>

### <a name="common-options"></a>Общие параметры

`xbstorage [/?] [/X*:address* [*+accesskey*] ]`

|Параметр  |Описание  |
|---------|---------|
| /?                           |  Отображает справку для xbstorage.exe |
| /X *: адрес* [*+ accesskey*]  | Указывает имя узла или адрес (показана как **IP-адрес средства** на консоли) целевых консоли, но не приводит к изменению консоль по умолчанию. Если вы не используете этот параметр, используется консоль по умолчанию. *Accesskey* представляет собой строку, можно использовать для ограничения доступа к консоли только тем пользователям, которые знают ключ доступа. Задать ключ доступа с помощью команды **xbconfig** **accesskey = *** создания ключей*; перезапустите консоль для вступления в силу ключ доступа. Чтобы получить доступ к консоли, который настраивается с помощью ключа доступа, необходимо включить знак плюс (+) и ключ доступа после IP-адрес или имя консоли.
> [!NOTE]
> Если ключ доступа предоставляется в том случае, если консоль по умолчанию задается xbconnect, ключ доступа хранится как часть адреса консоли по умолчанию.
|

## <a name="gamesaveutil"></a>Gamesaveutil

*Gamesaveutil* можно управлять локально кэшированные подключения хранилища для приложения со всеми одной и той же функции, которые *xbstorage* предоставляет. Так же, как средство xbstorage *gamesaveutil* предлагает те же данные шесть, управление функции, с некоторыми различиями в поведении. Импорт, экспорт, удаляется, и команды восстановления требуется пользователю входить в Xbox Live. Приложение Xbox в Windows 10 можно использовать для просмотра и изменения текущего пользователя.

### <a name="commands"></a>Команды

|Команда  |Описание  |
|---------|---------|
|импорт   |Импортирует данные из указанного файла XML         |
|Экспорт   |Экспортирует данные в указанный XML-файл         |
|"Удалить"   |Удаляет данные из указанного приложения        |
|сброс    |Удаляет локальные данные только для указанного приложения         |
|создать |Создает фиктивных данных и сохраняет в указанный XML-файл         |
|Имитация |имитирует специальные условия, которые трудно протестировать         |

### <a name="gamesaveutil-import"></a>Импорт Gamesaveutil

`gamesaveutil import <filename> [/pfn:<PFN>] [/scid:<SCID>] [/replace]`

Импортирует данные, указанные в \<имя файла >

Файл является XML-файл, содержащий данные. Тип `gamesaveutil help generate` чтобы узнать, как создать пример.

Существует два способа, чтобы указать приложение pfn-ИМЕНИ и SCID, где данные сохраняются:

Если входной файл имеет ContextDescription раздел, в котором заполняется правильно, то он будет использоваться для указания целевого приложения pfn-ИМЕНИ и SCID.

Pfn-ИМЕНИ и SCID можно частично или полностью указать с помощью параметров командной строки, которые имеют приоритет над соответствующих элементов указанного имени семейства пакетов и SCID из входного файла.

|Параметр  |Описание  |
|---------|---------|
|/pfn:\<PFN>       |Указывает семейство Name(PFN) пакета для приложения для выполнения импорта для. Должно быть установлено приложение.         |
|/scid:\<SCID>     |Задает идентификатор конфигурации службы (SCID). Это из конфигурации Xbox Live.         |
|/REPLACE         |Удалите все контейнеры до выполнения импорта.         |

Пример использования:

```cmd
gamesaveutil import mydata.xml
gamesaveutil import mydata.xml /replace
gamesaveutil import mydata.xml /pfn:MyGame_xxxxxx /scid:2AAEB34B-DAB2-4879-B625-D970069C1D22
```


> [!NOTE]
> Приложения должны быть установлены и синхронизировать данные уже для импорта.
> 
> Если /replace не указан, существующие контейнеры не будут затронуты, если они не указаны во входном файле.

### <a name="gamesaveutil-export"></a>Gamesaveutil экспорта

`gamesaveutil export <outfile> [/pfn:<PFN>] [/scid:<SCID>] [/context:<infile>]`

Экспортирует данные в файл, указанный параметром \<выходной_файл >.

Файл является XML-файл, содержащий данные. Введите команду gamesaveutil help создать, чтобы узнать, как создать пример.

Чтобы указать расположение для экспорта данных двумя способами:

Если используется параметр /context и имя файла, определяемое \<infile > имеет ContextDescription раздел, в котором правильно заполнен, то этот файл будет использоваться для указания расположения источника данных.

Можно также указать расположение с помощью параметров командной строки, которые имеют приоритет над соответствующие элементы, указанные в файле /context.

|Параметр  |Описание  |
|---------|---------|
|/context:\<infile>     |Используйте указанный файл, чтобы указать приложение pfn-ИМЕНИ и SCID.         |
|/pfn:\<PFN>            |Указывает Name(PFN) семейства пакетов для приложения, чтобы выполнить экспорт из. Должно быть установлено приложение.       |
|/scid:\<SCID>          |Задает идентификатор конфигурации службы (SCID). Это из конфигурации Xbox Live.        |

Пример использования:

```cmd
gamesaveutil export exporteddata.xml /context:target.xml
gamesaveutil export exporteddata.xml /pfn:MyGame_xxxxxx /scid:2AAEB34B-DAB2-4879-B625-D970069C1D22
```


> [!NOTE]
> Приложения должны быть установлены и синхронизировать данные уже для экспорта.

### <a name="gamesaveutil-delete"></a>Удалить Gamesaveutil

`gamesaveutil delete [/pfn:<PFN>] [/scid:<SCID>] [/context:<infile>]`

Удаляет все данные для заданного имени семейства пакетов и SCID.

Чтобы указать расположение для удаления данных двумя способами:

Если используется параметр /context и имя файла, определяемое \<infile > имеет ContextDescription раздел, в котором правильно заполнен, то этот файл будет использоваться для указания расположения источника данных.

Можно также указать расположение с помощью параметров командной строки, которые имеют приоритет над соответствующие элементы, указанные в файле /context.

|Параметр  |Описание  |
|---------|---------|
|/context:\<infile>     |Используйте указанный файл, чтобы указать приложение pfn-ИМЕНИ и SCID.         |
|/pfn:\<PFN>            |Указывает Name(PFN) семейства пакета для приложения, чтобы удалить данные из. Должно быть установлено приложение.       |
|/scid:\<SCID>          |Задает идентификатор конфигурации службы (SCID). Это из конфигурации Xbox Live.        |

Пример использования:

```cmd
gamesaveutil delete /context:target.xml
gamesaveutil delete /pfn:MyGame_xxxxxx /scid:2AAEB34B-DAB2-4879-B625-D970069C1D22
```


> [!NOTE]
> Чтобы удалить контейнеры должны устанавливаться приложение.

### <a name="gamesaveutil-reset"></a>Сброс Gamesaveutil

`gamesaveutil reset [/pfn:<PFN>] [/scid:<SCID>] [/context:<infile>]`

Удаляет все локальные данные для заданного имени семейства пакетов и SCID.

Чтобы указать расположение для удаления данных двумя способами:

Если используется параметр /context и имя файла, определяемое \<infile > имеет ContextDescription раздел, в котором правильно заполнен, то этот файл будет использоваться для указания расположения источника данных.

Можно также указать расположение с помощью параметров командной строки, которые имеют приоритет над соответствующие элементы, указанные в файле /context.

|Параметр  |Описание  |
|---------|---------|
|/context:\<infile>     |Используйте указанный файл, чтобы указать приложение pfn-ИМЕНИ и SCID.         |
|/pfn:\<PFN>            |Указывает Name(PFN) семейства пакета для приложения, чтобы удалить данные из. Должно быть установлено приложение.       |
|/scid:\<SCID>          |Задает идентификатор конфигурации службы (SCID). Это из конфигурации Xbox Live.        |

Пример использования:

```cmd
gamesaveutil reset /context:target.xml
gamesaveutil reset /pfn:MyGame_xxxxxx /scid:2AAEB34B-DAB2-4879-B625-D970069C1D22
```


> [!NOTE]
> Чтобы удалить локальные данные, необходимо установить приложение.

### <a name="gamesaveutil-generate"></a>Создать Gamesaveutil

`gamesaveutil generate <filename> [/containers:<n>] [/blobs:<n>] [/blobsize:<n>]`

Создает фиктивных данных и сохраняет файл, указанный \<имя файла >.
Идентификатор конфигурации службы (SCID) будет присвоено 00000000-0000-0000-0000-000000000000. Измените файл вручную после создания, чтобы изменить эти значения, при желании.

|Параметр  |Описание  |
|---------|---------|
|/Containers:\<n >     |Указывает, сколько контейнеров для создания. По умолчанию — 2.         |
|/blobs:\<n>          |Указывает, сколько большие двоичные объекты каждый контейнер для создания. Значение по умолчанию — 3.        |
|/blobsize:\<n >       |Указывает, сколько байтов на большой двоичный объект. По умолчанию — 1024.         |

Пример использования:

```cmd
gamesaveutil generate dummydata.xml
gamesaveutil generate dummydata.xml /containers:4
gamesaveutil generate dummydata.xml /blobs:10
gamesaveutil generate dummydata.xml /containers:4 /blobs:10
gamesaveutil generate dummydata.xml /containers:4 /blobs:10 /blobsize:512
```


> [!NOTE]
> Байтовые данные — это простой последовательности по возрастанию, т. е. пять байт BLOB-объекта должен был байты 02 03 00 01 04.

### <a name="gamesaveutil-simulate"></a>Имитация Gamesaveutil

`gamesaveutil simulate [/markcontainerschanged] [/stop]`

Имитирует специальные условия для определенных сценариев тестирования.

|Параметр  |Описание  |
|---------|---------|
|/markcontainerschanged     |Заставляет все контейнеры, подобно тому, как они были изменены когда приложение возобновляет работу после приостановки и возвращает новый поставщик. Влияет на все приложения, пока не будет очищен с/Stop.      |
|/ STOP                      |Останавливает все моделирование.         |


 <a id="xbstorage_fileformat"></a>

## <a name="import-and-export-file-format"></a>Формат файла импорта и экспорта

XML-файл, используемый с **импорта**, **Экспорт**, и **создания** команды с параметром *xbstorage* средство имеет формат, показанный на Ниже приведен пример.

```xml
<?xml version="1.0" encoding="UTF-8"?>
  <XbConnectedStorageSpace>
    <ContextDescription>
      <Account msa="user@domain.com" />
      <Title scid="00000000-0000-0000-0000-000000000000" />
    </ContextDescription>
    <Data>
      <Containers>
        <Container name="Container1" displayName="Optional Display Name">
          <Blobs>
            <Blob name="Blob1">
              <![CDATA[... ] ]>
            </Blob>
            ...
            <Blob name="BlobN">
              <![CDATA[... ] ]>
            </Blob>
          </Blobs>
        </Container>
        ...
        <Container name="ContainerN">
        ...
        </Container>
      </Containers>
    </Data>
  </XbConnectedStorageSpace>
```

Единственное изменение, необходимое для форматирования этот XML-код для **импорта**, **Экспорт**, и **создания** в *gamesaveutil* заключается в замене \<Учетной записи > узел члена \<ContextDescription > узел с \<PackageFamilyName > узла.
Это приведет к изменению \<ContextDescription > узел из этого:

```xml
<ContextDescription>
    <Account msa="user@domain.com" />
    <Title scid="00000000-0000-0000-0000-000000000000" />
</ContextDescription>
```

На эту:

```xml
<ContextDescription>
    <PackageFamilyName pfn="MyGame_xxxxxx" />
    <Title scid="00000000-0000-0000-0000-000000000000" />
</ContextDescription>
```

> [!NOTE]
> Формат данных в этих файлах XML не совпадает с платформой, для импорта и экспорта только в целях. Формат данных для этих файлов XML может измениться в будущем, поэтому они должны рассматриваться как формате промежуточные или служебной программы, не архивного формата.

**ContextDescription** узел является необязательным. Если вы вносите подключенных дискового пространства для машины, можно использовать `<Account machine="true"/>` вместо `<Account msa="user@domain.com"/>`. В противном случае контекст можно указать в командной строке для импорта.
Большие двоичные объекты и контейнеры, должны иметь соответствующие имена, предоставленных игры и приложения, для которого создается файл.
Содержимое каждого большого двоичного объекта должен быть строкой в оболочку **CDATA** тег, который создается путем вызова **CryptBinaryToStringW** с флагом **CRYPT_STRING_BASE64** Предоставление данных для этого большого двоичного объекта как массив необработанных байтов. И наоборот, данные BLOB-объектов могут быть преобразованы в обратно с помощью вызова **CryptStringToBinary** и предоставляя ранее зашифрованную строку. Пример использования двух этих функций показан в [CryptBinaryToString возвращает недопустимые байты](https://social.msdn.microsoft.com/Forums/vstudio/en-US/9acac904-c226-4ae0-9b7f-261993b9fda2/cryptbinarytostring-returns-invalid-bytes?forum=vcgeneral) на форумах MSDN для Visual Studio.

<a id="ID4EWBAE"></a>