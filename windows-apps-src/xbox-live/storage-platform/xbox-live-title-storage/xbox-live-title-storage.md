---
title: Xbox Live Title хранилища
description: Сведения об использовании хранилища-Title Xbox Live для хранения информации, игр для названия в облаке.
ms.assetid: a4182bc8-d232-4e77-93ae-97fe17ac71b1
ms.date: 04/04/2017
ms.topic: article
keywords: xbox live, xbox, игры, uwp, windows 10, xbox one
ms.localizationpriority: medium
ms.openlocfilehash: 472a2131c113cdde5d7383e169e4fbe638e4e555
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57623929"
---
# <a name="xbox-live-title-storage"></a>Xbox Live Title хранилища

Xbox Live title служба хранилища предоставляет способ хранения игр сведения для названия в облаке. Эту службу можно использовать для игровых программ для всех платформ.

<a name="ID4EW"></a>

## <a name="features-of-xbox-live-title-storage"></a>Функции Xbox Live, название хранилища

Некоторые функции высокого уровня хранилища title Xbox Live, включают, но не ограничиваются:

-   Может использоваться несколькими пользователями, заголовки и различных платформ
-   Поддержка JSON, двоичных данных и файлы конфигурации

Более подробно в следующих разделах описаны основные возможности хранения title Xbox Live:

-   [Тип хранилища](#ID4ETB)
-   [Типы данных](#ID4ECF)
-   [URI хранилища Title](#ID4EBEAC)
-   [Предел регулирования](#ID4ETEAC)

<a name="ID4ETB"></a>

Для управляемых партнеров и ID@Xbox члены:

| Тип хранилища       | Квота (управляемые Partners/ID@Xbox) | Квота (Xbox Live Creators Program) |  Описание                                                                                                                                                      | Платформы                                                                                           | Пользователи                                       |
|--------------------|--------------------|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|---------------------------------------------|
| Доверенный платформенный   | 256 МБ на пользователя | 64 МБ на пользователя    | Пользовательские данные, такие как сохраненные игры или состояния игры для воспроизведения, приостановки или возобновления. Более безопасный, но со ограничения платформы. | Может читать любой платформе, но могут записывать только Xbox One, Xbox 360 или Windows Phone.  | Можно настроить равным public или только владелец.       |
| Универсальная платформа | 64 МБ на пользователя | 64 МБ на пользователя    | Пользовательские данные, такие как сохраненные игры или состояния игры для воспроизведения, приостановки или возобновления. | Написать любой платформе, но может считывать только платформ, отличных от Xbox One, Xbox 360 или Windows Phone. | Можно настроить равным public или только владелец.       |
| Глобальная             | 256 МБ | 256 МБ            | Данные, все может прочитать, например расписания, карты, проблемы или art ресурсы. | Только для записи на портале разработчиков Xbox или центра партнеров, любой платформы может считывать.                                | Все пользователи могут считывать.

### <a name="deprecated-storage-types"></a>Типы хранилищ, устаревшие

Следующие типы хранилища являются устаревшими. Они поддерживаются только для заголовков, которые в настоящее время они используются. Они недоступны для новых книг.

| Тип хранилища       | квота;  |   Описание                                                                                                                                                      | Платформы                                                                                           | Пользователи                                       |
|--------------------|--------------------|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|---------------------------------------------|
| JSON               | 64 МБ на пользователя     | Пользовательские данные, такие как сохраненные игры или состояния игры для воспроизведения, приостановки или возобновления. Более безопасна, без ограничений платформы, с учетом данных форматирования ограничения (JSON). | Любой платформе могут чтения или записи.                                                                     | Можно настроить равным public или только владелец.       |
| Устройство             | 64 МБ в устройстве   | Данные, относящиеся к устройству, такие как параметры и настройки устройства.                                                                                            | Могут записывать только Xbox One, Xbox 360 или Windows Phone. Может считывать только устройство, которое записало данные.  | Все пользователи могут считывать.                         |
| Хранилища сеанса    | 256 МБ на сеанс | Данные для тех, кто присоединены к определенному сеансу многопользовательских игр.                                                                                             | Любой платформы, которая может подключиться к сеансу.                                                             | Все пользователи в сеансе может чтения или записи. |


<a name="ID4ECF"></a>

## <a name="types-of-data"></a>Типы данных

Игры указать тип данных для использования в **{type}** параметр метода GET или PUT. В следующем разделе описаны три поддерживаемых типов:

-   [Двоичные данные](#ID4ENF)
-   [Сведения о JSON](#ID4EUF)
-   [сведения о конфигурации](#ID4ECAAC)

<a name="ID4ENF"></a>

#### <a name="binary-information"></a>Двоичные данные

Изображения, звуки и пользовательских данных использовать двоичный тип. Так как данные должны передаваться по протоколу HTTP, двоичные данные должны быть закодированы в символы, которые принимает HTTP. Например можно преобразовать данные в шестнадцатеричных строк или использовать кодировку base64. Система хранения заголовка не обрабатывает закодированные данные, поэтому игры должны использовать ту же схему для кодирования и декодирования данных при чтении и записи в хранилище title.

<a name="ID4EUF"></a>

#### <a name="json-information"></a>Сведения о JSON

Тип JSON можно использовать структурированные данные. Объекты JSON можно непосредственно использовать на таких языках, таких как JavaScript, которые их поддерживают. При получении данных из JSON-файлов, можно указать игры *выберите* для возврата определенных элементов в структуре. Например используйте файле формата JSON, содержащий следующие сведения:

    {
    "difficulty" : 1,
    "level" :
        [
            { "number" : "1", "quest" : "swords" },
            { "number" : "2", "quest" : "iron" },
            { "number" : "3", "quest" : "gold" },
            { "number" : "4", "quest" : "queen" }
         ],
    "weapon" :
        {
             "name" : "poison",
             "timeleft" : "2mins"
        }
    }


| Примечание.                                                                                                                                              |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| В целях безопасности первый элемент данных JSON, не должен быть массивом. Данные JSON, отправленных с массивом в корне будут отклонены службой. |

Игры можно выбрать некоторые части этой структуры с помощью запроса следующим образом:

             GET https://titlestorage.xboxlive.com/users/xuid(1234)/storage/titlestorage/titlegroups/
             faa29d21-2b49-4908-96bf-b953157ac4fe/data/save1.dat,json?select=weapon.name
             Content-Type: application/octet-stream
             x-xbl-contract-version: 1
             Authorization: XBL3.0 x=<userHash>;<STSTokenString>
             Connection: Keep-Alive

Текст ответа для этого запроса будет:

    {
        "name" : "poison"
    }

Массив может осуществляться с помощью запроса следующим образом:

      GET https://titlestorage.xboxlive.com//users/xuid(1234)/storage/titlestorage/titlegroups/
      faa29d21-2b49-4908-96bf-b953157ac4fe/data/save1.dat,json?select=levels[3].quest
      Content-Type: application/octet-stream
      x-xbl-contract-version: 1
      Authorization: XBL3.0 x=<userHash>;<STSTokenString>
      Connection: Keep-Alive

Текст ответа для этого запроса будет:

    {
        "quest" : "queen"
    }

Применяются следующие ограничения длины данных JSON:

-   Числовое значение, максимальная длина = 32
-   Строковое значение, максимум = 1024
-   Имя свойства, максимальная длина = 64
-   Иерархия, максимальная глубина = 16
-   Массив, максимальный размер 1024
-   Свойства дочерних элементов, максимальное значение в объекте = 1024

<a name="ID4ECAAC"></a>

#### <a name="configuration-information"></a>сведения о конфигурации

**{Type}** может быть **config** для показывает, что данные большого двоичного объекта конфигурации. Конфигурации BLOB-объекты — структур данных, которые хранятся в хранилище глобального title. В объект JSON похож формат большого двоичного объекта.

Большие двоичные объекты конфигурации может включать виртуальные узлы, которые возвращают значение из списка возможных значений. Виртуальные узлы можно использовать для предоставления параметров для определенных ситуаций, таких как для заголовка или языкового стандарта. Виртуальный узел включает в себя несколько возможные параметры, а также значения и условия для выбора из значений. В следующем примере **defaultCardDesign** параметр может иметь одно из значений в этот виртуальный узел.

    {
      "defaultCardDesign":
      {
        "_virtualNode":
       {
          "_selectBy":"titleId",
          "_sourceNodes":
          [
            {"_selector":"123456799", "_data":"RobotUnicornCard.png,binary"},
            {"_selector":"default", "_data":"StandardCard.png,binary"}
          ]
        }
      },
    }

Когда игра считывает этот файл, система выбирает одно из значений из  **\_sourceNodes** массива. В этом случае элемент выбирается на основе идентификатора название игры. Пользователи, играя в игру **12456799** см. в разделе:

    {
      "defaultCardDesign":"RobotUnicornCard.png,binary",
      "_sourceNodes":["defaultCardDesign:titleID:1234567899"]
    }

Остальные пользователи см. в разделе:

    {
      "defaultCardDesign":"StandardCard.png,binary",
      "_sourceNodes":["defaultCardDesign:titleID:default"]
    }

Игры можно определить пользовательские селекторы, соответствующие параметру в запросе. Например в этот большой двоичный объект конфигурации:

    {
        "defaultCardDesign":
        {
            "_virtualNode":
            {
                "_selectBy":"custom:gameMode",
                "_sourceNodes":
                [
                    {"_selector":"silly", "_data":"RobotUnicornCard.png,binary"},
                    {"_selector":"serious", "_data":"SeriousCard.png,binary"},
                    {"_selector":"default", "_data":"StandardCard.png,binary"}
                 ]
            }
        },
        "backgroundColor":"green",
        "dealerHitsOnSoft17":true
    }

Игры передать строку **customSelector** параметр, чтобы выбрать элемент для возврата. Например чтобы получить второй вариант, игра запрашивает:

      GET https://titlestorage.xboxlive.com/media/titlegroups/faa29d21-2b49-4908-96bf-b953157ac4fe
      /storage/data/config.json,config?customSelector=gameMode.serious
      Content-Type: application/octet-stream
      x-xbl-contract-version: 1
      Authorization: XBL3.0 x=<userHash>;<STSTokenString>
      Connection: Keep-Alive

 **\_SelectBy** значение указывает, какой тип выделения для выполнения и  **\_селектор** значение указывает на данные, используемые в выделенном фрагменте. Возможными значениями являются:

<table>
<thead>
<tr>
<th>_selectBy</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td >titleId</td>
<td ><p><strong>_Selector</strong> совпадает с Идентификатором title в предоставленным утверждением.</p></td>
</tr>
<tr>
<td >языковой стандарт</td>
<td ><p><strong>_Selector</strong> соответствует строке языкового стандарта из заголовка Accept-Language.</p></td>
</tr>
<tr>
<td >Custom</td>
<td ><p><strong>_Selector</strong> соответствует пользовательской строки, переданной <strong>customSelector</strong> параметр запроса. <strong>CustomSelector</strong> содержит один или несколько запросов, разделенных запятыми. Каждый запрос является именем из <strong>selectBy</strong> элемент и значение из <strong>_selector</strong> элемент.</p></td>
</tr>
</tbody>
</table>

<a name="ID4EBEAC"></a>

## <a name="title-storage-uris"></a>URI хранилища Title

URI хранилища Title имеют следующий формат:

    https://titlestorage.xboxlive.com/{path}

**{Path}** часть URI — это тип выполняемого запроса и должен быть 245 символов или меньше.

<a name="ID4ETEAC"></a>

## <a name="throttle-limit"></a>Предел регулирования

Существуют отсутствуют ограничения на количество операций чтения или записи, заголовок можно сделать в минуту, но он обычно не могут вносить более одного в минуту в среднем в сеансе 1 час. Например заголовок можно сделать 60 операций чтения или записи в начале сеанса, но больше нет в течение часа. Заголовки должны быть защищены от дополнительные вызовы позже, в случае, если необходимо регулировать запросы Xbox LIVE Services.

Если заголовок вашей существуют особые требования секционирования, например дополнительных операций чтения или записи, обратитесь в Майкрософт.

<a name="ID4E5EAC"></a>

## <a name="using-title-storage"></a>С помощью заголовка хранилища

Чтобы приступить к работе с хранилищем title, сначала определите, какие данные будут храниться. Некоторые примеры включают сохраненные игры, состояния игры, ежедневных задач, игр карты и искусство ресурсы.

Затем следует определите, что заголовки и платформы потребуется доступ к данным. Заголовок поддерживает облако доступ к данным хранилища из одно наименование на единой платформе и из нескольких заголовков на нескольких платформах.

Наконец подразделы в этом разделе Настройте хранилище, передача данных и настройка разрешений доступа соответствующим образом в зависимости от вашего выбора.

<a name="ID4EJFAC"></a>

## <a name="in-this-section"></a>В этом разделе

[Чтение BLOB-объект конфигурации в службе Xbox Live Title хранилища](reading-configuration-blobs.md)  
Демонстрируется чтение конфигурации большие двоичные объекты из Xbox Live, название хранилища.

[Хранение большого двоичного в Xbox Live Title хранилище](storing-binary-blobs.md)  
Демонстрирует хранение большие двоичные объекты в Xbox Live хранилище title.

[Чтение двоичных больших двоичных объектов в хранилище Xbox Live Title](reading-binary-blobs.md)  
Показано чтение большие двоичные объекты из хранилища title Xbox Live.

[Сохраняющая большой двоичный объект JSON в Xbox Live Title хранилища](storing-jsonblobs.md)  
Демонстрирует хранение больших двоичных объектов JSON в хранилище title Xbox Live.

[Считывает большой двоичный объект JSON в Xbox Live Title хранилища](reading-jsonblobs.md)  
Демонстрируется чтение больших двоичных объектов JSON из Xbox Live, название хранилища.

<a name="ID4E4FAC"></a>
