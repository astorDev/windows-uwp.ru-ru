---
title: Добавлена поддержка нескольких пользователей в игру Unity
description: Добавлена поддержка нескольких пользователей в игру Unity, с помощью Xbox Live Unity подключаемого модуля
ms.assetid: ''
ms.date: 07/14/2017
ms.topic: article
keywords: Xbox live, xbox, игры, универсальной платформы Windows, windows 10, xbox, один, unity, многопользовательского
ms.localizationpriority: medium
ms.openlocfilehash: 483a0e966be756de483bf7e2ab8458647397687b
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57613739"
---
# <a name="add-multi-user-support-to-your-unity-game"></a>Добавлена поддержка нескольких пользователей в игру Unity
> [!IMPORTANT]
> Подключаемый модуль Xbox Live Unity не поддерживает достижений и online многопользовательскую и рекомендуется только для [Xbox Live Creators Program](../developer-program-overview.md) членов.

Поддержка нескольких пользователей теперь поддерживается с помощью Xbox Live Unity подключаемого модуля для сценариев, включающих несколько работодателей. Каждый игрок может использовать свою учетную запись Xbox Live для статистики и входа в систему. Игры можно также включить гостевых систем для пользователей, у которых нет учетных записей на Xbox Live для воспроизведения. Эта функция поддерживается только на консолях Xbox.

Этот учебник поможет узнать, как добавить поддержку нескольких пользователей в различных Prefabs Xbox Live.

> [!IMPORTANT]
> Сценарии с несколькими пользователями, поддерживаются только на консолях Xbox. Эта функция не работает на Компьютере.

## <a name="prerequisites"></a>Предварительные условия
Вам нужно будет выполнены [Приступая к работе](configure-xbox-live-in-unity.md) руководству, чтобы включить и настроить Xbox Live.

## <a name="adding-and-signing-in-multiple-xbox-live-users"></a>Добавление и повторный вход в несколько пользователей Xbox Live

1. Из **активы** > **Xbox Live** > **Prefabs** папки, перетащите фигуру на сцена столько **XboxLiveUser** prefab экземпляров, благодаря наличию игроков. В этом учебнике будет два игрока так что два **XboxLiveUser** экземпляры будут добавляться в сцену. Мы будем называть их в виде **XboxLiveUser** и **XboxLiveUser2** для удобства.

2. Чтобы правильно добавить пользователей и подпишите их в, добавление двух экземпляров **UserProfile** prefab в сцену, по одному для каждого **XboxLiveUser**. Убедитесь, что у вас есть экземпляр `XboxLiveServices` prefab на сцене. Кроме того, убедитесь, что для перемещения двух **UserProfile** объекты друг от друга на сцену, чтобы отличить друг от друга. Поскольку эти prefabs использовать Unity Eventsystem, убедитесь, что у вас есть экземпляр `EventSystem` на сцене.

    ![Иерархия поддержка нескольких пользователей в Xbox Live руководстве подключаемый модуль проекта Unity](../images/unity/MUA-Tutorial-Hierarchy.png)

    ![Игры сцены поддержки нескольких пользователей в проект из учебника подключаемый модуль Xbox Live Unity](../images/unity/MUA-Tutorial-GameScene.png)

3. Назначить один экземпляр **XboxLiveUser** prefabs, у вас есть на сцену в каждой из **UserProfile** объектов.

    ![UserProfile готового блока для поддержки нескольких пользователей](../images/unity/user-profile-for-mua.png)

4. Поскольку многопользовательских приложений поддерживаются только на устройствах Xbox One, дополнительная поддержка контроллера **UserProfile** объектов является обязательным. На каждом **UserProfile** объекта имеется поле с именем `InputControllerButton` где можно указать джойстик и кнопку номера каждой **UserProfile** должен ожидать передачи данных.

В этом учебнике мы будем использовать `joystick 1 button 0` для **UserProfile** , присвоенный 1 проигрывателя и `joystick 2 button 0` для проигрывателя 2, а второй **UserProfile** игровому объекту. Будут назначены `A` кнопки для взаимодействия с **UserProfile** для двух контроллеров.

> [!Note]
> Дополнительные сведения о поддержке контроллера Xbox в Xbox Live Unity подключаемый модуль ознакомьтесь со сведениями: [Добавление поддержки контроллера в Xbox Live Prefabs](add-controller-support-to-xbox-live-prefabs.md)

5. Запустите сцены в редакторе и нажмите клавишу, выполните на каждом из кнопок, чтобы убедиться, что все настроено правильно.

    ![Тестирование поддержка нескольких пользователей в редакторе Unity](../images/unity/run-example-mua.png)

## <a name="building-and-testing-the-uwp"></a>Построение и тестирование UWP

1. После шагам, описанным в [разрабатывать Creators заголовки с помощью Unity](configure-xbox-live-in-unity.md) учебника, откройте экспортированный UWP в Visual Studio.

2. Разверните проект UWP своей игры, щелкните правой кнопкой мыши `package.appxmanifest.xml` файл и выберите **Просмотр кода**.

3. В разделе `<Properties></Properties>` разделе, добавьте следующий код, позволяющий ввод нескольких пользователей для приложения: `<uap:SupportedUsers>multiple</uap:SupportedUsers>`

4. Чтобы протестировать на Xbox, выполните в документации по адресу [Настройка вашей универсальной платформы Windows в среде разработки Xbox](https://docs.microsoft.com/en-us/windows/uwp/xbox-apps/development-environment-setup) руководства.

## <a name="using-the-other-xbox-live-prefabs-with-multiple-users"></a>С помощью других Xbox Live Prefabs с несколькими пользователями

В **примеры** папку подключаемого модуля, имеется **MultiUserExample** Сцена, показывающая, как можно использовать различные prefabs **XboxLiveUser** экземпляры, чтобы просмотреть определенные сведения для каждого пользователя.
