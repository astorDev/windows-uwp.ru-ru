---
title: POST (/handles/query?include=relatedInfo)
assetID: 66ecd1fe-24d4-4cd5-256d-8950ac658529
permalink: en-us/docs/xboxlive/rest/uri-handlesqueryincludepost.html
description: " POST (/handles/query?include=relatedInfo)"
ms.date: 10/12/2017
ms.topic: article
keywords: xbox live, xbox, игры, uwp, windows 10, xbox one
ms.localizationpriority: medium
ms.openlocfilehash: eb30561c91a085902dd9d79b6c4a2045dc709bfb
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57632559"
---
# <a name="post-handlesqueryincluderelatedinfo"></a>POST (/handles/query?include=relatedInfo)
Создает запросы для сеанса дескрипторов, которые включают сведения о связанных сеанса.

> [!IMPORTANT]
> Этот метод используется многопользовательскую 2015 и применяется только к этой многопользовательские версии и более поздних версий. Он предназначен для использования с контрактом шаблона 104/105 или более поздней версии и требуется элемент заголовка X-Xbl-контракт-версии: 104/105 или более поздней версии, при каждом запросе.

  * ["Примечания"](#ID4ET)
  * [Параметры URI](#ID4ECB)
  * [Параметры строки запроса](#ID4EPB)
  * [Коды состояния HTTP](#ID4EAF)
  * [Текст запроса](#ID4EHF)
  * [Текст ответа](#ID4EZF)

<a id="ID4ET"></a>


## <a name="remarks"></a>Замечания

Этот метод HTTP/REST создает запросы для дескриптора данных вместе с данными сеанса, в строке запроса «включить». Значение строки запроса является предусматривает возможность расширения для поддержки параметров последующих запросов, которые поддерживают список с разделителями запятыми, например, «? включают = relatedInfo, сеанс». Метод POST может быть заключена в **Microsoft.Xbox.Services.Multiplayer.MultiplayerService.GetActivitiesForUsersAsync**.

Поле "тип" в тексте запроса для этого метода должно быть присвоено «действие». Элементы в тексте ответа непосредственно сопоставляются свойства **Microsoft.Xbox.Services.Multiplayer.MultiplayerActivityDetails**.

<a id="ID4ECB"></a>


## <a name="uri-parameters"></a>Параметры универсального кода ресурса (URI)

<a id="ID4EPB"></a>


## <a name="query-string-parameters"></a>Параметры строки запроса

Запрос можно изменить с помощью параметров строки запроса в следующей таблице.

| <b>Параметр</b>| <b>Тип</b>| <b>Описание</b>|
| --- | --- | --- | --- |
| Ключевое слово| Строка| A ключевое слово, например, «foo», который должен находиться в сеансов или шаблоны, если они должны быть получены. |
| xuid| 64-разрядного целого числа без знака| Xbox идентификатор пользователя, например, «123», для сеансов включить в запрос. По умолчанию пользователь должен быть активной в сеансе для него необходимо включить. |
| резервирования| Логический| Значение true для включения сеансов, для которого пользователь задается как зарезервированные проигрывателя, но не присоединен к становятся проигрыватель с active. Этот параметр используется только в том случае, при запросе собственный сеанс, или при запросе определенного пользователя сеансов от сервера к серверу. |
| Неактивные| Логический| Значение true для включения сеансов, которые пользователь принял, но не воспроизводится активно. Сеансы, в которых пользователь является «Готово», но не «активен» учитываются как неактивные. |
| закрытый| Логический| Значение true для включения частных сеансов. Этот параметр используется только в том случае, при запросе собственный сеанс, или при запросе определенного пользователя сеансов от сервера к серверу. |
| visibility| Строка| Состояние видимости для сеансов. Возможные значения определяются <b>Microsoft.Xbox.Services.Multiplayer.MultiplayerSessionVisibility</b>. Если этот параметр имеет значение «открыть», запрос должен включать только открытые сеансы. Если задано значение «частный», <i>частного</i> параметра должно быть установлено в значение true. |
| version| 32-разрядное знаковое целое число| Версия максимальное число сеансов, который должен быть включен. Например значение 2 указывает, что только сеансы с версией 2 основных сеанса или меньше должны быть включены. Номер версии должен быть меньше или равным mod версии контракта запроса 100. |
| Take| 32-разрядное знаковое целое число| Максимальное количество сеансов для извлечения. Это число должно быть в диапазоне от 0 до 100. |


При настройке любого *частного* или *резервирования* true требуется доступ на уровне сервера к сеансу. Кроме того эти параметры требуют утверждения XUID вызывающей стороны на соответствие фильтру XUID в URI. В противном случае — код состояния HTTP 403 — возвращается, независимо от того, имеется ли все такие сеансы действительно существуют.

<a id="ID4EAF"></a>


## <a name="http-status-codes"></a>Коды состояния HTTP
Служба возвращает код состояния HTTP, применительно к MPSD.  
<a id="ID4EHF"></a>


## <a name="request-body"></a>Тело запроса

<a id="ID4ENF"></a>


### <a name="sample-request"></a>Пример запроса

Чтобы получить все действия по социальным графом «Избранное» пользователя, тело запроса POST выглядит следующим образом:


```cpp
{
  "type": "activity",
  "scid": "B5B1F71F-A328-4371-89E0-C3AD222D0E92"  // optional filter on scid
  "owners": {
     "people": {
       "moniker": "favorites",
       "monikerXuid": "3210"
     }
  }
}

```


<a id="ID4EZF"></a>


## <a name="response-body"></a>Тело ответа

Результаты возвращаются в виде массива структур дескриптор с уникальным Идентификатором, внедренных в каждый дескриптор. Сведения конкретного сеанса возвращается в **relatedInfo** объекта. Обратите внимание, что эти сведения не возвращаются для обычного метода POST на этот URI.

<a id="ID4EDG"></a>


### <a name="sample-response"></a>Пример ответа


```cpp
{
    "results": [{
        "id": "11111111-ebe0-42da-885f-033860a818f6",
        "type": "activity",
        "version": 1,
        "sessionRef": {
            "scid": "8dfb0100-ebe0-42da-885f-033860a818f6",
            "templateName": "party",
            "name": "e3a836aeac6f4cbe9bcab985494d3175"
        },

    "titleId": "1234567",
    "ownerXuid": "3212",

    // Only if ?include=relatedInfo
        "relatedInfo": {
            "visibility": "open",
            "joinRestriction": "followed",
            "closed": true,
            "maxMembersCount": 8,
            "membersCount": 4,
        }
    },
    {
        "id": "11111111-ebe0-42da-885f-033860a818f7",
        "type": "activity",
        "version": 1,
        "sessionRef": {
            "scid": "8dfb0100-ebe0-42da-885f-033860a818f6",
            "templateName": "TitleStorageTestDefault",
            "name": "795fcaa7-8377-4281-bd7e-e86c12843632"
        },
    "titleId": "1234567",
    "ownerXuid": "3212",

    // Only if ?include=relatedInfo
        "relatedInfo": {
            "visibility": "open",
            "joinRestriction": "followed",
            "closed": false,
            "maxMembersCount": 8,
            "membersCount": 4,
        }
    }]
}

```


<a id="ID4ENG"></a>


## <a name="see-also"></a>См. также

<a id="ID4EPG"></a>


##### <a name="parent"></a>Parent

[/ дескрипторы/запрос](uri-handlesquery.md)
