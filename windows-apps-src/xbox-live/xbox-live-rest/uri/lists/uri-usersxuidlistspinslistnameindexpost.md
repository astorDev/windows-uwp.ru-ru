---
title: POST /users/xuid(xuid)/lists/PINS/{listname}/index({index})?insertIndex={insertIndex}
assetID: df61be42-c229-7408-5e4c-dbf4ae95b52b
permalink: en-us/docs/xboxlive/rest/uri-usersxuidlistspinslistnameindexpost.html
description: " POST /users/xuid(xuid)/lists/PINS/{listname}/index({index})?insertIndex={insertIndex}"
ms.date: 10/12/2017
ms.topic: article
keywords: xbox live, xbox, игры, uwp, windows 10, xbox one
ms.localizationpriority: medium
ms.openlocfilehash: 7711beee6551c40afe1afcb031278484a3dc5820
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57627469"
---
# <a name="post-usersxuidxuidlistspinslistnameindexindexinsertindexinsertindex"></a>POST /users/xuid(xuid)/lists/PINS/{listname}/index({index})?insertIndex={insertIndex}
Перемещает элемент в списке в другое положение в списке. Доменом для таких URI является `eplists.xboxlive.com`.
 
  * ["Примечания"](#ID4EV)
  * [Параметры URI](#ID4EEB)
  * [Параметры строки запроса](#ID4EWC)
  * [Текст запроса](#ID4EVD)
  * [Коды состояния HTTP](#ID4EEE)
  * [Требуемые заголовки запросов](#ID4E1BAC)
  * [Текст ответа](#ID4EQDAC)
 
<a id="ID4EV"></a>

 
## <a name="remarks"></a>Замечания 
 
Этот вызов позволяет предоставить клиенту возможность легко перемещать объект в другой индекс в списке в рамках одной операции. Одновременно могут быть перемещены только один элемент. Если индекс перемещаемого элемента не существует, то будет возвращаться HTTP 400. Индекс для вставки точки действуют те же правила, как стандартная insert. По умолчанию используется значение 0 — начало списка, и любое число больше числа элементов в списке будет повторно вставить элемент в конец списка. Аналогичным образом в конец списка может быть задан путем передачи «end» для insertIndex. 
 
Этот вызов также позволяет указать элемент, перемещаемый itemId (или поле со списком поставщика/providerId). В этом случае itemId должен быть передан в тексте запроса, и он должен соответствовать существующего элемента в списке. Если это не так, будет возвращена ошибка HTTP 400 с IndexOutOfRange в описании; для вызова этой специальные версии используйте «-1» в качестве индекса элемента для перемещения. 
 
Этот вызов требует «Если-Match: versionNumber» заголовка для включения в запрос при указании элемента по индексу. При использовании itemId, чтобы указать, какой элемент для перемещения, Заголовок «If-Match» является необязательным. Если он присутствует, всегда проверяются Заголовок «If-Match». В заголовке «if-Match» versionNumber — это номер версии текущего списка. Если не включен (и необходимые), или не соответствуют текущему возвращается код состояния сбоя в предусловии номер, а затем HTTP 412 — версия списка и тело ответа будет содержать последние метаданные из списка, который включает номер текущей версии . Это позволяет защититься от обновлений от разных клиентов, конкурирующих друг с другом. 
  
<a id="ID4EEB"></a>

 
## <a name="uri-parameters"></a>Параметры универсального кода ресурса (URI) 
 
| Параметр| Тип| Описание| 
| --- | --- | --- | 
| XUID| Строка| XUID пользователя.| 
| ListName| Строка| Имя списка для управления.| 
| Индекс| Строка| Задает текущий индекс перемещаемого элемента. Если значение индекса 0 или положительным целым числом, это относится к текущему индексу элемента, и тело запроса вызова должно быть пустым. Тем не менее если значение индекса «-1», перемещаемого элемента необходимо указать идентификатор элемента или поставщика/ProviderID в тексте запроса вызова.| 
  
<a id="ID4EWC"></a>

 
## <a name="query-string-parameters"></a>Параметры строки запроса 
 
| Параметр| Тип| Описание| 
| --- | --- | --- | --- | --- | --- | 
| insertIndex| Строка| Указывает расположение для вставки элемента списка. Допустимые значения: ноль, положительные целые числа и «конец». «end» помещает элемент в конец текущего списка. Если указанное значение выходит за конец списка, элемент вставляется в конец списка. | 
  
<a id="ID4EVD"></a>

 
## <a name="request-body"></a>Тело запроса 
 
Текст запроса отправляется только в том случае, если элемент задан для перемещения itemId или поставщика/ProviderId.
 
<a id="ID4E6D"></a>

  
Пример запроса 

```cpp
{
  "Item":
  {
    "ItemId":  "ed591a0c-dde3-563f-99af-530278a3c402",
    "ProviderId":  null,
    "Provider": null
  }
}
    
```

  
<a id="ID4EEE"></a>

 
## <a name="http-status-codes"></a>Коды состояния HTTP 
 
Служба возвращает один из кодов состояния, в этом разделе, в ответ на запрос, сделанный с помощью этого метода по данному ресурсу. Полный список стандартных кодов состояния HTTP, используемых со службами Xbox Live Services, см. в разделе [коды состояния HTTP стандартный](../../additional/httpstatuscodes.md).
 
| Код| Фраза причины| Описание| 
| --- | --- | --- | --- | --- | --- | --- | --- | --- | 
| 200| ОК | Запрос успешно выполнен. Текст ответа должен содержать запрошенного ресурса (для GET). POST и PUT запросы будут получать актуальные метаданные (версия списка, count, и т.д.).| 
| 201| Создано | Новый список будет создана. Это значение возвращается при первоначальной вставке в список. Ответ включает актуальные метаданные в списке и заголовок location содержит URI для списка.| 
| 304| Не изменено| Результаты на получает. Указывает, что клиент имеет последнюю версию списка. Служба сравнивает значение <b>If-Match</b> заголовка версии списка. Если они равны, то 304 получает возвращается без данных. | 
| 400| Неверный запрос | Этот запрос имеет неправильный формат. Может быть недопустимое значение или тип параметра строки URI или запросов. Также может быть результатом отсутствует обязательный параметр или значение данных, или запрос указывает версию API, отсутствует или недопустим. См. в разделе <b>X-XBL-контракт-Version</b> заголовка. | 
| 401| Недостаточно прав | Запрос требует проверки подлинности пользователя.| 
| 403| Запрещено | Запрос не допускается для пользователя или службы.| 
| 404| Не найден | Вызывающий объект не имеет доступа к ресурсу. Это означает, что список не был создан.| 
| 412| Необходимое условие не выполнено | Указывает, что версия списка изменилась, и сбой запроса на изменение. Запрос на изменение является вставки, обновления или удаления. Служба проверяет <b>If-Match</b> заголовок для списка версии. Если он не соответствует текущей версии списка, происходит сбой операции, и это значение возвращается, вместе с текущих метаданных списка (который включает текущую версию). | 
| 500| Внутренняя ошибка сервера | Служба отказывается запрос из-за ошибки на сервере.| 
| 501| Не реализовано | Вызывающая сторона запросила URI, который не был реализован на сервере. (В настоящее время только используемые, когда запрос выполняется для имя списка, который отсутствует в списке разрешений.)| 
| 503| Служба недоступна | Сервер отказывается запроса, обычно из-за избыточной нагрузки. Через некоторое время (см. в разделе <b>Retry-after</b> заголовка), можно повторить запрос. | 
  
<a id="ID4E1BAC"></a>

 
## <a name="required-request-headers"></a>Требуемые заголовки запросов
 
| Заголовок| Описание| 
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | 
| Authorization| Содержит маркер, служба маркеров безопасности, используемый для проверки подлинности и авторизации запроса. Должен быть маркер из XSTS службы и включить XUID как одно из утверждений. | 
| X-XBL-контракт Version| Указывает, какие версии API, запрошенный (положительные целые числа). ПИН-кодов поддерживает версии 2. Если данный заголовок отсутствует, или значение не поддерживается, то служба будет возвращать значение 400 — Ошибочный запрос с «заголовок версии контракта отсутствует или не поддерживается» в описании состояния.| 
| Content-Type| Указывает, будет ли содержимое тела запросов и ответов в формате json или xml. Поддерживаемые значения: «application/json» и «application/xml»| 
| If-Match| Этот заголовок должен содержать номер текущей версии списка при внесении изменения запросов. Использовать запросы PUT, POST, изменить или удалить команды. Если версии в заголовок «If-Match» не соответствует текущей версии списке, запрос будет отклонен с кодом HTTP 412 — Необходимое условие не выполнено код возврата. (необязательно) Можно также использовать для возвращает, если свойство присутствует и Переданная версия совпадает с текущей версии списка, а затем данные списка и HTTP 304, возвращается код не изменен. | 
  
<a id="ID4EQDAC"></a>

 
## <a name="response-body"></a>Тело ответа 
 
Если вызов прошел успешно, то служба возвращает последние метаданные для списка. 
 
<a id="ID4E1DAC"></a>

 
### <a name="sample-response"></a>Пример ответа 
 

```cpp
{ 
  "ListVersion":  1,
  "ListCount":  1,
  "MaxListSize": 200,
  "AllowDuplicates": "true",
  "AccessSetting":  "OwnerOnly"
}

      
```

   
<a id="ID4EIEAC"></a>

 
## <a name="see-also"></a>См. также
 
<a id="ID4EKEAC"></a>

 
##### <a name="parent"></a>Parent 

[/users/xuid(xuid)/lists/PINS/{listname}/index({index})?insertIndex={insertIndex}](uri-usersxuidlistspinslistnameindex.md)

   