---
title: GET (/scids/{scid}/leaderboards/{leaderboardname}?include=valuemetadata)
assetID: ee69a9e3-ea91-3cf5-a10a-811762cba892
permalink: en-us/docs/xboxlive/rest/uri-scidsscidleaderboardsleaderboardnamegetvaluemetadata.html
description: " GET (/scids/{scid}/leaderboards/{leaderboardname}?include=valuemetadata)"
ms.date: 10/12/2017
ms.topic: article
keywords: xbox live, xbox, игры, uwp, windows 10, xbox one
ms.localizationpriority: medium
ms.openlocfilehash: fad57c5e989d933777c913030faaa594c6bbd059
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57623439"
---
# <a name="get-scidsscidleaderboardsleaderboardnameincludevaluemetadata"></a>GET (/scids/{scid}/leaderboards/{leaderboardname}?include=valuemetadata)
 
Получает предопределенный глобального списка лидеров, а также любых метаданных, связанных со значениями "список лидеров".
 
Доменом для таких URI является `leaderboards.xboxlive.com`.
 
  * ["Примечания"](#ID4EY)
  * [Параметры URI](#ID4EHB)
  * [Параметры строки запроса](#ID4ESB)
  * [Авторизации](#ID4EVD)
  * [Влияние параметров конфиденциальности для ресурса](#ID4EQE)
  * [Требуемые заголовки запросов](#ID4EZE)
  * [Необязательные заголовки запросов](#ID4EOG)
  * [Коды состояния HTTP](#ID4EOH)
  * [Заголовки ответа](#ID4EFDAC)
  * [Текст ответа](#ID4ECFAC)
 
<a id="ID4EY"></a>

 
## <a name="remarks"></a>Замечания
 
? Включают = valuemetadata параметр запроса позволяет ответ, включая все метаданные, связанные со значениями "список лидеров". Значение метаданных содержит указанного клиента данные, связанные со значением, например модели и цвет использовать для достижения наилучшее время на трассы автомобиля.
 
Значение метаданных определяется на stat пользователя, что "список лидеров" основана на, не на самой таблице лидеров.
 
API-интерфейсы "список лидеров" только для чтения и таким образом поддерживается только команду GET. Они отражают ранжирующими значениями и отсортированный «страницы» stats индексированных проигрывателя, которые являются производными от Статистика отдельных пользователей, которые были записаны с помощью этой платформы данных. Полный список лидеров индексы могут быть довольно большими и вызывающим объектам никогда не будет предложено см. в полном объеме, таким образом этот URI поддерживает несколько аргументов строки запроса, позволяющие явно указать, какие представлении, он хочет видеть от этого списка лидеров в вызывающем коде.
 
Операции GET не будет изменять любые ресурсы, поэтому это будет дают одинаковые результаты, если выполняется один раз или несколько раз.
  
<a id="ID4EHB"></a>

 
## <a name="uri-parameters"></a>Параметры универсального кода ресурса (URI)
 
| Параметр| Тип| Описание| 
| --- | --- | --- | 
| scid| Код GUID| Идентификатор конфигурации службы, которая содержит ресурс, к которому.| 
| leaderboardname| Строка| Уникальный идентификатор предопределенный список лидеров ресурса, к которому выполняется доступ.| 
  
<a id="ID4ESB"></a>

 
## <a name="query-string-parameters"></a>Параметры строки запроса
 
| Параметр| Тип| Описание| 
| --- | --- | --- | --- | --- | --- | 
| включить = valuemetadata| Строка| Указывает, что ответ включает в себя любое значение метаданные, связанные со значениями "список лидеров".| 
| maxItems| 32-разрядного целого числа без знака| Максимальное число записей списка лидеров для возврата в страницу результатов. Если не указан, число по умолчанию будет возвращаться (10). Максимальное значение для maxItems не определен по-прежнему, но мы хотим избежать больших наборов данных, это значение, вероятно, должны быть нацелены самое большое значение, средство настройки, которые может обрабатывать пользовательский Интерфейс на один вызов.| 
| skipToRank| 32-разрядного целого числа без знака| Вернуть страницу результатов, начиная с указанного списка лидеров ранг. Остальная часть результаты будут отсортированы по рангу. Эта строка запроса может возвращать маркер продолжения, который может быть внесена в последующий запрос для получения «следующей страницы» результатов.| 
| skipToUser| Строка| Вернуть страницу результатов списка лидеров вокруг указанного xuid игроков, независимо от того, ранг или Оценка этого пользователя. Страницы будут упорядочены по процентильный ранг с указанным пользователем на последнем месте страницы для предопределенные представления, или в середине для представлений stat "список лидеров". Нет не continuationToken, предоставленный для этого типа запросов.| 
| continuationToken| Строка| Если предыдущий вызов возвратил устанавливается маркер continuationToken, затем вызывающий объект можно передать обратно «как есть» в строку запроса для получения следующей страницы результатов.| 
  
<a id="ID4EVD"></a>

 
## <a name="authorization"></a>Authorization
 
Отсутствует логика авторизации для сценариев изоляции содержимого и управления доступом.
 
   * Статистика и списки лидеров, так и пользователя могут быть прочитаны из клиентами на любой платформе, при условии, что вызывающий объект передает допустимый токен XSTS с запросом. Очевидно, что операции записи ограничены клиентов, поддерживаемых платформой данных.
   * Разработчики Title можно пометить статистику как открытые или с ограничением XDP или центра партнеров. Откройте Статистика списки лидеров. Откройте статистики может осуществляться Smartglass, а также iOS, Android, Windows, Windows Phone и веб-приложений до тех пор, пока пользователь авторизован для "песочницы". Авторизация пользователей для песочницы осуществляется через XDP или центра партнеров.
  
Код для проверки выглядит следующим образом:
 

```cpp
If (!checkAccess(serviceConfigId, resource, CLAIM[userid, deviceid, titleid]))
{
        Reject request as Unauthorized
}

// else accept request.
         
```

  
<a id="ID4EQE"></a>

 
## <a name="effect-of-privacy-settings-on-resource"></a>Влияние параметров конфиденциальности для ресурса
 
Проверка конфиденциальности не выполняется в том случае, при считывании данных "список лидеров".
  
<a id="ID4EZE"></a>

 
## <a name="required-request-headers"></a>Требуемые заголовки запросов
 
| Заголовок| Описание| 
| --- | --- | --- | --- | --- | --- | --- | --- | 
| Authorization| Строка. Учетные данные проверки подлинности для проверки подлинности HTTP. Пример значения: <b>XBL3.0 x =&lt;userhash >;&lt; Token ></b>| 
| X-Xbl контракт Version| Строка. Указывает, какая версия API для использования. Это значение должно быть присвоено «3», чтобы включить значения метаданных в ответ.| 
| X-RequestedServiceVersion| Строка. Имя или номер службы Xbox LIVE, к которому следует направлять этот запрос сборки. Запрос будет перенаправлен только к этой службе после проверки допустимости заголовок, утверждения в маркер проверки подлинности и т. д. Значение по умолчанию: 1.| 
| Принять| Строка. Типы содержимого, которые являются допустимыми. Пример значения: <b>application/json</b>| 
  
<a id="ID4EOG"></a>

 
## <a name="optional-request-headers"></a>Необязательные заголовки запросов
 
| Заголовок| Описание| 
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | 
| If-None-Match| Строка. Тег сущности, используется, если клиент поддерживает кэширование. Пример значения: <b>"686897696a7c876b7e"</b>|  | 
  
<a id="ID4EOH"></a>

 
## <a name="http-status-codes"></a>Коды состояния HTTP
 
Служба возвращает один из кодов состояния, в этом разделе, в ответ на запрос, сделанный с помощью этого метода по данному ресурсу. Полный список стандартных кодов состояния HTTP, используемых со службами Xbox Live Services, см. в разделе [коды состояния HTTP стандартный](../../additional/httpstatuscodes.md).
 
| Код| Фраза причины| Описание| 
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | 
| 200| ОК| Сеанс был успешно извлечен.| 
| 304| Не изменено| Ресурс не были изменены с момента последнего запроса.| 
| 400| Неверный запрос| Службе не удалось распознать неправильно сформированный запрос. Обычно недопустимый параметр.| 
| 401| Недостаточно прав| Запрос требует проверки подлинности пользователя.| 
| 403| Запрещено| Запрос не допускается для пользователя или службы.| 
| 404| Не найден| Не удалось найти указанный ресурс.| 
| 406| Неприемлемо| Версия ресурса не поддерживается.| 
| 408| Время ожидания запроса| Версия ресурса не поддерживается; должна быть отклонена уровнем MVC.| 
  
<a id="ID4EFDAC"></a>

 
## <a name="response-headers"></a>Заголовки ответа
 
| Заголовок| Тип| Описание| 
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | 
| Content-Type| Строка| Обязательный. Тип MIME тела ответа. Пример: <b>application/json</b>.| 
| Content-Length| Строка| Обязательный. Число байтов, отправляемых в ответе. Пример. <b>232</b>.| 
| ETag| Строка| Необязательно. Используется для оптимизации кэша. Пример. <b>686897696a7c876b7e</b>.| 
  
<a id="ID4ECFAC"></a>

 
## <a name="response-body"></a>Тело ответа
 
<a id="ID4EIFAC"></a>

 
### <a name="response-members"></a>Элементы ответа
 
pagingInfo | pagingInfo| Раздел| Необязательно. Присутствует, только если maxItems указан в запросе.| 
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | 
| continuationToken| 64-разрядного целого числа без знака| Обязательный. Указывает, какое значение веб-канала в <b>skipItems</b> запрос для получения следующей страницы результатов для данного идентификатора URI, при необходимости. Если не <b>pagingInfo</b> возвращается, то есть не следующей страницы данных должны быть получены.| 
| totalItems| 64-разрядного целого числа без знака| Обязательный. Общее число записей в таблице лидеров. Пример значения: 1234567890| 
 
leaderboardInfo | leaderboardInfo| Раздел| Обязательный. Всегда возвращается. Содержит метаданные о списка лидеров в запросе.| 
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | 
| displayName| Строка| Не используется.| 
| totalCount| строка (64-разрядного целого числа без знака)| Обязательный. Общее число записей в таблице лидеров. Пример значения: 1234567890| 
| columnDefinition| Объект JSON| Обязательный. Описывает столбец в таблице лидеров.| 
| columnDefinition.displayName| Строка| Обязательный. Описательное имя столбца в таблице лидеров.| 
| columnDefinition.statName| Строка| Обязательный. Имя пользователя stat, на основе списка лидеров.| 
| columnDefinition.type| Строка| Обязательный. Тип данных stat пользователя в столбце.| 
 
userList | userList| Раздел| Обязательный. Всегда возвращается. Содержит реальный пользователь оценок для списка лидеров в запросе.| 
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | 
| тег игрока| Строка| Обязательный. Тег игрока, пользователя в записи "список лидеров".| 
| xuid| 64-разрядного целого числа без знака| Обязательный. Xbox идентификатор пользователя в записи "список лидеров".| 
| Процентиль| Строка| Обязательный. Процентильный ранг пользователя в списке лидеров.| 
| Ранг| Строка| Обязательный. Ранг числовых пользователя в списке лидеров.| 
| value| Строка| Обязательный. Значение stat, на котором основана таблица лидеров пользователя.| 
| valueMetadata| Строка| Обязательный. Строку разделителями запятыми пар "строка" в формате "\"имя\" : \"значение\",...»

Если отсутствуют метаданные, это значение является пустой строкой. | 
  
<a id="ID4EGLAC"></a>

 
### <a name="sample-response"></a>Пример ответа
 
Следующий URI запроса описывается переход к ранг на глобального списка лидеров.
 

```cpp
https://leaderboards.xboxlive.com/scids/0FA0D955-56CF-49DE-8668-05D82E6D45C4/leaderboards/TotalFlagsCaptured?include=valuemetadata&maxItems=3&skipToRank=15000
         
```

 
Для возвращения значения метаданных, необходимо также указать следующие заголовок.
 

```cpp
X-Xbl-Contract-Version : 3
          
```

 
Выше URI возвращает следующий ответ JSON.
 

```cpp
{
    "pagingInfo": {
        "continuationToken": "15003",
        "totalItems": 23437
    },
    "leaderboardInfo": {
        "displayName": "Total flags captured",
        "totalCount": 23437,
        "columnDefinition" : 
            {
                "displayName": "Flags Captured",
                "statName": "flagscaptured",
                "type": "Integer"
            }
    },
    "userList": [
        {
            "gamertag": "WarriorSaint",
            "xuid": "1234567890123444",
            "percentile": 0.64,
            "rank": 15000,
            "value": "1002",
            "valuemetadata" : "{\"color\" : \"silver\",\"weight\" : 2000, \"israining\" : false}"
        },
        {
            "gamertag": "xxxSniper39",
            "xuid": "1234567890123555",
            "percentile": 0.64,
            "rank": 15001,
            "value": "993",
            "valuemetadata" : "{\"color\" : \"silver\",\"weight\" : 2020, \"israining\" : true}"
 
        },
        {
            "gamertag": "WhockaWhocka",
            "xuid": "1234567890123666",
            "percentile": 0.64,
            "rank": 15002,
            "value": "700",
            "valuemetadata" : "{\"color\" : \"red\",\"weight\" : 300, \"israining\" : false}"
        }
    ]
}
         
```

   
<a id="ID4E6LAC"></a>

 
## <a name="see-also"></a>См. также
 
<a id="ID4EBMAC"></a>

 
##### <a name="parent"></a>Parent 

[/leaderboards/ /scids/ {scid} {leaderboardname}](uri-scidsscidleaderboardsleaderboardname.md)

   