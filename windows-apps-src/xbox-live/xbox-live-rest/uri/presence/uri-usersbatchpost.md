---
title: POST (/users/batch)
assetID: bd0b18fe-8a6d-d591-5b13-bcd9643e945a
permalink: en-us/docs/xboxlive/rest/uri-usersbatchpost.html
description: " POST (/users/batch)"
ms.date: 10/12/2017
ms.topic: article
keywords: xbox live, xbox, игры, uwp, windows 10, xbox one
ms.localizationpriority: medium
ms.openlocfilehash: 47376338a1c515aa00a7e0247df4cc16ee0db8d2
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57655679"
---
# <a name="post-usersbatch"></a>POST (/users/batch)
Получите присутствия для пакета пользователей.
Доменом для таких URI является `userpresence.xboxlive.com`.

  * ["Примечания"](#ID4EV)
  * [Авторизации](#ID4EAB)
  * [Влияние параметров конфиденциальности для ресурса](#ID4EDC)
  * [Требуемые заголовки запросов](#ID4EYF)
  * [Необязательные заголовки запросов](#ID4EGAAC)
  * [Текст запроса](#ID4EGBAC)
  * [Текст ответа](#ID4ESEAC)

<a id="ID4EV"></a>


## <a name="remarks"></a>Замечания

Этот метод следует использовать любой клиент, служба или заголовок, кому требуются дополнительные сведения о присутствии для пакет пользователей.

Ответы для этого запроса пакетной службы может быть фильтры по глубины и пути. Потребители могут использовать это, чтобы найти и отобразить наличие о набор пользователей. Фильтры на этом интерфейсе API работают как схему или в свойство, но запускалась через свойства.

<a id="ID4EAB"></a>


## <a name="authorization"></a>Authorization

| Тип| Обязательно| Описание| Ответ, если он отсутствует|
| --- | --- | --- | --- |
| XUID| Да| Идентификатор пользователя Xbox (XUID) вызывающего объекта| «403 запрещено»|

<a id="ID4EDC"></a>


## <a name="effect-of-privacy-settings-on-resource"></a>Влияние параметров конфиденциальности для ресурса

Этот метод всегда возвращает 200 ОК, но не могут возвращать содержимое в тексте ответа.

| Запрашивающий пользователь| Целевые параметры конфиденциальности| Поведение|
| --- | --- | --- | --- | --- | --- | --- |
| Мне| -| 200 OK|
| Friend| Все| 200 OK|
| Friend| только друзей| 200 OK|
| Friend| заблокировано| 200 OK|
| пользователь не friend| Все| 200 OK|
| пользователь не friend| только друзей| 200 OK|
| пользователь не friend| заблокировано| 200 OK|
| Сторонний сайт| Все| 200 OK|
| Сторонний сайт| только друзей| 200 OK|
| Сторонний сайт| заблокировано| 200 OK|

<a id="ID4EYF"></a>


## <a name="required-request-headers"></a>Требуемые заголовки запросов

| Заголовок| Тип| Описание|
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| Authorization| Строка| Учетные данные проверки подлинности для проверки подлинности HTTP. Пример значения: «XBL3.0 x =&lt;userhash >;&lt; токен >».|
| x-xbl контракт version| Строка| Имя или номер службы Xbox LIVE, к которому следует направлять этот запрос сборки. Запрос только направляются в, служба после проверки допустимости заголовка, утверждения в маркер проверки подлинности и т. д. Примеры значений 3 vnext.|
| Принять| Строка| Типы содержимого, которые являются допустимыми. Единственный поддерживаемый наличием application/json, но он должен быть указан в заголовке.|
| Примите языка| Строка| Языковой стандарт, допустимые для строк в ответе. Примеры значений: en US.|
| Hyper-V| Строка| Доменное имя сервера. Пример значения: presencebeta.xboxlive.com.|
| Content-Length| Строка| Длина текста запроса. Пример значения: 312.|

<a id="ID4EGAAC"></a>


## <a name="optional-request-headers"></a>Необязательные заголовки запросов

| Заголовок| Тип| Описание|
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| X-RequestedServiceVersion|  | Имя или номер службы Xbox LIVE, к которому следует направлять этот запрос сборки. Запрос только направляются в, служба после проверки допустимости заголовка, утверждения в маркер проверки подлинности и т. д. Значение по умолчанию: 1.|

<a id="ID4EGBAC"></a>


## <a name="request-body"></a>Тело запроса

<a id="ID4EMBAC"></a>


### <a name="required-members"></a>Обязательные члены

| Участник| Описание|
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| пользователи| XUIDs список пользователей, наличие которых вы хотите узнать, с максимальным размером 1100 XUIDs за раз.|

<a id="ID4EHCAC"></a>


### <a name="optional-members"></a>Необязательных элементов

| Участник| Описание|
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| deviceTypes| Список пользователей, которые вы хотите знать о типов устройств. Если оставить массив пустым, по умолчанию для всех возможных типов устройств (то есть нет отфильтровываются).|
| заголовки| Список устройств типов пользователей, для которого вы хотите узнать о. Если оставить массив пустым, по умолчанию все возможные названия (то есть нет отфильтровываются).|
| level| Возможные значения: <ul><li>пользователь — get пользователя узлов</li><li>устройства - get пользователя и устройства узлов</li><li>Заголовок: сведения уровня базовый заголовок get</li><li>ALL — получить широкие возможности присутствия и сведения о мультимедиа</li></ul><br> По умолчанию используется «title».|
| onlineOnly| Если это свойство имеет значение true, пакетной операции будет отфильтровать записи для автономных пользователей (включая скрытые). Если он не задан, будет возвращаться автономно и пользователей.|

<a id="ID4E4DAC"></a>


### <a name="prohibited-members"></a>Запрещенные элементы

Все остальные элементы запрещены в запросе.

<a id="ID4EIEAC"></a>


### <a name="sample-request"></a>Пример запроса


```cpp
{
  users:
  [
    "1234567890",
    "4567890123",
    "7890123456"
  ]
}

```


<a id="ID4ESEAC"></a>


## <a name="response-body"></a>Тело ответа

<a id="ID4E1EAC"></a>


### <a name="sample-response"></a>Пример ответа

Этот метод возвращает [PresenceRecord](../../json/json-presencerecord.md).


```cpp
{
  xuid:"0123456789",
  state:"online",
  devices:
  [{
    type:"D",
    titles:
    [{
      id:"12341234",
      name:"Contoso 5",
      state:"active",
      placement:"fill",
      timestamp:"2012-09-17T07:15:23.4930000",
      activity:
      {
        richPresence:"Team Deathmatch on Nirvana"
      }
    },
    {
      id:"12341235",
      name:"Contoso Waypoint",
      timestamp:"2012-09-17T07:15:23.4930000",
      placement:"snapped",
      state:"active",
      activity:
      {
        richPresence:"Using radar"
      }
    }]
  },
  {
    type:W8,
    titles:
    [{
      id:"23452345",
      name:"Contoso Gamehelp",
      state:"active",
      placement:"full",
      timestamp:"2012-09-17T07:15:23.4930000",
      activity:
      {
        richPresence:"Nirvana page",
      }
    }]
  }]
}

```


<a id="ID4EKFAC"></a>


## <a name="see-also"></a>См. также

<a id="ID4EMFAC"></a>


##### <a name="parent"></a>Parent

[/ users/пакетной службы](uri-usersbatch.md)
