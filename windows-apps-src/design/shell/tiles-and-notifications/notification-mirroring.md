---
Description: Узнайте, как использовать зеркальное отображение уведомлений для всплывающих уведомлений.
title: Зеркальное отображение уведомлений
label: Notification mirroring
template: detail.hbs
ms.date: 12/15/2017
ms.topic: article
keywords: windows 10, uwp, всплывающее уведомление, центр уведомлений в облаке, зеркальное отображения уведомлений, уведомление, разные устройства
ms.localizationpriority: medium
ms.openlocfilehash: b897c6574f6cbfe78406d1c624f2e3b7286ef582
ms.sourcegitcommit: 0dee502484df798a0595ac1fe7fb7d0f5a982821
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/08/2020
ms.locfileid: "82971059"
---
# <a name="notification-mirroring"></a>Зеркальное отображение уведомлений

Зеркальное отображение уведомлений с помощью центра уведомлений в облаке позволяет отображать уведомления телефона на компьютере.

> [!IMPORTANT]
> **Требуется юбилейное обновление**. Для использования зеркального отображения уведомлений необходима сборка 14393 или более поздней версии. Если вы хотите отказаться от зеркального отображения уведомлений в приложении, выберите целевой пакет SDK 14393 для доступа к API-интерфейсам зеркального отображения.

С помощью зеркального отображения уведомлений и Кортаны пользователи могут получать уведомления с телефона (Windows Mobile и Android) и реагировать на них на своих компьютерах. Вам как разработчику не нужно ничего делать, чтобы включить зеркальное отображение уведомлений, оно работает автоматически. Нажатие кнопок на зеркальным всплывающем уведомлении, например для быстрого ответа на сообщения, отправляется обратно на телефон, вызывая фоновую задачу или запуская приложение переднего плана.

<img alt="Notification mirroring diagram" src="images/toast-mirroring.gif" width="350"/>

Разработчики получают два отличных преимущества от зеркального отображения уведомлений: зеркальные уведомления приводят к большему взаимодействию пользователей со службой, а также помогают пользователям найти ваше Microsoft Store классическое приложение! Пользователи могут даже не быть уверены, что у вас есть Awesome приложение Windows, доступное для Windows 10 Desktop. Когда пользователи получают зеркальное уведомление с телефона, пользователи могут щелкнуть всплывающее уведомление, которое будет передано Microsoft Store, где можно установить приложение Windows.

Зеркалирование работает с Windows Phone и Android. Пользователям необходимо войти в Кортану и на телефоне, и на настольном компьютере, чтобы зеркальное отображение уведомлений работало.


## <a name="what-if-the-app-is-installed-on-both-devices"></a>Что делать, если приложение установлено на обоих устройствах?

Если у пользователя уже есть приложение на компьютере, мы автоматически отключаем звук зеркального уведомления с телефона, чтобы не показывать повторяющиеся уведомления. Звук зеркальных уведомлений отключается автоматически на основе следующих критериев...

1. На компьютере существует приложение с таким же **отображаемым именем или таким же PFN** (именем семейства пакетов)
2. Это приложение на компьютере отправило всплывающее уведомление

Если приложение на компьютере еще не отправило всплывающее уведомление, мы по-прежнему покажем уведомления с телефона, поскольку есть вероятность, что пользователь еще не запустил приложение на компьютере.


## <a name="how-to-opt-out-of-mirroring"></a>Как отказаться от зеркального отображения

Разработчики приложений Windows, предприятия и пользователи могут отключить зеркальное отображение уведомлений.

> [!NOTE]
> Отключение зеркального отображения также приведет к отключению [универсального закрытия](universal-dismiss.md).


### <a name="as-a-developer-opt-out-an-individual-notification"></a>Разработчики могут отказаться от отдельного уведомления

Иногда вы можете получать уведомление для конкретного устройства, которое вы не хотите зеркально отображать на других устройствах. Вы можете запретить зеркальное отображение определенных уведомлений, настроив свойство **Mirroring** всплывающего уведомления. В настоящее время это свойство зеркального отображения может устанавливаться только для локальных уведомлений (его невозможно установить при отправке push-уведомления WNS).

**Известная проблема**. При получении свойства Mirroring с помощью API `ToastNotificationHistory.GetHistory()` всегда возвращается значение по умолчанию (**Allowed**), а не указанный вами параметр. Не волнуйтесь, все работает — это означает, что значение недействительно.

```csharp
var toast = new ToastNotification(xml)
{
    // Disable mirroring of this notification
    Mirroring = NotificationMirroring.Disabled
};
  
ToastNotificationManager.CreateToastNotifier().Show(toast);
```


### <a name="as-a-developer-opt-out-completely"></a>Разработчики могут полностью отказаться от зеркального отображения уведомлений

Некоторые разработчики могут полностью отказаться от зеркального отображения уведомлений в своих приложениях. Хотя мы считаем, что получают зеркальное отображение дает преимущества всем приложениям, мы предоставляем простой способ отказаться от них. Вызовите следующий метод один раз, и все. Например, можно поместить этот вызов в конструктор приложения внутри `App.xaml.cs`...

```csharp
public App()
{
    this.InitializeComponent();
    this.Suspending += OnSuspending;
 
    // Disable notification mirroring for entire app
    ToastNotificationManager.ConfigureNotificationMirroring(NotificationMirroring.Disabled);
}
```


### <a name="as-an-enterprise-how-do-i-opt-out"></a>Как предприятию отказаться от зеркального отображения уведомлений?

Предприятия могут полностью отключить зеркальное отображение уведомлений. Чтобы сделать это, нужно просто изменить групповую политику.


### <a name="as-a-user-how-do-i-opt-out"></a>Как пользователю отказаться от зеркального отображения уведомлений?

Пользователи могут отказаться от зеркального отображения уведомлений в отдельных приложений или полностью отключить функцию. Возможно, вы не хотите получать зеркальные уведомления определенного приложения на компьютере, поэтому вы можете просто отключить это приложение. Эти параметры можно найти в параметрах Кортаны на телефоне и компьютере.
