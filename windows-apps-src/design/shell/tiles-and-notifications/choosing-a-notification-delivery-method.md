---
author: mijacobs
Description: This article covers the four notification options&\#8212;local, scheduled, periodic, and push&\#8212;that deliver tile and badge updates and toast notification content.
title: Выбор способа доставки уведомлений
ms.assetid: FDB43EDE-C5F2-493F-952C-55401EC5172B
label: Choose a notification delivery method
template: detail.hbs
ms.author: mijacobs
ms.date: 05/19/2017
ms.topic: article
keywords: windows 10, uwp
ms.localizationpriority: medium
ms.openlocfilehash: c01b96f70bd39c43f321935aa47393ada0400319
ms.sourcegitcommit: 086001cffaf436e6e4324761d59bcc5e598c15ea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/27/2018
ms.locfileid: "5708455"
---
# <a name="choose-a-notification-delivery-method"></a>Выбор способа доставки уведомлений

 


В этой статье рассматривается четыре варианта уведомлений локальные, запланированные, периодические и push-уведомления для доставки обновлений плиток и индикаторов событий, а также содержимого всплывающих уведомлений. Уведомление на плитке или всплывающее уведомление может получать информацию для пользователя, даже когда пользователь не взаимодействует с вашим приложением. Тип и содержимое вашего приложения, а также информация, которая должна доставляться пользователю, определяют, какой метод уведомления лучше использовать в вашем случае.

## <a name="notification-delivery-methods-overview"></a>Обзор методов доставки уведомлений


Существует четыре механизма доставки уведомлений приложением.

-   **Локальные**
-   **Назначенные**
-   **Периодические**
-   **Push-уведомления**

В этой таблице приведены типы доставки уведомлений.

<table>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Метод доставки</th>
<th align="left">Используется с</th>
<th align="left">Описание</th>
<th align="left">Примеры</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Локальные</td>
<td align="left">Плитки, индикаторы событий, всплывающие уведомления</td>
<td align="left">Набор вызовов API, отправляющих уведомления во время работы приложения, с непосредственным обновлением плитки или индикатора событий либо с отправкой всплывающего уведомления.</td>
<td align="left"><ul>
<li>Музыкальное приложение обновляет свою плитку, отображая, состояние &quot;Проигрывается&quot;.</li>
<li>Игровое приложение обновляет плитку, когда пользователь выходит из игры, отображая наивысшее количество очков, набранных пользователем.</li>
<li>Индикатор, глиф которого указывает, что в приложении удалены новые сведения при активации приложения.</li>
</ul></td>
</tr>
<tr class="even">
<td align="left">Назначенные</td>
<td align="left">Плитка, всплывающее уведомление</td>
<td align="left">Набор вызовов API, заблаговременно назначающий уведомление, обновляемое в указанное вами время.</td>
<td align="left"><ul>
<li>Приложение календаря устанавливает напоминание о предстоящей встрече в виде всплывающего уведомления.</li>
</ul></td>
</tr>
<tr class="odd">
<td align="left">Периодические</td>
<td align="left">Плитка, индикатор событий</td>
<td align="left">Уведомления, регулярно обновляющие плитки и индикаторы событий через фиксированный интервал времени, запрашивая в облачной службе новое содержимое.</td>
<td align="left"><ul>
<li>Приложение прогноза погоды, обновляющее свою плитку с прогнозом каждые 30 минут.</li>
<li>Рекламный сайт, каждое утро обновляющий данные о &quot;специальных предложениях&quot;.</li>
<li>Плитка, показывающая число дней, оставшихся до события, обновляет обратный отсчет ежедневно в полночь.</li>
</ul></td>
</tr>
<tr class="even">
<td align="left">Push-уведомления</td>
<td align="left">Плитка, индикатор событий, всплывающее уведомление, необработанное</td>
<td align="left">Уведомления, отправляемые с облачного сервера даже при неработающем приложении.</td>
<td align="left"><ul>
<li>Приложение магазина, отправляющее всплывающее уведомление о распродаже товара, который просматривает пользователь.</li>
<li>Приложение новостей, обновляющее плитку по мере поступления свежей информации.</li>
<li>Приложение спортивной трансляции, обновляющее свою плитку на протяжении матча.</li>
<li>Приложение связи, отображающее уведомления о входящих сообщениях и телефонных звонках.</li>
</ul></td>
</tr>
</tbody>
</table>

 

## <a name="local-notifications"></a>Локальные уведомления


Обновление плитки или индикатора событий приложения, а также всплывающее уведомление во время работы приложения — наиболее простой механизм доставки уведомлений; для него требуются только локальные вызовы API. На плитке любого приложения можно показывать полезную или интересную информацию, даже если содержимое изменяется только после того, как пользователь запустит приложение и начнет взаимодействовать с ним. Локальные уведомления — не менее интересный способ обновления плитки, даже если вы параллельно используете другие механизмы уведомления. Например, на плитке приложения-фотоальбома можно отображать недавно добавленные фотографии.

Мы рекомендуем, чтобы ваше приложение обновляло свою плитку локально при первом запуске или по крайней мере сразу после внесения пользователем изменений, которые ваше приложение обычно должно отражать на плитке. Это обновление остается невидимым, пока пользователь не выйдет из приложения. Но обновление во время использования приложения гарантирует, что при выходе пользователя плитка уже будет обновлена.

Хотя здесь используются локальные вызовы API, уведомления могут ссылаться на веб-изображения. Если веб-изображение недоступно для скачивания, повреждено или не отвечает требованиям к изображениям, плитки и всплывающие уведомления реагируют по-разному.

-   Плитки: обновление не отображается
-   Всплывающее уведомление: уведомление отображается, но изображение удалено

По умолчанию срок действия локальных всплывающих уведомлений истекает через три дня, а срок действия локальных уведомлений на плитках не истекает никогда. Мы рекомендуем переопределить эти значения по умолчанию, явно указав срок, который был бы актуальным для ваших уведомлений (максимальный срок действия всплывающих уведомлений не превышает три дня). 

Дополнительную информацию об этом см. в следующих разделах:

-   [Отправка локального уведомления на плитке](sending-a-local-tile-notification.md)
-   [Отправка локального всплывающего уведомления](send-local-toast.md)
-   [Примеры кода уведомлений универсальной платформы Windows (UWP)](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/Notifications)

## <a name="scheduled-notifications"></a>Назначенные уведомления


Запланированные уведомления — это подмножество локальных уведомлений. С их помощью можно указывать конкретное время обновления плитки или отображения всплывающего уведомления. Запланированные уведомления отлично подходят в том случае, если содержимое, подлежащее обновлению, известно заранее (например, если речь идет о приглашении на встречу). Если нельзя заранее определить содержимое уведомления, следует использовать push-уведомление или периодическое уведомление.

Обратите внимание, что плановые уведомления невозможно использовать для уведомлений на индикаторе. Для уведомлений такого типа следует применять локальные, периодические уведомления или push-уведомления.

По умолчанию срок действия назначенных уведомлений истекает через три дня с момента показа. Этот срок по умолчанию можно переопределить для запланированных уведомлений на плитках, однако истечение срока действия для запланированных всплывающих уведомлений переопределить невозможно.

Дополнительную информацию об этом см. в следующих разделах:

-   [Примеры кода уведомлений универсальной платформы Windows (UWP)](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/Notifications)

## <a name="periodic-notifications"></a>Периодические уведомления


Периодические уведомления предназначены для обновления живых плиток с минимальным участием облачной службы и клиента. Их также удобно использовать для распространения одного и того же содержимого среди широкой аудитории. В коде клиента указывается URL-адрес расположения в облаке, по которому Windows будет отправлять запросы о наличии обновлений плитки или индикатора событий; также указывается периодичность опроса расположения. Каждый раз по прошествии интервала опроса Windows обращается по данному URL-адресу для скачивания указанного XML-содержимого и его отображения на плитке.

Для периодических уведомлений необходимо, чтобы в приложении была размещена облачная служба; данная служба будет принимать запросы обновлений через установленный интервал времени от всех пользователей, установивших приложение. Обратите внимание, что периодические обновления нельзя использовать для отображения всплывающих уведомлений. Для уведомлений такого типа следует применять механизм назначенных или push-уведомлений.

По умолчанию срок действия периодических уведомлений истекает через три дня с момента проведения опроса. При необходимости это значение по умолчанию можно переопределить, выбрав явное время окончания срока действия.

Дополнительную информацию об этом см. в разделах:

-   [Общие сведения о периодических уведомлениях](periodic-notification-overview.md)
-   [Примеры кода уведомлений универсальной платформы Windows (UWP)](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/Notifications)

## <a name="push-notifications"></a>Push-уведомления


Push-уведомления идеально подходят для случаев, когда ваше приложение содержит данные реального времени или данные, персонализированные для вашего пользователя. Push-уведомления применяются для отображения содержимого с непредсказуемым временем появления. Это могут быть, например, последние новости, обновления социальных сетей или мгновенные сообщения от пользователей. Push-уведомления также удобны в ситуациях, когда затрагиваются данные, со временем теряющие свою актуальность; в таких случаях периодические уведомления не подходят. Пример: отображение игрового счета во время матча.

Для push-уведомлений необходима облачная служба, управляющая каналами уведомлений и определяющая, когда и кому отправлять уведомления.

По умолчанию срок действия push-уведомлений истекает через три дня с момента получения устройством. При необходимости можно переопределить это значение по умолчанию, явно указав срок действия (не более трех дней для всплывающих уведомлений).

Дополнительные сведения см. в следующих разделах:

-   [Обзор служб push-уведомлений Windows (WNS)](windows-push-notification-services--wns--overview.md)
-   [Руководство по push-уведомлениям](https://msdn.microsoft.com/library/windows/apps/hh761462)
-   [Примеры кода уведомлений универсальной платформы Windows (UWP)](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/Notifications)


## <a name="related-topics"></a>Еще по теме


* [Отправка локального уведомления на плитке](sending-a-local-tile-notification.md)
* [Отправка локального всплывающего уведомления](send-local-toast.md)
* [Руководство по push-уведомлениям](https://msdn.microsoft.com/library/windows/apps/hh761462)
* [Руководство по всплывающим уведомлениям](https://msdn.microsoft.com/library/windows/apps/hh465391)
* [Обзор периодических уведомлений](periodic-notification-overview.md)
* [Обзор служб push-уведомлений Windows (WNS)](windows-push-notification-services--wns--overview.md)
* [Примеры кода уведомлений универсальной платформы Windows (UWP) на GitHub](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/Notifications)
 

 




