---
author: andrewleader
Description: Learn how to use custom timestamps on your toast notifications.
title: Настраиваемые метки времени во всплывающих уведомлениях
label: Custom timestamps on toasts
template: detail.hbs
ms.author: mijacobs
ms.date: 12/15/2017
ms.topic: article
keywords: windows 10, uwp, всплывающее уведомление, настраиваемая метка времени, метка времени, уведомление, центр уведомлений
ms.localizationpriority: medium
ms.openlocfilehash: 290825fa079052b79fb2feaec8af928f8da93f95
ms.sourcegitcommit: 3257416aebb5a7b1515e107866806f8bd57845a8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/17/2018
ms.locfileid: "7156970"
---
# <a name="custom-timestamps-on-toasts"></a>Настраиваемые метки времени во всплывающих уведомлениях

По умолчанию метка времени во всплывающих уведомлениях (которая отображается в центре уведомлений) содержит время отправки уведомления.

<img alt="Toast with custom timestamp" src="images/toast-customtimestamp.jpg" width="396"/>

При необходимости можно указать в метке времени собственное значение даты и времени, чтобы она представляла время фактического создания сообщения, данных или содержимого, а не время отправки уведомления. При этом уведомления также отображаются в правильном порядке в центре уведомлений (где они сортируются по времени). Мы рекомендуем использовать настраиваемые метки времени в большинстве приложений.

> [!IMPORTANT]
> **Требуется обновление Creators Update и библиотека уведомлений версии 1.4.0**: для просмотра настраиваемых меток времени необходимо использовать сборку 15063 или более поздней версии. Для назначения метки времени в содержимом всплывающего уведомления необходимо использовать [библиотеку уведомлений набора средств сообщества UWP из NuGet](https://www.nuget.org/packages/Microsoft.Toolkit.Uwp.Notifications/) версии 1.4.0 или более поздней.

Чтобы использовать настраиваемую метку времени, просто назначьте свойство **DisplayTimestamp** в **ToastContent**.

```csharp
ToastContent toastContent = new ToastContent()
{
    DisplayTimestamp = new DateTime(2017, 04, 15, 19, 45, 00, DateTimeKind.Utc),
    ...
};
```

```xml
<toast displayTimestamp="2017-04-15T19:45:00Z">
  ...
</toast>
```

Если вы используете XML, дата должны быть указана в формате [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).

> [!NOTE]
> Для секунд можно использовать не более 3 знаков (хотя в реальности не имеет смысла предоставлять значение с такой точностью). Если указать больше знаков, полезные данные станут недействительными и получите "Новое уведомление".


## <a name="usage-guidance"></a>Руководство по использованию

В общем случае мы рекомендуем использовать настраиваемые метки времени в большинстве приложений. При этом метка времени уведомления достоверно представляет время создания сообщения, данных или содержимого независимо от задержек в сети, режима "в самолете" или выполнения фоновых задач с фиксированными или периодическими интервалами.

Например, новостное приложение может каждые 15минут выполнять фоновую задачу, которая проверяет наличие новых статей и отображает уведомления. До появления настраиваемых меток времени создавалась метка времени, соответствующая созданию всплывающего уведомления (отсюда 15-минутный интервал). Однако теперь приложение может указать в метке времени момент фактическое время публикации статьи. Аналогичным образом приложения для электронной почты и социальных сетей могут использовать эту функцию, если для их уведомлений применяется похожий механизм периодического опроса.

Кроме того, настраиваемые метки времени гарантирует точность времени, даже если пользователь был отключен от Интернета. Например, когда пользователь включает компьютер и выполняется фоновая задача, метка времени на уведомлениях представляет время отправки сообщений, а не время включения компьютера.


## <a name="default-timestamp"></a>Метка времени по умолчанию

Если не указать настраиваемую метку времени, мы используем время отправки уведомления.

При отправке push-уведомлений через WNS мы используем время получения уведомления WNS-сервером (поэтому задержка доставки уведомления на устройство не влияет на метку времени).

Если вы отправляете локальное уведомление, мы используем время получения уведомления платформой уведомлений (что должно произойти немедленно).


## <a name="related-topics"></a>Статьи по теме

- [Отправка локального всплывающего уведомления](send-local-toast.md)
- [Документация по содержимому всплывающего уведомления](adaptive-interactive-toasts.md)