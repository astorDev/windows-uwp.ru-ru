---
Description: Списки отображают содержимое коллекций и обеспечивают взаимодействие с ним.
title: Коллекции и списки
ms.assetid: C73125E8-3768-46A5-B078-FDDF42AB1077
label: Collections and Lists
template: detail.hbs
ms.date: 10/08/2019
ms.topic: article
keywords: windows 10, uwp
pm-contact: anawish
design-contact: kimsea
dev-contact: ranjeshj
doc-status: Published
ms.localizationpriority: medium
ms.openlocfilehash: e1167a57da6a3f54cabcc946cfbf7a592f301d2c
ms.sourcegitcommit: 9625f8fb86ff6473ac2851e600bc02e996993660
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/09/2019
ms.locfileid: "72163748"
---
# <a name="collections-and-lists"></a>Коллекции и списки

Коллекции и списки связаны с представлением нескольких связанных элементов данных, которые отображаются вместе. Коллекции могут быть представлены несколькими способами, различными элементами управления коллекциями (также могут называться представлениями коллекций). Элементы управления коллекциями отображают содержимое на основе коллекции, например список контактов, список дат, набор изображений и т. д., а также обеспечивают взаимодействие с этим содержимым.  В этой статье описаны следующие элементы управления:

- представления списка, которые применяются преимущественно для отображения коллекций с большими объемами текста;
- представления сетки, которые применяются преимущественно для отображения коллекций с большим количеством изображений;
- представления пролистывания, которые в основном используются для отображения коллекций содержимого с множеством изображений, требующих одновременного показа только одного элемента;
- представления в виде дерева, которые применяются преимущественно для отображения коллекций с большими объемами текста в специальной иерархии;
- ItemsRepeater — настраиваемый стандартный блок, используемый для создания пользовательских элементов управления коллекциями.


Ниже представлены рекомендации по проектированию, описаны возможности и приведены примеры каждого элемента управления.

Каждый из этих элементов управления (за исключением ItemsRepeater) предоставляет встроенные стили и возможности взаимодействия. Однако для расширенной настройки внешнего вида представления коллекции и элементов в нем используется шаблон [DataTemplate](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.DataTemplate). Подробные сведения о шаблонах данных и настройке внешнего вида представления коллекции можно найти на странице [Контейнеры и шаблоны элементов](https://docs.microsoft.com/windows/uwp/design/controls-and-patterns/item-containers-templates).

Каждый из этих элементов управления (за исключением ItemsRepeater) также имеет встроенный режим, позволяющей выбирать один или несколько элементов. Дополнительные сведения см. в разделе [Общие сведения о режиме выделения](selection-modes.md).

> **Важные API**: [Класс ListView](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.ListView), [класс GridView](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.GridView), [класс FlipView](https://docs.microsoft.com/uwp/api/windows.ui.xaml.controls.flipview), [класс TreeView](https://docs.microsoft.com/uwp/api/windows.ui.xaml.controls.treeview), [класс ItemsRepeater](https://docs.microsoft.com/uwp/api/microsoft.ui.xaml.controls.itemsrepeater?view=winui-2.2).

> <div id="main">
> <strong>Windows 10 Fall Creators Update — изменения в поведении</strong>
> </div>
> По умолчанию активное перо вместо выбора теперь прокручивает или сдвигает список в приложениях UWP (как сенсорный экран, сенсорная панель и неактивное перо).
> Если ваше приложение зависит от предыдущего поведения, вы можете переопределить прокрутку пера и вернуться к предыдущему алгоритму. Дополнительные сведения см. в разделе справки по API <a href="https://docs.microsoft.com/uwp/api/windows.ui.xaml.controls.scrollviewer">класс ScrollViewer</a>.

## <a name="examples"></a>Примеры

<table>
<th align="left">XAML Controls Gallery<th>
<tr>
<td><img src="images/xaml-controls-gallery-sm.png" alt="XAML controls gallery"></img></td>
<td>
    <p>Если у вас установлено приложение <strong style="font-weight: semi-bold">XAML Controls Gallery</strong>, то вы можете увидеть в действии элементы <a href="xamlcontrolsgallery:/item/ListView">ListView</a>, <a href="xamlcontrolsgallery:/item/GridView">GridView</a>, <a href="xamlcontrolsgallery:/item/FlipView">FlipView</a>, <a href="xamlcontrolsgallery:/item/TreeView">TreeView</a> и <a href="xamlcontrolsgalley:/item/ItemsRepeater">ItemsRepeater</a>.</p>
    <ul>
    <li><a href="https://www.microsoft.com/store/productId/9MSVH128X2ZT">Получить приложение XAML Controls Gallery (Microsoft Store)</a></li>
    <li><a href="https://github.com/Microsoft/Xaml-Controls-Gallery">Получить исходный код (GitHub)</a></li>
    </ul>
</td>
</tr>
</table>

## <a name="list-views"></a>Представления списка

Представления списка представляют собой элементы с большим количеством текста, которые обычно используют макет с одним столбцом и вертикальным расположением элементов. Они позволяют упорядочивать элементы и назначать заголовки групп, а также перетаскивать элементы, организовывать содержимое и изменять порядок элементов.

### <a name="is-this-the-right-control"></a>Выбор правильного элемента управления

Используйте представление списка, чтобы:

- отображать коллекцию, которая в основном состоит из текстовых элементов, где все элементы должны выглядеть единообразно и обладать одинаковыми возможностями взаимодействия;
- представить отдельную или классифицированную коллекцию содержимого;
- реализовать несколько вариантов использования (включая следующие наиболее распространенные):
    - создать список сообщений или журнал сообщений;
    - создать список контактов;
    - создать основную панель в [шаблоне основных и подробных данных](master-details.md). Шаблон основных и подробных данных часто используется в приложениях электронной почты, в которых одна панель (основная) содержит список доступных для выбора элементов, а другая — подробное представление выбранного элемента.
    

### <a name="examples"></a>Примеры

Ниже приведено простое представление списка контактов, в котором элементы данных группируются по алфавиту. Заголовки групп (в этом примере — каждая буква алфавита) можно также "прикрепить", чтобы они всегда отображались в верхней части ListView при прокрутке.

![Представление списка со сгруппированными данными](images/listview-grouped-example-resized-final.png)

Это элемент ListView, который был перевернут для отображения журнала сообщений, в котором последние сообщения показаны внизу. При использовании перевернутого ListView в нижней части экрана отображаются элементы со встроенной анимацией.

![Перевернутое представление списка](images/listview-inverted-2.png)

### <a name="related-articles"></a>Связанные статьи
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Раздел</th>
<th align="left">Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p><a href="listview-and-gridview.md">Представления списка и сетки</a></p></td>
<td align="left"><p>Знакомство с основами использования представления списка или сетки в вашем приложении.</p></td>
</tr>
<tr class="even">
<td align="left"><p><a href="item-containers-templates.md">Контейнеры и шаблоны элементов</a></p></td>
<td align="left"><p>Элементы, которые отображаются в представлении списка или сетки, могут играть важную роль в общем виде вашего приложения. Сделайте приложение привлекательным, настроив внешний вид элементов коллекций. Для этого измените шаблоны элементов управления и шаблоны данных.</p></td>
</tr>
<tr class="odd">
<td align="left"><p><a href="item-templates-listview.md">Шаблоны элементов для представления списка</a></p></td>
<td align="left"><p>Используйте эти примеры шаблонов элементов для ListView, чтобы создать интерфейс приложения стандартного типа.</p></td>
</tr>
<tr class="even">
<td align="left"><p><a href="inverted-lists.md">Перевернутые списки</a></p></td>
<td align="left"><p>В перевернутых списках новые элементы добавляются снизу, как, например, в приложении чата. Следуйте рекомендациям в этой статье по использованию перевернутого списка в приложении.</p></td>
</tr>
<tr class="odd">
<td align="left"><p><a href="pull-to-refresh.md">Обновление путем оттягивания</a></p></td>
<td align="left"><p>Механизм обновления путем оттягивания позволяет пользователю потянуть список данных вниз, чтобы получить дополнительные данные. Используйте эту статью для реализации обновления путем оттягивания в представлении списка.</p></td>
</tr>
<tr class="even">
<td align="left"><p><a href="nested-ui.md">Вложенные элементы пользовательского интерфейса</a></p></td>
<td align="left"><p>Вложенный элемент пользовательского интерфейса предоставляет активные элементы управления, заключенные в контейнер, с которым пользователи также могут выполнять действия. Например, элемент представления списка может содержать кнопку, и пользователь может выбрать элемент списка или нажать вложенную в него кнопку. Следуйте этим рекомендациям для оптимизации работы пользователей с вложенными элементами пользовательского интерфейса.</p></td>
</tr>
</tbody>
</table>

## <a name="grid-views"></a>Представления сетки

Представления сетки подходят для упорядочивания и просмотра коллекций изображений. Макет сетки прокручивается вертикально и сдвигается по горизонтали. Элементы отображаются в макете с рамкой слева направо и сверху вниз.

### <a name="is-this-the-right-control"></a>Выбор правильного элемента управления

Используйте представление сетки, чтобы:

- отображать коллекцию содержимого, в которой точкой фокуса каждого элемента является изображение и все элементы должны выглядеть одинаково и обеспечивать одинаковые возможности взаимодействия;
- отображать библиотеки содержимого;
- форматировать два режима просмотра содержимого, связанных с [контекстным масштабированием](semantic-zoom.md).
- реализовать несколько вариантов использования (включая следующие наиболее распространенные):
    - пользовательский интерфейс онлайн-магазина (например, просмотр приложений, песен, продуктов);
    - интерактивные библиотеки фотографий.

### <a name="examples"></a>Примеры

В этом примере показан типичный макет сетки, в данном случае — для просмотра приложений. Метаданные элементов представления сетки обычно ограничиваются несколькими строками текста и оценкой элемента.

![Пример макета представления сетки](images/controls_gridview_example02.png)

Представление сетки — это идеальное решение для библиотеки содержимого, которая часто используется для представления мультимедийного содержимого, например фотографий и видео. В библиотеке содержимого пользователь должен иметь возможность касаться элемента для вызова действия.

![Пример библиотеки содержимого](images/gridview-simple-example-final.png)

### <a name="related-articles"></a>Связанные статьи
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Раздел</th>
<th align="left">Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p><a href="listview-and-gridview.md">Представления списка и сетки</a></p></td>
<td align="left"><p>Знакомство с основами использования представления списка или сетки в вашем приложении.</p></td>
</tr>
<tr class="even">
<td align="left"><p><a href="item-containers-templates.md">Контейнеры и шаблоны элементов</a></p></td>
<td align="left"><p>Элементы, которые отображаются в представлении списка или сетки, могут играть важную роль в общем виде вашего приложения. Сделайте приложение привлекательным, настроив внешний вид элементов коллекций. Для этого измените шаблоны элементов управления и шаблоны данных.</p></td>
</tr>
<tr class="odd">
<td align="left"><p><a href="item-templates-gridview.md">Шаблоны элементов для представления сетки</a></p></td>
<td align="left"><p>Используйте эти примеры шаблонов элементов для GridView, чтобы создать интерфейс приложения стандартного типа.</p></td>
</tr>
<tr class="even">
<td align="left"><p><a href="nested-ui.md">Вложенные элементы пользовательского интерфейса</a></p></td>
<td align="left"><p>Вложенный элемент пользовательского интерфейса предоставляет активные элементы управления, заключенные в контейнер, с которым пользователи также могут выполнять действия. Например, элемент представления сетки может содержать кнопку, и пользователь может выбрать элемент сетки или нажать вложенную в него кнопку. Следуйте этим рекомендациям для оптимизации работы пользователей с вложенными элементами пользовательского интерфейса.</p></td>
</tr>
</tbody>
</table>

## <a name="flip-views"></a>Представления пролистывания

Представления пролистывания подходят для просмотра коллекций содержимого с изображениями, в частности, когда требуется, чтобы в одновременно отображался только один рисунок. Представление пролистывания позволяет пользователю передвигать или "пролистывать" элементы коллекции (по вертикали или по горизонтали), при этом после действия пользователя одновременно отображается только один элемент.

### <a name="is-this-the-right-control"></a>Выбор правильного элемента управления

Используйте представление пролистывания, чтобы:

- отображать небольшую или среднюю (менее 25 элементов) коллекцию, которая состоит из изображений с небольшим количеством метаданных;
- отображать элементы по одному, позволяя пользователям пролистывать элементы в удобном для них темпе;
- реализовать несколько вариантов использования (включая следующие наиболее распространенные):
    - фотогалереи;
    - коллекции или демонстрации продуктов.

### <a name="examples"></a>Примеры

В следующих двух примерах показан элемент FlipView, который пролистывается по горизонтали и вертикали соответственно.

![Горизонтальное представление пролистывания](images/controls_flipview_horizonal.jpg)

![Вертикальное представление пролистывания](images/controls_flipview_vertical.jpg)

### <a name="related-articles"></a>Связанные статьи
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Раздел</th>
<th align="left">Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p><a href="flipview.md">Представление пролистывания</a></p></td>
<td align="left"><p>Ознакомьтесь с основами использования представления пролистывания в приложении, а также узнайте о том, как настроить внешний вид элементов в представлении пролистывания.</p></td>
</tr>
</tbody>
</table>

## <a name="tree-views"></a>Представления в виде дерева

Представления в виде дерева подходят для отображения текстовых коллекций с важной иерархией, которую необходимо демонстрировать. Элементы представления в виде дерева могут сворачиваться и разворачиваться. Они отображаются в наглядной иерархии, могут дополняться значками и поддерживают перетаскивание между представлениями в виде дерева. Представления в виде дерева позволяют использовать N-уровневые вложения.

### <a name="is-this-the-right-control"></a>Выбор правильного элемента управления

Используйте представление в виде дерева, чтобы:

- отображать коллекцию вложенных элементов, контекст и значение которых зависит от иерархии или специальной организационной цепочки;
- реализовать несколько вариантов использования (включая следующие наиболее распространенные):
    - проводник;
    - организационная диаграмма компании.

### <a name="examples"></a>Примеры

Ниже приведен пример представления в виде дерева. Это проводник, в котором отображается множество различных вложенных элементов, которые дополнены значками.

![Представление в виде дерева со значками](images/treeview-icons.png)

### <a name="related-articles"></a>Связанные статьи
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Раздел</th>
<th align="left">Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p><a href="tree-view.md">Представление в виде дерева</a></p></td>
<td align="left"><p>Ознакомьтесь с основами использования представления в виде дерева в приложении, а также узнайте о том, как настроить внешний вид и возможности взаимодействия элементов в представлении пролистывания.</p></td>
</tr>
</tbody>
</table>

## <a name="itemsrepeater"></a>ItemsRepeater

ItemsRepeater отличается от остальных элементов управления коллекциями, показанных на этой странице, так как не обеспечивает возможности выбора стиля или взаимодействия, если его просто поместить на страницу, не определив какие-либо свойства. ItemsRepeater является стандартным блоком, который разработчик может использовать для создания собственного пользовательского элемента управления коллекциями, в частности такого, который невозможно создать с помощью других элементов управления, описанных в этой статье. ItemsRepeater — это управляемая данными высокопроизводительная панель, которую можно адаптировать под конкретные нужды.

### <a name="is-this-the-right-control"></a>Выбор правильного элемента управления

Используйте элемент ItemsRepeater, если:

- вы задумали конкретный пользовательский интерфейс и возможности взаимодействия с пользователем, которые невозможно реализовать с помощью существующих элементов управления коллекциями;
- у вас есть источник данных для элементов (например, данные, полученные из Интернета, база данных или уже существующая коллекции в коде программной части).

### <a name="examples"></a>Примеры

В следующих трех примерах приведены элементы управления ItemsRepeater, привязанные к одному источнику данных (коллекции чисел). Коллекция чисел представлена тремя способами, и каждый из элементов ItemsRepeater использует разные пользовательские элементы [Layout](https://docs.microsoft.com/uwp/api/microsoft.ui.xaml.controls.layout) и [ItemTemplate](https://docs.microsoft.com/uwp/api/microsoft.ui.xaml.controls.itemsrepeater.itemtemplate?view=winui-2.2).

![ItemsRepeater с горизонтальными полосами](images/itemsrepeater-1.png)
![ItemsRepeater с вертикальными полосами](images/itemsrepeater-2.png)
![ItemsRepeater с круговым представлением](images/itemsrepeater-3.png)

### <a name="related-articles"></a>Связанные статьи
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Раздел</th>
<th align="left">Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p><a href="items-repeater.md">ItemsRepeater</a></p></td>
<td align="left"><p>Ознакомьтесь с основами использования ItemsRepeater в приложении, а также узнайте о том, как реализовать все необходимое взаимодействие и визуальные компоненты для представления коллекции.</p></td>
</tr>
</tbody>
</table>


## <a name="globalization-and-localization-checklist"></a>Глобализация и локализация: контрольный список

<table>
<tr>
<th>Создание программы-оболочки</th><td>Разрешите использовать две строки для метки списка.</td>
</tr>
<tr>
<th>Горизонтальное расширение</th><td>Убедитесь, что поля поддерживают расширение по величине текста и прокрутку.</td>
</tr>
<tr>
<th>Вертикальный интервал</th><td>Используйте для вертикального интервала знаки, не входящие в латинский алфавит, чтобы знаки других алфавитов правильно отображались.</td>
</tr>
</table>

## <a name="get-the-sample-code"></a>Получить пример кода

- [Пример из коллекции элементов управления XAML](https://github.com/Microsoft/Xaml-Controls-Gallery) — ознакомьтесь со всеми элементами управления XAML в интерактивном режиме.

## <a name="related-articles"></a>Связанные статьи

**Рекомендации по проектированию и пользовательскому интерфейсу**
- [Основные и подробные данные](master-details.md)
- [Панель навигации](navigationview.md)
- [Контекстное масштабирование](semantic-zoom.md)
- [Перетаскивание](https://docs.microsoft.com/windows/uwp/app-to-app/drag-and-drop)
- [Эскизы](../../files/thumbnails.md)

**Справочник по API**
- [Класс ListView](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.ListView)
- [Класс GridView](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.GridView)
- [Класс ComboBox](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.ComboBox)
- [Класс ListBox](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.ListBox)
