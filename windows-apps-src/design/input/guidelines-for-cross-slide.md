---
Description: Используйте скольжение по диагонали для поддержки выделения с помощью жеста прокрутки и перетаскивания (перемещения) с помощью жеста перетаскивания.
title: Руководство по скольжению по диагонали
ms.assetid: 897555e2-c567-4bbe-b600-553daeb223d5
ms.date: 10/25/2017
ms.topic: article
keywords: windows 10, uwp
ms.localizationpriority: medium
ms.openlocfilehash: 36ebabbfd8f7e5f40e31be44d6dc7e4483a199ee
ms.sourcegitcommit: ac7f3422f8d83618f9b6b5615a37f8e5c115b3c4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/29/2019
ms.locfileid: "66363705"
---
# <a name="guidelines-for-cross-slide"></a>Руководство по скольжению по диагонали




**Важные API**

-   [**CrossSliding**](https://docs.microsoft.com/uwp/api/windows.ui.input.gesturerecognizer.crosssliding)
-   [**CrossSlideThresholds**](https://docs.microsoft.com/uwp/api/windows.ui.input.gesturerecognizer.crossslidethresholds)
-   [**Windows.UI.Input**](https://docs.microsoft.com/uwp/api/Windows.UI.Input)

Используйте скольжение по диагонали для поддержки выделения с помощью жеста прокрутки и перетаскивания (перемещения) с помощью жеста перетаскивания.

## <a name="span-iddosanddontsspanspan-iddosanddontsspanspan-iddosanddontsspandos-and-donts"></a><span id="Dos_and_don_ts"></span><span id="dos_and_don_ts"></span><span id="DOS_AND_DON_TS"></span>Рекомендации и запреты


-   Используйте скольжение по диагонали для списков и коллекций, которые прокручиваются в одном направлении.
-   Используйте скольжение по диагонали для выбора элементов, когда взаимодействие в форме касания используется для другой цели.
-   Не используйте скольжение по диагонали для добавления элементов в очередь.

## <a name="span-idadditionalusageguidancespanspan-idadditionalusageguidancespanspan-idadditionalusageguidancespanadditional-usage-guidance"></a><span id="Additional_usage_guidance"></span><span id="additional_usage_guidance"></span><span id="ADDITIONAL_USAGE_GUIDANCE"></span>Дополнительные инструкции по использованию


Выделение и перетаскивание возможны только в области содержимого, поддерживающей сдвиг в одном направлении (по вертикали или по горизонтали). Чтобы эти операции работали, необходимо заблокировать одно из направлений сдвига и выполнять жест в направлении, перпендикулярном направлению сдвига.

Здесь мы покажем, как выбирать и перетаскивать объект с помощью скольжения по диагонали. На изображении слева показано, что элемент выбирается, если жест прокрутки не пересекает пороговое расстояние, когда прекращается контакт и освобождается объект. На изображении справа показано, как жест перетаскивания пересекает пороговое расстояние, что приводит к перемещению объекта.

![Схема процессов выбора и перетаскивания.](images/crossslide-mechanism.png)

Пороговые расстояния, используемые при взаимодействии в форме скольжения по диагонали, показаны на схеме ниже.

![Снимок экрана, показывающий процессы выбора и перетаскивания.](images/crossslide-threshold.png)

Чтобы сохранить возможность сдвига, взаимодействие с выделением или перетаскиванием активируется только после пересечения порогового расстояния 2,7 мм (около 10 пикселей при целевом разрешении). Такой небольшой порог помогает системе различать скольжение по диагонали и сдвиг, а также гарантирует различение жеста касания и скольжения по диагонали и сдвига.

Здесь показано, как пользователь касается элемента пользовательского интерфейса, но в момент контакта немного сдвигает палец вниз. Без порога такое взаимодействие интерпретировалось бы как скольжение по диагонали из-за первоначального движения по вертикали. Благодаря порогу такое перемещение интерпретируется правильно — как сдвиг по горизонтали.

![Снимок экрана, показывающий порог различения операций выбора и перетаскивания.](images/crossslide-threshold2.png)

Ниже приведены некоторые рекомендации по добавлению в приложение функции скольжения по диагонали.

Используйте скольжение по диагонали для списков и коллекций, которые прокручиваются в одном направлении. Подробнее: [Добавление элементов управления ListView](https://docs.microsoft.com/previous-versions/windows/apps/hh465382(v=win.10)).

**Примечание**  в случаях, где может быть панорамировании окна области содержимого в двух направлениях, таких как веб-браузерами или e читателей, нажатие и удерживание синхронизированного взаимодействия следует использовать для вызова контекстного меню для объектов, таких как изображения и гиперссылки.

 

|                                                                                         |                                                                                         |
|-----------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
| ![Двухмерный список, панорамируемый по горизонтали](images/groupedlistview1.png)                | ![Одномерный список, панорамируемый по вертикали](images/listviewlistlayout.png)                |
| Двухмерный список, панорамируемый по горизонтали. Элементы выбираются или перемещаются перетаскиванием по вертикали. | Одномерный список, панорамируемый по вертикали. Элементы выбираются или перемещаются перетаскиванием по горизонтали. |

 

### <span id="selection"></span><span id="SELECTION"></span>

**Выбрав**

Выделение применяется, чтобы отметить один или несколько объектов без запуска и активации. Это действие аналогично однократному щелчку мышью или щелчку мышью при нажатой клавише SHIFT для выбора одного или нескольких объектов.

Чтобы выделить элемент путем скольжения по диагонали, следует его коснуться и, перетащив на короткое расстояние, отпустить. Этот способ выделения позволяет обойтись без специального режима выделения и взаимодействия в форме нажатия и удержания, которые требуются в других сенсорных интерфейсах, и не конфликтует со взаимодействием в форме касания для активации.

Кроме порогового расстояния выделение в форме скольжения по диагонали ограничено пороговой областью с углом 90° (см. схему ниже). Объект не выделяется, если перетащить его за пределы этой области.

![Схема пороговой области выделения.](images/crossslide-selection.png)

Взаимодействие в форме скольжения по диагонали дополнено взаимодействием в форме нажатия и удержания, которое также называют самостоятельно проявляющимся взаимодействием. Это дополнительное взаимодействие активирует анимацию, указывающую на действие, которое можно выполнить над объектом. Подробнее о пользовательском интерфейсе без неоднозначности см. в разделе [Руководство по визуальной обратной связи](guidelines-for-visualfeedback.md).

На снимках экрана ниже показано, как работает самостоятельно проявляющаяся анимация.

1.  Нажмите и удерживайте, чтобы запустить анимацию для самостоятельно проявляющегося взаимодействия. Выбранное состояние элементов влияет на то, что проявляется при анимации: флажок, если выбор не сделан, и отсутствие флажка, если выбор сделан.

    ![Снимок экрана, показывающий состояние без выбора.](images/crossslide-selfreveal1.png)

2.  Выберите элемент с помощью жеста прокрутки (вверх или вниз).

    ![Снимок экрана, показывающий анимацию выбора.](images/crossslide-selfreveal2.png)

3.  Элемент выбран. Чтобы переместить элемент, переопределите поведение при выборе с помощью жеста перетаскивания.

    ![Снимок экрана, показывающий анимацию перетаскивания.](images/crossslide-selfreveal3.png)

В приложениях, где основным действием является выбор элемента, реализуйте его одиночным касанием. Самостоятельно проявляющаяся анимация при скольжении по диагонали отображается, чтобы отличить эту функциональную возможность от стандартного взаимодействия в форме касания для активации и навигации.

**Подборка**

Средство выбора — это визуально отчетливое, динамичное представление элементов, выбранных в основном списке или коллекции в приложении. Этот компонент удобно использовать для отслеживания выбранных элементов, его следует применять в приложениях, где:

-   Можно выбрать элементы из разных расположений.
-   Можно выбрать несколько элементов.
-   Со списком выбранных элементов связано действие или команда.

Содержимое подборки сохраняется при выполнении различных действий и команд. Например, если в коллекции выбрать серию фотографий, применить к каждой фотографии цветовую коррекцию и предоставить к ним общий доступ, элементы остаются выбранными.

Если в приложении подборка не используется, после выполнения действия или команды текущий выбор очищается. Например, если выбрать композицию в списке воспроизведения и оценить ее, такой выбор сбрасывается.

Текущий выбор также очищается, если подборка не используется, а в списке или коллекции активируется другой элемент. Например, если выбрать входящее сообщение, обновляется панель просмотра. Затем, если выбрать второе входящее сообщение, выбор предыдущего сообщения отменяется, а панель просмотра обновляется.

**Очереди**

Очередь и список средства выбора — не одно и тоже, их не стоит путать. Основное различие заключается в следующем.

-   Список элементов в средстве выбора является только визуальным представлением, тогда как с элементами, организованными в очередь, предполагается произвести определенное действие.
-   В средстве выбора элементы могут появляться только один раз, а в очереди — многократно.
-   Порядок элементов в средстве выбора отражает порядок их выбора. Порядок элементов в очереди напрямую связан с функциональностью.

По этим причинам взаимодействие с выделением путем скольжения по диагонали не следует использовать для добавления элементов в очередь. Вместо этого элементы следует добавлять с помощью перетаскивания.

### <span id="draganddrop"></span><span id="DRAGANDDROP"></span>

**Перетащите**

Для перемещения одного или нескольких объектов используйте перетаскивание.

Если нужно переместить несколько объектов, пользователь выбирает несколько элементов, а затем перетаскивает их за один раз.

## <a name="span-idrelatedtopicsspanrelated-articles"></a><span id="related_topics"></span>Связанные статьи


**Примеры**
* [Базовый пример входной привязки](https://go.microsoft.com/fwlink/p/?LinkID=620302)
* [Пример входной привязки для низкой задержкой](https://go.microsoft.com/fwlink/p/?LinkID=620304)
* [Пример режима взаимодействия с пользователем](https://go.microsoft.com/fwlink/p/?LinkID=619894)
* [Пример визуальных элементов фокуса](https://go.microsoft.com/fwlink/p/?LinkID=619895)
**Примеры из архива**
* [Входные данные: Пример события ввода пользовательского XAML](https://go.microsoft.com/fwlink/p/?linkid=226855)
* [Входные данные: Пример возможности устройства](https://go.microsoft.com/fwlink/p/?linkid=231530)
* [Входные данные: Пример проверки попадания сенсорного ввода](https://go.microsoft.com/fwlink/p/?linkid=231590)
* [XAML прокрутки, сдвига и масштабирования примера](https://go.microsoft.com/fwlink/p/?linkid=251717)
* [Входные данные: Пример упрощенного рукописного ввода](https://go.microsoft.com/fwlink/p/?linkid=246570)
* [Входные данные: Пример жесты Windows 8](https://go.microsoft.com/fwlink/p/?LinkId=264995)
* [Входные данные: Манипуляции и образец жестов (C++)](https://go.microsoft.com/fwlink/p/?linkid=231605)
* [Пример входной привязки для сенсорного ввода DirectX](https://go.microsoft.com/fwlink/p/?LinkID=231627)
 

 




