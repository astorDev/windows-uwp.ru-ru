---
Description: Используйте скольжение по диагонали для поддержки выделения с помощью жеста прокрутки и перетаскивания (перемещения) с помощью жеста перетаскивания.
title: Руководство по скольжению по диагонали
ms.assetid: 897555e2-c567-4bbe-b600-553daeb223d5
ms.date: 10/25/2017
ms.topic: article
keywords: windows 10, uwp
ms.localizationpriority: medium
ms.openlocfilehash: 685c71ca0e6ed0989932b7c9a0169088d5b83bd2
ms.sourcegitcommit: f727b68e86a86c94eff00f67ed79a1c12666e7bc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/29/2020
ms.locfileid: "82558837"
---
# <a name="guidelines-for-cross-slide"></a>Руководство по скольжению по диагонали




**Важные API**

-   [**CrossSliding**](https://docs.microsoft.com/uwp/api/windows.ui.input.gesturerecognizer.crosssliding)
-   [**CrossSlideThresholds**](https://docs.microsoft.com/uwp/api/windows.ui.input.gesturerecognizer.crossslidethresholds)
-   [**Windows. UI. input**](https://docs.microsoft.com/uwp/api/Windows.UI.Input)

Используйте скольжение по диагонали для поддержки выделения с помощью жеста прокрутки и перетаскивания (перемещения) с помощью жеста перетаскивания.

## <a name="span-iddos_and_don_tsspanspan-iddos_and_don_tsspanspan-iddos_and_don_tsspandos-and-donts"></a><span id="Dos_and_don_ts"></span><span id="dos_and_don_ts"></span><span id="DOS_AND_DON_TS"></span>DOS и нечего


-   Используйте скольжение по диагонали для списков и коллекций, которые прокручиваются в одном направлении.
-   Используйте скольжение по диагонали для выбора элементов, когда взаимодействие в форме касания используется для другой цели.
-   Не используйте скольжение по диагонали для добавления элементов в очередь.

## <a name="span-idadditional_usage_guidancespanspan-idadditional_usage_guidancespanspan-idadditional_usage_guidancespanadditional-usage-guidance"></a><span id="Additional_usage_guidance"></span><span id="additional_usage_guidance"></span><span id="ADDITIONAL_USAGE_GUIDANCE"></span>Дополнительные рекомендации по использованию


Выделение и перетаскивание возможны только в области содержимого, поддерживающей сдвиг в одном направлении (по вертикали или по горизонтали). Чтобы эти операции работали, необходимо заблокировать одно из направлений сдвига и выполнять жест в направлении, перпендикулярном направлению сдвига.

Здесь мы покажем, как выбирать и перетаскивать объект с помощью скольжения по диагонали. На изображении слева показано, что элемент выбирается, если жест прокрутки не пересекает пороговое расстояние, когда прекращается контакт и освобождается объект. На изображении справа показано, как жест перетаскивания пересекает пороговое расстояние, что приводит к перемещению объекта.

![Схема процессов выбора и перетаскивания.](images/crossslide-mechanism.png)

Пороговые расстояния, используемые при взаимодействии в форме скольжения по диагонали, показаны на схеме ниже.

![Снимок экрана, показывающий процессы выбора и перетаскивания.](images/crossslide-threshold.png)

Чтобы сохранить возможность сдвига, взаимодействие с выделением или перетаскиванием активируется только после пересечения порогового расстояния 2,7 мм (около 10 пикселей при целевом разрешении). Такой небольшой порог помогает системе различать скольжение по диагонали и сдвиг, а также гарантирует различение жеста касания и скольжения по диагонали и сдвига.

Здесь показано, как пользователь касается элемента пользовательского интерфейса, но в момент контакта немного сдвигает палец вниз. Без порога такое взаимодействие интерпретировалось бы как скольжение по диагонали из-за первоначального движения по вертикали. Благодаря порогу такое перемещение интерпретируется правильно — как сдвиг по горизонтали.

![Снимок экрана, показывающий порог различения операций выбора и перетаскивания.](images/crossslide-threshold2.png)

Ниже приведены некоторые рекомендации по добавлению в приложение функции скольжения по диагонали.

Используйте скольжение по диагонали для списков и коллекций, которые прокручиваются в одном направлении. Подробнее: [Добавление элементов управления ListView](https://docs.microsoft.com/previous-versions/windows/apps/hh465382(v=win.10)).

**Обратите внимание**  , что в случаях, когда область содержимого может быть сдвигаемых в двух направлениях, например в веб-браузерах или средствах чтения электронной почты, для вызова контекстного меню для таких объектов, как изображения и гиперссылки, следует использовать время ожидания нажатия и удерживания.

 

|                                                                                         |                                                                                         |
|-----------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
| ![Двухмерный список, панорамируемый по горизонтали](images/groupedlistview1.png)                | ![Одномерный список, панорамируемый по вертикали](images/listviewlistlayout.png)                |
| Двухмерный список, панорамируемый по горизонтали. Элементы выбираются или перемещаются перетаскиванием по вертикали. | Одномерный список, панорамируемый по вертикали. Элементы выбираются или перемещаются перетаскиванием по горизонтали. |

 

### <span id="selection"></span><span id="SELECTION"></span>

**Выбрать**

Выделение применяется, чтобы отметить один или несколько объектов без запуска и активации. Это действие аналогично однократному щелчку мышью или щелчку мышью при нажатой клавише SHIFT для выбора одного или нескольких объектов.

Чтобы выделить элемент путем скольжения по диагонали, следует его коснуться и, перетащив на короткое расстояние, отпустить. Этот способ выделения позволяет обойтись без специального режима выделения и взаимодействия в форме нажатия и удержания, которые требуются в других сенсорных интерфейсах, и не конфликтует со взаимодействием в форме касания для активации.

Кроме порогового расстояния выделение в форме скольжения по диагонали ограничено пороговой областью с углом 90° (см. схему ниже). Объект не выделяется, если перетащить его за пределы этой области.

![Схема пороговой области выделения.](images/crossslide-selection.png)

Взаимодействие в форме скольжения по диагонали дополнено взаимодействием в форме нажатия и удержания, которое также называют самостоятельно проявляющимся взаимодействием. Это дополнительное взаимодействие активирует анимацию, указывающую на действие, которое можно выполнить над объектом. Подробнее о пользовательском интерфейсе без неоднозначности см. в разделе [Руководство по визуальной обратной связи](guidelines-for-visualfeedback.md).

На снимках экрана ниже показано, как работает самостоятельно проявляющаяся анимация.

1.  Нажмите и удерживайте, чтобы запустить анимацию для самостоятельно проявляющегося взаимодействия. Выбранное состояние элементов влияет на то, что проявляется при анимации: флажок, если выбор не сделан, и отсутствие флажка, если выбор сделан.

    ![Снимок экрана, показывающий состояние без выбора.](images/crossslide-selfreveal1.png)

2.  Выберите элемент с помощью жеста прокрутки (вверх или вниз).

    ![Снимок экрана, показывающий анимацию выбора.](images/crossslide-selfreveal2.png)

3.  Элемент выбран. Чтобы переместить элемент, переопределите поведение при выборе с помощью жеста перетаскивания.

    ![Снимок экрана, показывающий анимацию перетаскивания.](images/crossslide-selfreveal3.png)

В приложениях, где основным действием является выбор элемента, реализуйте его одиночным касанием. Самостоятельно проявляющаяся анимация при скольжении по диагонали отображается, чтобы отличить эту функциональную возможность от стандартного взаимодействия в форме касания для активации и навигации.

**Подборка**

Средство выбора — это визуально отчетливое, динамичное представление элементов, выбранных в основном списке или коллекции в приложении. Этот компонент удобно использовать для отслеживания выбранных элементов, его следует применять в приложениях, где:

-   Можно выбрать элементы из разных расположений.
-   Можно выбрать несколько элементов.
-   Со списком выбранных элементов связано действие или команда.

Содержимое подборки сохраняется при выполнении различных действий и команд. Например, если в коллекции выбрать серию фотографий, применить к каждой фотографии цветовую коррекцию и предоставить к ним общий доступ, элементы остаются выбранными.

Если в приложении подборка не используется, после выполнения действия или команды текущий выбор очищается. Например, если выбрать композицию в списке воспроизведения и оценить ее, такой выбор сбрасывается.

Текущий выбор также очищается, если подборка не используется, а в списке или коллекции активируется другой элемент. Например, если выбрать входящее сообщение, обновляется панель просмотра. Затем, если выбрать второе входящее сообщение, выбор предыдущего сообщения отменяется, а панель просмотра обновляется.

**Очереди**

Очередь и список средства выбора — не одно и тоже, их не стоит путать. Основное различие заключается в следующем.

-   Список элементов в средстве выбора является только визуальным представлением, тогда как с элементами, организованными в очередь, предполагается произвести определенное действие.
-   В средстве выбора элементы могут появляться только один раз, а в очереди — многократно.
-   Порядок элементов в средстве выбора отражает порядок их выбора. Порядок элементов в очереди напрямую связан с функциональностью.

По этим причинам взаимодействие с выделением путем скольжения по диагонали не следует использовать для добавления элементов в очередь. Вместо этого элементы следует добавлять с помощью перетаскивания.

### <span id="draganddrop"></span><span id="DRAGANDDROP"></span>

**Перетаскивание**

Для перемещения одного или нескольких объектов используйте перетаскивание.

Если нужно переместить несколько объектов, пользователь выбирает несколько элементов, а затем перетаскивает их за один раз.

## <a name="related-articles"></a>Похожие статьи

### <a name="samples"></a>Примеры

- [Пример базового ввода](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/BasicInput)
- [Пример ввода с малой задержкой](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/LowLatencyInput)
- [Пример режима взаимодействия с пользователем](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/UserInteractionMode)
- [Пример визуальных элементов фокуса](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/XamlFocusVisuals)

### <a name="archive-samples"></a>Примеры архива

- [Ввод: пример событий пользовательского ввода на XAML](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/411c271e537727d737a53fa2cbe99eaecac00cc0/Official%20Windows%20Platform%20Sample/Input%20XAML%20user%20input%20events%20sample)
- [Ввод: пример возможностей устройства](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/411c271e537727d737a53fa2cbe99eaecac00cc0/Official%20Windows%20Platform%20Sample/Windows%208%20app%20samples/%5BC%23%5D-Windows%208%20app%20samples/C%23/Windows%208%20app%20samples/Input%20Device%20capabilities%20sample%20(Windows%208))
- [Ввод: пример тестирования сенсорного ввода](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/411c271e537727d737a53fa2cbe99eaecac00cc0/Official%20Windows%20Platform%20Sample/Windows%208%20desktop%20samples/%5BC%2B%2B%5D-Windows%208%20desktop%20samples/C%2B%2B/Windows%208%20desktop%20samples/Input%20Touch%20hit%20testing%20sample)
- [Пример прокрутки XAML, панорамирования и масштабирования](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/411c271e537727d737a53fa2cbe99eaecac00cc0/Official%20Windows%20Platform%20Sample/Universal%20Windows%20app%20samples/111487-Universal%20Windows%20app%20samples/XAML%20scrolling%2C%20panning%2C%20and%20zooming%20sample)
- [Ввод: пример упрощенного рукописного ввода](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/411c271e537727d737a53fa2cbe99eaecac00cc0/Official%20Windows%20Platform%20Sample/Input%20Simplified%20ink%20sample)
- [Ввод: пример жестов в Windows 8](https://docs.microsoft.com/samples/browse/?redirectedfrom=MSDN-samples)
- [Входные данные: пример манипуляций и жестов](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/411c271e537727d737a53fa2cbe99eaecac00cc0/Official%20Windows%20Platform%20Sample/Input%20Gestures%20and%20manipulations%20with%20GestureRecognizer)
- [Пример сенсорного ввода в DirectX](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/411c271e537727d737a53fa2cbe99eaecac00cc0/Official%20Windows%20Platform%20Sample/Windows%208%20app%20samples/%5BC%2B%2B%5D-Windows%208%20app%20samples/C%2B%2B/Windows%208%20app%20samples/DirectX%20touch%20input%20sample%20(Windows%208))
 

 




