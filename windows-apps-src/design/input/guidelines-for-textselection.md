---
Description: В этом разделе описывается новый пользовательский интерфейс Windows для выбора и манипулирования текстом, изображениями и элементами управления, а также рекомендации по работе с пользователем, которые следует учитывать при использовании этих новых механизмов выбора и манипуляции в приложении UWP.
title: Выделение текста и изображений
ms.assetid: d973ffd8-602e-47b5-ab0b-4b2a964ec53d
label: Selecting text and images
template: detail.hbs
keywords: клавиатура, текст, ввод, взаимодействие с пользователем
ms.date: 02/08/2017
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: 56f09f2c903354159c63fa7226007cd65e57e69e
ms.sourcegitcommit: b52ddecccb9e68dbb71695af3078005a2eb78af1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/20/2019
ms.locfileid: "74257915"
---
# <a name="selecting-text-and-images"></a>Выделение текста и изображений


В этой статье описывается выделение и обработка текста, изображений и элементов управления, а также представлены рекомендации по взаимодействию с пользователем, которые следует учитывать при использовании этих механизмов в приложениях.

> **Важные API-интерфейсы**: [**Windows.UI.Xaml.Input**](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Input), [**Windows.UI.Xaml.Input**](https://docs.microsoft.com/uwp/api/Windows.UI.Input)
 


## <a name="dos-and-donts"></a>Рекомендации


-   Используйте глифы шрифтов при реализации собственного пользовательского интерфейса захвата. Захват представляет собой сочетание двух шрифтов Segoe UI, доступных в системе. Использование ресурсов шрифтов упрощает отрисовку при различных значениях DPI и хорошо работает с различными уровнями масштабирования пользовательского интерфейса. При реализации собственных захватов они должны обладать следующими характеристиками пользовательского интерфейса:

    -   круглая форма;
    -   видимость на любом фоне;
    -   согласованный размер.
-   Создать поле вокруг доступного для выбора содержимого, чтобы разместить пользовательский интерфейс захвата. Если ваше приложение допускает выделение текста в области, которая не затрагивается функциями сдвига и прокрутки, оставьте 1/2 поля захвата слева и справа от области текста, а также 1 высоту захвата сверху и снизу от области текста (как показано на следующих иллюстрациях). Это обеспечит доступность всего пользовательского интерфейса захвата для пользователя и минимизирует случайные взаимодействия с другими элементами пользовательского интерфейса, привязанными к границам экрана.

    ![Поля захвата выделения текста](images/textselection-gripper-margins.png)

-   Скрывайте пользовательский интерфейс захватов во время взаимодействия. Исключает загораживание экрана захватами во время взаимодействия. Это особенно удобно, когда захват не полностью скрыт пальцем или существует несколько захватов выделения текста. Это исключает появление визуальных артефактов при отображении дочерних окон.

-   Не допускайте выбора таких элементов пользовательского интерфейса, как элементы управления, наклейки, рисунки, защищаемое содержимое и т. д. Обычно приложения для Windows допускают выделение только определенного набора элементов управления. Такие элементы управления, как кнопки, метки и логотипы, не выделяются. Подумайте, необходимо ли выделение в вашем приложении, и если да, то определите области пользовательского интерфейса, в которых выделение следует запретить. 

## <a name="additional-usage-guidance"></a>Дополнительные рекомендации по использованию


Выделение текста и манипулирование им принадлежат к числу самых сложных задач, возникающих при использовании сенсорного взаимодействия. Ввод с помощью мыши, пера и клавиатуры в высшей степени точен: щелчок мыши или контакт пера обычно сопоставляются с определенным пикселем, а клавиша либо нажата, либо нет. Сенсорный ввод неточен. Сложно сопоставить всю поверхность пальца с определенными координатами X и Y на экране, чтобы точно установить курсор.

**Вопросы и рекомендации**

Используйте встроенные элементы управления, предоставляемые с помощью языковых платформ в Windows, для создания приложений, обеспечивающих взаимодействие с пользователями платформы, включая поведение выбора и манипуляции. Функций взаимодействия, которые предоставляют встроенные элементы управления, вполне достаточно для большинства приложений UWP.

При использовании стандартных элементов управления текстом UWP, функции выделения и визуальные элементы, описанные в этом разделе, невозможно настроить.

**Выделение текста**

Если приложению требуется пользовательский интерфейс, поддерживающий выделение текста, рекомендуется следовать описанным здесь поведениям выбора Windows.

**Редактируемое и неизменяемое содержимое**


При сенсорном взаимодействии для выделения используются в основном жесты, например касание для установки курсора или выделения слова и скользящее движение для изменения выделения. Как и в случае с другими действиями касания Windows, время взаимодействия ограничено жестом нажатия и удерживания для показа информационного интерфейса. Подробнее см. в разделе [Руководство по визуальной обратной связи](guidelines-for-visualfeedback.md).

Windows распознает два возможных состояния для взаимодействий выбора, изменения и недоступного для изменения, а также настраивает пользовательский интерфейс выбора, обратную связь и функциональные возможности соответствующим образом.

**Редактируемое содержимое**

Касание левой части слова помещает курсор непосредственно слева от слова, а касание правой части — непосредственно справа от слова.

Следующее изображение демонстрирует, как установить начальный курсор вставки с захватом, коснувшись экрана рядом с началом или концом слова.

![Коснитесь левой стороны слова (или нажмите и удерживайте), чтобы установить системный курсор с захватом в начале слова. Коснитесь правой стороны слова (или нажмите и удерживайте), чтобы установить системный курсор с захватом в конце слова.](images/textselection-place-caret.png)

Следующее изображение демонстрирует, как регулировать выделение, перетаскивая захват.

![Перетащите захват в любом направлении, чтобы отрегулировать выделение (первый захват остается на прежнем месте, второй захват отображается). Чтобы дополнительно отрегулировать выделение, перетащите любой захват.](images/adjust-selection.png)

Следующее изображение демонстрирует, как вызвать контекстное меню, коснувшись выделения или захвата (можно также использовать нажатие и удерживание).

![Коснитесь выделения или захвата (или нажмите и удерживайте), чтобы вызвать контекстное меню.](images/textselection-show-context.png)

**Обратите внимание** ,  эти взаимодействия немного отличаются в случае орфографических слов. Если вы коснетесь слова, которое отмечено как неверно написанное, вы тем самым выделите все слово и вызовете контекстное меню с предложением вариантов написания.

 

**Неизменяемое содержимое**

Следующее изображение демонстрирует, как выделить слово, коснувшись его (пробелы не включены в начальное выделение).

![Коснитесь слова, чтобы выделить его (пробелы не включены в начальное выделение).](images/select-word.png)

Выполните те же действия, что и для редактируемого текста, чтобы отрегулировать выделение и вызвать контекстное меню.

**Управление объектами**

При реализации специального манипулирования объектами в приложении UWP по возможности используйте те же (или сходные) ресурсы захвата, что и для выделения текста. Это помогает обеспечить согласованное взаимодействие в масштабах платформы.

Например, захваты можно также использовать в графических редакторах, поддерживающих изменение размеров и обрезку, либо в приложениях проигрывателей мультимедиа, содержащих настраиваемые индикаторы выполнения, как показано на следующих рисунках.

![Проигрыватель мультимедиа с захватом хода выполнения](images/gripper-mediaplayer.png)

*Проигрыватель мультимедиа с регулируемым индикатором выполнения.*

![Изображение с захватами обрезки](images/gripper-imagemanip.png)

*Редактор изображений с обрезками.*

## <a name="related-articles"></a>Связанные статьи



**Для разработчиков**
* [Настраиваемые взаимодействия с пользователем](https://docs.microsoft.com/windows/uwp/design/layout/index)

**Примеры**
* [Пример базового ввода](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/BasicInput)
* [Пример ввода с небольшой задержкой](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/LowLatencyInput)
* [Пример режима взаимодействия с пользователем](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/UserInteractionMode)
* [Пример визуальных элементов фокуса](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/XamlFocusVisuals)

**Примеры из архива**
* [Входные данные: пример событий пользовательского ввода XAML](https://code.msdn.microsoft.com/windowsapps/Input-3dff271b)
* [Входные данные: пример возможностей устройства](https://code.msdn.microsoft.com/windowsapps/Input-device-capabilities-31b67745)
* [Входные данные: пример проверки нажатия касания](https://code.msdn.microsoft.com/windowsapps/Touch-Hit-Testing-sample-5e35c690)
* [Пример прокрутки XAML, панорамирования и масштабирования](https://code.msdn.microsoft.com/windowsapps/xaml-scrollviewer-pan-and-949d29e9)
* [Входные данные: Пример упрощенного рукописного ввода](https://code.msdn.microsoft.com/windowsapps/Input-simplified-ink-sample-11614bbf)
* [Входные данные: пример использования жестов Windows 8](https://docs.microsoft.com/samples/browse/?redirectedfrom=MSDN-samples)
* [Входные данные: пример манипуляций иC++жестов ()](https://code.msdn.microsoft.com/windowsapps/Manipulations-and-gestures-362b6b59)
* [Пример входных данных DirectX Touch](https://code.msdn.microsoft.com/windowsapps/Simple-Direct3D-Touch-f98db97e)
 

 




