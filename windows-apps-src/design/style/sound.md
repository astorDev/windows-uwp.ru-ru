---
Description: Звук дополняет приложения и придает им необходимый блеск в соответствии со стилем Windows на всех платформах.
label: Sound
title: Звук
template: detail.hbs
ms.assetid: 9fa77494-2525-4491-8f26-dc733b6a18f6
ms.date: 05/19/2017
ms.topic: article
keywords: windows 10, uwp
pm-contact: kisai
design-contact: mattben
dev-contact: joyate
doc-status: Published
ms.localizationpriority: medium
ms.openlocfilehash: 31f527cff7588ccf6da2594566cfa3cf13a214f1
ms.sourcegitcommit: b52ddecccb9e68dbb71695af3078005a2eb78af1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/20/2019
ms.locfileid: "74258673"
---
# <a name="sound"></a>Звук

![Главное изображение](images/header-sound.svg)

Существует множество способов использования звука для улучшения приложения. Звук может дополнять другие элементы интерфейса, чтобы пользователи легко распознавали разные события. Звук может стать эффективным элементом интерфейса для пользователей с нарушениями зрения. Вы можете использовать звук для создания атмосферы, в которую погружается пользователь. Например, можно воспроизводить причудливую мелодию в фоновом режиме в игре-головоломке или использовать зловещие звуковые эффекты для игр в стиле "хоррор" и игр на выживание.

## <a name="examples"></a>Примеры

<table>
<th align="left">XAML Controls Gallery<th>
<tr>
<td><img src="images/xaml-controls-gallery-sm.png" alt="XAML controls gallery"></img></td>
<td>
    <p>Если у вас установлено приложение <strong style="font-weight: semi-bold">XAML Controls Gallery</strong>, щелкните здесь, чтобы <a href="xamlcontrolsgallery:/item/Sound">открыть это приложение и увидеть Sound в действии</a>.</p>
    <ul>
    <li><a href="https://www.microsoft.com/store/productId/9MSVH128X2ZT">Получить приложение XAML Controls Gallery (Microsoft Store)</a></li>
    <li><a href="https://github.com/Microsoft/Xaml-Controls-Gallery">Получить исходный код (GitHub)</a></li>
    </ul>
</td>
</tr>
</table>

## <a name="sound-global-api"></a>Глобальный API звука

Платформа UWP предоставляет легкодоступную звуковую систему, которая позволяет отвлечься и в полной мере насладиться звуковыми возможностями приложения.

[**ElementSoundPlayer**](https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.elementsoundplayer) — это интегрированная звуковая система в XAML. Если она включена, все стандартные элементы управления воспроизводят звуки автоматически.
```C#
ElementSoundPlayer.State = ElementSoundPlayerState.On;
```
Для **ElementSoundPlayer** предусмотрено три состояния: **On**, **Off** и **Auto**.

Если задано значение **Off**, звук воспроизводиться не будет, независимо от того, где запущено приложение. Если задано значение **On**, звуки для вашего приложения будут воспроизводиться на всех платформах.

Включение ElementSoundPlayer автоматически приводит к активации пространственного (трехмерного) звука. Чтобы отключить трехмерный звук (но сохранить звук включенным), отключите **SpatialAudioMode** объекта ElementSoundPlayer: 

```C#
ElementSoundPlayer.SpatialAudioMode = ElementSpatialAudioMode.Off
```

Свойство **SpatialAudioMode** может принимать следующие значения: 
- **Автоматически**. пространственный звук будет включен после включения звука. 
- **Off**: пространственный звук всегда выключен, даже если звук включен.
- **Вкл.** : пространственный звук всегда воспроизводится.

См. подробнее о пространственном звуке и о том, как XAML его обрабатывает, в разделе [AudioGraph — пространственный звук](/windows/uwp/audio-video-camera/audio-graphs#spatial-audio).

### <a name="sound-for-tv-and-xbox"></a>Звук для телевизора и Xbox

Звук имеет важное значение для просмотра на большом расстоянии, поэтому по умолчанию для **ElementSoundPlayer** установлено значение **Auto**, что означает, что звук будет воспроизводиться, только когда приложение запущено на Xbox.
Дополнительные сведения о проектировании Xbox и телевизора см. в статье [Проектирование для Xbox и телевизора](https://docs.microsoft.com/windows/uwp/design/devices/designing-for-tv?redirectedfrom=MSDN).

## <a name="sound-volume-override"></a>Переопределение громкости звука

Громкость всех звуков в приложении можно уменьшить с помощью регулятора **громкости**. Тем не менее, звуки в приложении не могут воспроизводиться *громче, чем системные звуки*.

Чтобы настроить уровень громкости приложения, вызовите:
```C#
ElementSoundPlayer.Volume = 0.5;
```
Максимальная громкость (относительно системной) составляет 1,0, а минимальная – 0,0 (фактически без звука).

## <a name="control-level-state"></a>Состояние уровня элемента управления

Если нет необходимости воспроизводить звук элемента управления по умолчанию, его можно отключить. Это можно сделать с помощью **ElementSoundMode** в элементе управления.

Для **ElementSoundMode** предусмотрено два состояния: **Off** и **Default**. По умолчанию установлено значение **Default**. Если задано значение **Off**, все звуки, воспроизводимые элементом управления, *за исключением фокуса*, будут отключены.

```XAML
<Button Name="ButtonName" Content="More Info" ElementSoundMode="Off"/>
```

```C#
ButtonName.ElementSoundState = ElementSoundMode.Off;
```

## <a name="is-this-the-right-sound"></a>Выбор соответствующего звука

При создании пользовательского элемента управления или изменении звука существующего элемента управления важно учитывать принципы использования звуков, предоставляемых системой.

Каждый звук ассоциируется с определенным взаимодействием с пользователем, и, несмотря на то что для каждого типа взаимодействия можно настроить любой звук, существуют определенные принципы использования звуков, которые следует соблюдать, чтобы обеспечить согласованное взаимодействие во всех приложениях UWP.

### <a name="invoking-an-element"></a>Вызов элемента

Наиболее распространенным звуком, воспроизводимым элементом управления, в нашей системе является звук **Invoke**. Этот звук воспроизводится, когда пользователь вызывает элемент управления с помощью касания/щелчка/нажатия клавиши ВВОД/ПРОБЕЛ или нажатия кнопки "А" на игровом контроллере.

Обычно этот звук воспроизводится, только когда пользователь явно нацеливается на простой элемент управления или часть элемента управления посредством [устройства ввода](../input/index.md).


Чтобы воспроизводить звук при всех событиях элемента управления, вызовите метод Play из **ElementSoundPlayer** и передайте его **ElementSound.Invoke**:
```C#
ElementSoundPlayer.Play(ElementSoundKind.Invoke);
```

### <a name="showing--hiding-content"></a>Отображение и скрытие содержимого

В XAML есть множество всплывающих элементов, диалоговых окон и закрывающихся элементов пользовательского интерфейса, и все действия, запускающие эти наложения, должны вызывать звук **Show** или **Hide**.

При отображении окна содержимого наложения должен вызываться звук **Show**:

```C#
ElementSoundPlayer.Play(ElementSoundKind.Show);
```
И наоборот, когда окно содержимого наложения закрывается или исчезает, должен вызываться звук **Hide**:

```C#
ElementSoundPlayer.Play(ElementSoundKind.Hide);
```
### <a name="navigation-within-a-page"></a>Навигация в пределах страницы

Навигация между панелями и представлениями в пределах страницы приложения (см. раздел [Вкладки и элементы управления "Сводка"](../controls-and-patterns/pivot.md)) — это обычно двунаправленное движение. Это означает, что можно перейти к следующему или предыдущему представлению/панели, не покидая текущую страницу приложения.

Эта концепция навигации представлена звуками **MovePrevious** и **MoveNext**.

При переходе к представлению или панели, которая считается *следующим элементом* в списке, вызовите:

```C#
ElementSoundPlayer.Play(ElementSoundKind.MoveNext);
```
А при переходе к предыдущему представлению или панели, которая считается *предыдущим элементом*, вызовите:

```C#
ElementSoundPlayer.Play(ElementSoundKind.MovePrevious);
```
### <a name="back-navigation"></a>Обратная навигация

При переходе с текущей страницы на предыдущую страницу в приложении должен вызываться звук **GoBack**:

```C#
ElementSoundPlayer.Play(ElementSoundKind.GoBack);
```
### <a name="focusing-on-an-element"></a>Фокусировка на элементе

Звук **Focus** является единственным неявным звуком в системе. Это означает, что пользователь слышит звук, даже когда не выполняет никаких действий.

Фокусировка происходит, когда пользователь перемещается по приложению с помощью игрового контроллера/клавиатуры/пульта или устройства Kinect. Обычно звук **Focus** *не воспроизводится при событиях PointerEntered или событиях наведения указателя мыши*.

Чтобы настроить для элемента управления воспроизведение звука **Focus** при фокусировке на нем, вызовите:

```C#
ElementSoundPlayer.Play(ElementSoundKind.Focus);
```
### <a name="cycling-focus-sounds"></a>Циклические звуки фокуса

Вызов **ElementSound.Focus** предусматривает дополнительную возможность – звуковая система по умолчанию воспроизводит по очереди 4 разных звука для каждого действия навигации. Это означает, что звуки фокуса, воспроизводимые один за другим, не повторяются.

Цель этой циклической функции заключается в обеспечении разнообразия и незаметности звуков фокуса, так как они воспроизводятся наиболее часто и должны быть самыми трудноуловимыми.

## <a name="get-the-sample-code"></a>Получить пример кода

- [Пример из коллекции элементов управления XAML](https://github.com/Microsoft/Xaml-Controls-Gallery) — ознакомьтесь со всеми элементами управления XAML в интерактивном режиме.

## <a name="related-articles"></a>Связанные статьи

* [Проектирование для Xbox и телевизора](/windows/uwp/design/devices/designing-for-tv)
* [Документация по классу ElementSoundPlayer](/uwp/api/windows.ui.xaml.elementsoundplayer)
