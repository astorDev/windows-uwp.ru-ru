---
author: Karl-Bridge-Microsoft
Description: "Узнайте, как спроектировать и оптимизировать приложения UWP, чтобы они предоставляли наилучшее возможное взаимодействие как для опытных пользователей клавиатуры, так и для людей с ограниченными возможностями, а также соответствовали другим требованиям к специальным возможностям."
title: "Взаимодействие с помощью клавиатуры"
ms.assetid: FF819BAC-67C0-4EC9-8921-F087BE188138
label: Keyboard interactions
template: detail.hbs
keywords: "клавиатура, специальные возможности, навигация, фокус, текст, ввод, взаимодействия с пользователем, геймпад, пульт ДУ"
ms.author: kbridge
ms.date: 03/29/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
pm-contact: chigy
design-contact: kimsea
dev-contact: niallm
doc-status: Published
ms.openlocfilehash: 22a95cfb77740d7521c62f0b7153130ccdc1b552
ms.sourcegitcommit: ba0d20f6fad75ce98c25ceead78aab6661250571
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/24/2017
---
# <a name="keyboard-interactions"></a>Взаимодействие с помощью клавиатуры
<link rel="stylesheet" href="https://az835927.vo.msecnd.net/sites/uwp/Resources/css/custom.css">

![Главное изображение клавиатуры](images/keyboard/keyboard-hero.jpg)

Узнайте, как спроектировать и оптимизировать приложения UWP, чтобы они предоставляли наилучшее возможное взаимодействие как для опытных пользователей клавиатуры, так и для людей с ограниченными возможностями, а также соответствовали другим требованиям к специальным возможностям.

На разных устройствах ввод с клавиатуры — важная составляющая общего взаимодействия с универсальной платформой Windows (UWP). Хорошо разработанное взаимодействие с помощью клавиатуры позволяет эффективно переходить по пользовательскому интерфейсу приложения и получать доступ ко всем функциональным возможностям, не отрывая рук от клавиатуры.

![изображение клавиатуры и геймпада](images/keyboard/keyboard-gamepad.jpg)

***Общие шаблоны взаимодействия совместно используются клавиатурой и геймпадом***

В этом разделе мы уделим особое внимание проектированию приложений UWP для ввода с клавиатуры на ПК. Однако правильно разработанное взаимодействие с клавиатуры является важным для поддержки средств специальных возможностей, например экранного диктора Windows, с помощью программной клавиатуры, например [сенсорной](#touch-keyboard) и [экранной](#osk), и для работы с устройствами ввода других типов, например геймпадом Xbox и пультом дистанционного управления.

Многие требования и рекомендации, рассмотренные здесь, в том числе [визуальные элементы фокуса](#focus-visual), [клавиши доступа](#access-keys) и [навигацию пользовательского интерфейса](#navigation), также можно применять для других сценариев.

**ПРИМЕЧАНИЕ.** Хотя для ввода текста используются аппаратные и программные клавиатуры, основное внимание в этом разделе уделяется навигации и взаимодействию.

## <a name="built-in-support"></a>Встроенная поддержка

Наряду с мышью клавиатура является наиболее широко используемым периферийным устройством ПК и, следовательно, одним из фундаментальных компонентов взаимодействия с компьютером. Пользователи ПК ожидают всестороннего и согласованного взаимодействия с системой и отдельными приложениям в ответ на ввод с клавиатуры.

Все элементы управления UWP имеют встроенную поддержку широких возможностей взаимодействия с пользователем, в том числе с помощью клавиатуры, а сама платформа предоставляет серьезную основу для вариантов взаимодействия с помощью клавиатуры, которые, по вашему мнению, лучше всего подходят для пользовательских элементов управления и приложений.

![изображение клавиатуры с телефоном](images/keyboard/keyboard-phone.jpg)

***UWP поддерживает клавиатуры любых устройств***

## <a name="basic-experiences"></a>Основные возможности
![Устройства на основе фокуса](images/keyboard/focus-based-devices.jpg)

Как упоминалось ранее, устройства ввода, такие как геймпад и пульт ДУ Xbox, и средства специальных возможностей, например экранный диктор, во многом работают при навигации и применении команд так же, как и клавиатура. Общие принципы взаимодействия для разных типов ввода и средств требуют минимума дополнительных усилий со стороны пользователя и помогают добиться цели универсальной платформы Windows: "создать один раз и запускать где угодно".

При необходимости мы будем указывать главные различия и все недостающие элементы, которые следует учитывать.

Ниже приводится список устройств и средств, описанных в этом разделе:

| Устройство/средство                       | Описание     |
|-----------------------------------|-----------------|
|Клавиатура (аппаратная и программная)   |Помимо стандартной аппаратной клавиатуры, приложения UWP поддерживают две программные клавиатуры: [сенсорную (или клавиатуру программного обеспечения)](#touch-keyboard) и [экранную](#osk).|
|Геймпад и пульт дистанционного управления         |Геймпад Xbox и пульт дистанционного управления — основные устройства ввода при [взаимодействии на расстоянии 3м](designing-for-tv.md).
Подробнее о поддержке геймпада и пульта дистанционного управления в UWP см. в разделе [Взаимодействие с помощью геймпада и пульта дистанционного управления](gamepad-and-remote-interactions.md).|
|Средства чтения с экрана (экранный диктор)          |Экранный диктор — встроенное средство чтения с экрана для Windows, обеспечивающее уникальное взаимодействие и функциональные возможности, но все равно зависящее от базовой навигации и ввода с помощью клавиатуры.
Дополнительные сведения об экранном дикторе см. в разделе [Начало работы с экранным диктором](https://support.microsoft.com/help/22798/windows-10-narrator-get-started).|

## <a name="custom-experiences-and-efficient-keyboarding"></a>Персонализированное взаимодействие и эффективная поддержка клавиатуры
Как уже упоминалось, поддержка клавиатуры крайне важна для удобного взаимодействия с пользователями с различными навыками, возможностями и ожиданиями. Мы рекомендуем уделить первостепенное внимание следующему.
- Поддержка навигации и взаимодействия с помощью клавиатуры
    - Убедитесь, что активные элементы указаны как остановки перехода (а не активные— нет) и используется логичный и предсказуемый порядок навигации (см. раздел [Остановки перехода](#tab-stops))
    - Установите начальный фокус на самом логичном элементе (см. [Исходный фокус](#initial-focus)).
    - Реализуйте возможности навигации с помощью клавиш со стрелками для "внутренних переходов" (см. [Навигация](#navigation)).
- Поддержка сочетаний клавиш
    - Предоставьте сочетания клавиш для быстрых действий (см. [Сочетания клавиш](#accelerators)).
    - Предоставьте клавиши доступа для перемещения по интерфейсу приложения (см. [Клавиши доступа](access-keys.md)).

### <a name="focus-visuals-a-namefocus-visual"></a>Визуальные элементы фокуса <a name="focus-visual">

UWP поддерживает дизайн с одним визуальным элементом фокуса. Этого достаточно для всех типов ввода и взаимодействия.
![Визуальный элемент фокуса](images/keyboard/focus-visual.png)

Визуальный элемент фокуса:
-   отображается, когда элемент пользовательского интерфейса получает фокус от клавиатуры, геймпада или пульта дистанционного управления;
-   отображается в виде выделенной границы вокруг элемента пользовательского интерфейса, указывая на возможность выполнять действие;
-   позволяет пользователю уверенно перемещаться по пользовательскому интерфейсу приложения;
-   можно настроить для вашего приложения (см. раздел [Хорошо видимые визуальные элементы фокуса](guidelines-for-visualfeedback.md#high-visibility-focus-visuals)).

**ПРИМЕЧАНИЕ.** Визуальный элемент фокуса UWP отличается от прямоугольника фокуса экранного диктора.

### <a name="tab-stops-a-nametab-stops"></a>Остановки перехода <a name="tab-stops">

Чтобы использовать элемент управления (в том числе элементы навигации) с помощью клавиатуры, фокус должен быть размещен на элементе. Один из способов разместить фокус на элементе управления с помощью клавиатуры— сделать элемент доступным для навигации с помощью клавиши табуляции, обозначив его как остановку перехода в последовательности табуляции приложения.

Чтобы включить элемент управления в последовательность табуляции, нужно установить для свойства [**IsEnabled**](https://msdn.microsoft.com/library/windows/apps/br209419) значение **true**, а для свойства [**IsTabStop**](https://msdn.microsoft.com/library/windows/apps/br209422)— значение **true.**

Чтобы специально исключить элемент управления из последовательности табуляции, установите для свойства [**IsTabStop**](https://msdn.microsoft.com/library/windows/apps/br209422) значение **false.**

По умолчанию последовательность табуляции отражает порядок, в котором создаются элементы пользовательского интерфейса. Например, если `StackPanel`содержит `Button`, `Checkbox` и `TextBox`, последовательность табуляции — `Button`, `Checkbox` и `TextBox`.

Можно переопределить последовательность табуляции по умолчанию, установив свойство [**TabIndex**](https://msdn.microsoft.com/library/windows/apps/br209461).

#### <a name="tab-order-should-be-logical-and-predictable"></a>Последовательность табуляции должна быть логичной и предсказуемой

Хорошо разработанная модель навигации с помощью клавиатуры, использующая логичную и прогнозируемую последовательность табуляции, делает приложение более интуитивно понятным и помогает пользователям изучать, открывать для себя и получать функциональные возможности более эффективно и продуктивно.

У всех интерактивных элементов управления должны быть остановки перехода (если они не объединены в [группу](#control-group)), а у таких неинтерактивных элементов управления, как `labels`, не должны.

Избегайте остановок перехода, из-за которых фокус хаотично перемещается по элементам приложения. Например, список элементов управления в пользовательском интерфейсе, подобном форме, должен иметь последовательность табуляции сверху вниз и слева направо.

См. на странице [Специальные возможности клавиатуры](../accessibility/keyboard-accessibility.md) дополнительные сведения о настройке остановок перехода.

#### <a name="try-to-coordinate-tab-order-and-visual-order"></a>Старайтесь согласовать остановки перехода и визуальный порядок

Согласование последовательности табуляции и визуального порядка (также называемого порядком чтения или порядком отображения) помогает уменьшить путаницу для пользователей при навигации по пользовательскому интерфейсу приложения.

Постарайтесь оценить и предоставить самые важные команды, элементы управления и содержимое первыми в последовательности табуляции и визуальном порядке. Однако фактическое расположение на экране может зависеть от родительского контейнера макета и определенных свойств дочерних элементов, которые влияют на макет. В частности, визуальный порядок макетов, использующих метафору сетки или таблицы, может сильно отличаться от последовательности табуляции.

**ПРИМЕЧАНИЕ.** Визуальный порядок также зависит от языка и языкового стандарта.

### <a name="initial-focus-a-nameinitial-focus"></a>Исходный фокус <a name="initial-focus">

Исходный фокус указывает элемент пользовательского интерфейса, получающий фокус при первом запуске или активации приложения или страницы. При использовании клавиатуры именно с этого элемента пользователь начинает взаимодействие с пользовательским интерфейсом приложения.

Для приложений UWP устанавливается исходный фокус на элементе с наиболее высоким значением [**TabIndex**](https://msdn.microsoft.com/library/windows/apps/br209461) из всех, которые могут получать фокус. Дочерние элементы элементов управления контейнера игнорируются. При одинаковых показателях фокус получает первый элемент визуального дерева.

#### <a name="set-initial-focus-on-the-most-logical-element"></a>Установите начальный фокус на самом логичном элементе

Установите начальный фокус на элементе пользовательского интерфейса для первого, или основного, действия, которое пользователи, скорее всего, выполнят при запуске приложения или переходе на страницу. Вот несколько примеров:
-   В приложении для фотографий фокус устанавливается на первом элементе в галерее
-   В приложении для музыки фокус устанавливается на кнопке воспроизведения

#### <a name="dont-set-initial-focus-on-an-element-that-exposes-a-potentially-negative-or-even-disastrous-outcome"></a>Не устанавливайте первоначальный фокус на элементе, активация которого может привести к отрицательным или нежелательным результатам

Этот уровень функциональных возможностей должен выбирать пользователь. Установка начального фокуса на элементе, активация которого приводит к значительным результатам, может стать причиной потери данных или доступа к системе. Например, не устанавливайте фокус на кнопке удаления при переходе в сообщение электронной почты.

На странице [Специальные возможности клавиатуры](../accessibility/keyboard-accessibility.md) приведены дополнительные сведения о переопределении последовательности табуляции.

### <a name="navigation-a-namenavigation"></a>Навигация <a name="navigation">

Навигация с помощью клавиатуры обычно поддерживается с помощью клавиши табуляции и клавиш со стрелками.

![клавиша табуляции и клавиши со стрелками](images/keyboard/tab-and-arrow.png)

По умолчанию элементы управления UWP следуют базовым принципам поведения клавиатуры, изложенным ниже.
-   **Клавиши табуляции** выполняют переход между элементами с возможностью действия и активными элементами в последовательности табуляции.
-   **SHIFT + TAB** выполняют переход по элементам управления в обратной последовательности табуляции. Если пользователь перейдет внутри элемента управления с помощью клавиши со стрелкой, фокус переместится на последнее известное значение внутри элемента управления.
-   **Клавиши со стрелками** предоставляют возможность «внутренней навигации» для элемента управления. Когда пользователь входит во «внутреннюю навигацию», клавиши со стрелками не выполняют переход за пределы элемента управления. Вот несколько примеров:
    -   Клавиша со стрелкой вверх/вниз перемещает фокус внутри `ListView`. `MenuFlyout`
    -   Изменяет выбранные значения параметра `Slider`. `RatingsControl`
    -   Перемещает курсор внутри. `TextBox`
    -   Развертывает и свертывает элементы внутри. `TreeView`

Используйте эти варианты поведения по умолчанию для оптимизации навигации с помощью клавиатуры в вашем приложении.

#### <a name="use-inner-navigation-with-sets-of-related-controls"></a>Использование «внутренней навигации» с наборами связанных элементов управления

Добавление навигации с помощью клавиш со стрелками в набор связанных элементов управления усиливает их связь внутри общей организации пользовательского интерфейса приложения.

Например, показанный здесь элемент управления `ContentDialog` обеспечивает внутреннюю навигацию по умолчанию для горизонтального ряда кнопок (для пользовательских элементов управления в разделе [группы элементов управления](#control-group)).

![пример диалогового окна](images/keyboard/dialog.png)

***Упрощение взаимодействия с набором связанных кнопок посредством навигации с использованием клавиш со стрелками***

Если элементы отображаются в одном столбце, клавиша со стрелкой вверх или вниз выполняет перемещение между элементами. Если элементы отображаются в одном ряду, для перехода между ними нужно нажимать клавиши со стрелками влево и вправо. Если элементы расположены в несколько столбцов, для навигации используются все 4клавиши со стрелками.

#### <a name="make-a-set-of-related-controls-a-single-tab-stop"></a>Создание остановки перехода в виде набора связанных элементов управления

Сделав набор связанных или дополняющих друг друга элементов управления остановкой перехода, можно свести к минимуму общее количество остановок перехода в приложении.

Например, на изображениях ниже показаны два столбика элементов управления `ListView`. На изображении слева показана навигация с помощью клавиши со стрелкой, в которой используется остановка перехода для перемещения между элементами управления `ListView`. На изображении справа показано, как можно упростить навигацию между дочерними элементами, исключив необходимость в переборе родительских элементов управления с помощью клавиши табуляции.


<table>
  <td>![стрелка и табуляция](images/keyboard/arrow-and-tab.png)</td>
  <td>![только со стрелками](images/keyboard/arrow-only.png)</td>
</table>

***Взаимодействие с двумя столбиками элементов управления ListView можно сделать проще и эффективнее, исключив остановку перехода и выполняя навигацию просто с помощью клавиш со стрелками.***

См. раздел [Группа элементов управления](#control-group), чтобы узнать, как применить примеры оптимизации для пользовательского интерфейса вашего приложения.

### <a name="interaction-and-commanding"></a>Взаимодействие и команды

Когда элемент управления имеет фокус, пользователь может взаимодействовать с ним и вызывать любые связанные функции с помощью особого ввода с клавиатуры.

#### <a name="text-entry"></a>Ввод текста

Для элементов управления, специально разработанных для текстового ввода, например `TextBox` и `RichEditBox`, используются все варианты ввода с клавиатуры для ввода текста и перемещения по нему. Такие клавиатурные команды имеют приоритет над другими. Например, в раскрывающемся меню для элемента управления `AutoSuggestBox` клавиша **ПРОБЕЛ** не распознается как команда выбора.

![ввод текста](images/keyboard/text-entry.png)

#### <a name="space-key"></a>Клавиша ПРОБЕЛ

Вне режима ввода текста клавиша **ПРОБЕЛ** вызывает действие или команду, связанную со сфокусированным элементом управления (как и при нажатии на сенсорном экране или щелчке мышью).

![Клавиша ПРОБЕЛ](images/keyboard/space-key.png)

#### <a name="enter-key"></a>Клавиша ВВОД

Клавиша **ВВОД** может выполнять разные распространенные функции при взаимодействии с пользователем, в зависимости от сфокусированного элемента управления.
-   Активирует командные элементы управления, такие как `Button` или `Hyperlink`. Чтобы не запутать конечного пользователя, клавиша **ВВОД** также активирует элементы управления, которые похожи на командные, например `ToggleButton` или `AppBarToggleButton`.
-   Отображает средство выбора пользовательского интерфейса для таких элементов управления, как `ComboBox` и `DatePicker`. Клавиша **ВВОД** также выполняет передачу и закрывает средство выбора.
-   Активирует такие элементы управления списком, как `ListView`, `GridView` и `ComboBox`.
    -   Клавиша **ВВОД**, как и клавиша **ПРОБЕЛ**, выполняет выбор элементов списка и сетки, если нет дополнительных действий, связанных с этими элементами (открытие нового окна).
    -   Если с элементом управления связано дополнительное действие, клавиша **ВВОД** выполняет его, а клавиша **ПРОБЕЛ** выполняет выбор.

**ПРИМЕЧАНИЕ.** Клавиши **ВВОД** и **ПРОБЕЛ** выполняют одно и то же действие часто, но не всегда.

![Клавиша ВВОД](images/keyboard/enter-key.png)

Клавиша ESC позволяет пользователю отменить промежуточный элемент пользовательского интерфейса (а также все текущие действия этого интерфейса).

Вот примеры в этом режиме взаимодействия:
-   Пользователь открывает `ComboBox` с выбранным значением и использует клавиши со стрелками для перемещения фокуса выбора на новое значение. Нажатие клавиши ESC закрывает `ComboBox` и восстанавливает в качестве выбранного исходное значение.
-   Пользователь инициирует окончательное удаление для сообщения электронной почты и получает запрос `ContentDialog` на подтверждение действия. Пользователь решает, что не желает выполнять это действие, и нажимает клавишу **ESC**, чтобы закрыть диалоговое окно. Так как клавиша **ESC** связана с кнопкой **Отмена**, диалоговое окно закроется, а действие будет отменено. Клавиша **ESC** влияет только на промежуточный элемент пользовательского интерфейса, она не закрывает пользовательский интерфейс приложения и не выполняет обратный переход.

![Клавиша ESC](images/keyboard/esc-key.png)

#### <a name="home-and-end-keys"></a>Клавиши HOME и END

С помощью клавиш **HOME** и **END** пользователь может прокрутить область пользовательского интерфейса в начало или в конец.

Вот примеры в этом режиме взаимодействия:
-   Для элементов управления `ListView` и `GridView` клавиша **HOME** перемещает фокус на первый элемент и прокручивает область интерфейса так, чтобы он был показан на экране. Клавиша **END** делает то же самое с последним элементом.
-   Для элемента управления `ScrollView` клавиша **HOME** выполняет прокрутку до верхней части области, а клавиша **END**— до нижней (фокус не меняется).

![Клавиши HOME и END](images/keyboard/home-and-end.png)

#### <a name="page-up-and-page-down-keys"></a>Клавиши PAGE UP и PAGE DOWN

С помощью клавиш **PAGE** пользователь может прокручивать область пользовательского интерфейса дискретно.

Например, для элементов управления `ListView` и `GridView` клавиша **PAGE UP** прокручивает область вверх на "страницу" (обычно высота окна просмотра) и перемещает фокус в ее верхнюю часть. Кроме того, клавиша **PAGE DOWN** прокручивает область вниз по странице и перемещает фокус в нижнюю часть области.

![Клавиши PAGE UP и PAGE DOWN](images/keyboard/page-up-and-down.png)

### <a name="keyboard-shortcuts"></a>Сочетания клавиш

Сочетания клавиш могут сделать ваше приложение проще и эффективнее.

Помимо реализации навигации и активации при помощи клавиатуры в приложении, рекомендуем назначить сочетания клавиш для функций приложения. Навигация с помощью клавиши Tab обеспечивает хороший базовый уровень поддержки клавиатуры, но в случае сложных форм может потребоваться поддержка быстрого вызова. Это повысит эффективность использования вашего приложения даже для тех, кто использует и клавиатуру и указывающие устройства.

Сочетание клавиш— комбинация клавиш, улучшающая производительность путем предоставления пользователям удобного доступа к функциям приложения. Существует два вида сочетаний клавиш:
-   [Клавиша вызова](#accelerators)— сочетание клавиш для вызова команды приложения. Ваше приложение может содержать или не содержать элемент интерфейса, который в точности соответствует этой команде. Клавиши вызова представляют собой сочетание клавиши CTRL и клавиши с буквой.
-   [Клавиша доступа](#access-keys)— сочетание клавиш, обеспечивающее доступ к элементу интерфейса вашего приложения. Клавиши доступа представляют собой сочетание клавиши ALT и клавиши с буквой.

На этой странице приведен полный список [сочетаний клавиш для Windows](https://support.microsoft.com/help/12445/windows-keyboard-shortcuts), а также указаны [сочетания клавиш определенных приложений](https://support.microsoft.com/help/13805/windows-keyboard-shortcuts-in-apps), разработанных корпорацией Майкрософт.

#### <a name="accelerators-a-nameaccelerators"></a>Ускорители <a name="accelerators">

Ускорители помогают пользователям быстро выполнять основные действия в приложении. Одинаковые клавиши-ускорители в разных программах могут выполнять похожие задачи, пользователям их легко запомнить. Тогда ускорители становятся полезными и повышают продуктивность.

Примеры ускорителей:
-   Нажатие клавиш CTRL + N в любом месте приложения Почта запускает новый элемент почты.
-   Нажатие клавиш CTRL + E в любом месте в Edge и приложении Магазин позволяет пользователю быстро вводить текст в поле поиска.

Ускорители обладают следующими характеристиками:
-   Они главным образом используют сочетания клавиш CTRL и функциональных клавиш (в Windows также используются сочетание ALT и не буквенно-цифровой клавиши и клавиша Windows).
-   Они предназначены в основном для опытных пользователей.
-   Они назначаются только наиболее часто используемым командам.
-   Они предназначены для запоминания и описываются только в меню, подсказках и справке.
-   Они действуют во всем приложении, но не дают результата там, где они не применяются.
-   Их необходимо назначать согласованно, поскольку они запоминаются и не описываются напрямую.

#### <a name="access-keys-a-nameaccess-keys"></a>Клавиши доступа <a name="access-keys">

Клавиши доступа обеспечивают пользователям, у которых есть требования к специальным возможностям, и продвинутым пользователям клавиатуры эффективный и продуктивный способ перехода в пользовательском интерфейсе приложения.

См. страницу [Клавиши доступа](access-keys.md), чтобы получить более подробные сведения о поддержке клавиш доступа с помощью UWP.

Клавиши доступа предоставляют пользователям с нарушениями двигательных функций возможность нажимать клавиши по одной для действий с определенным элементом пользовательского интерфейса. Кроме того, клавиши доступа можно использовать для передачи сведений о дополнительных сочетаниях клавиш, благодаря чему опытные пользователи смогут быстро выполнять действия.

Клавиши доступа обладают следующими характеристиками
-   Они используют клавишу ALT и буквенно-цифровую клавишу.
-   Они предназначены главным образом для специальных возможностей.
-   Они описаны непосредственно в пользовательском интерфейсе рядом с элементом управления с помощью [ключевых подсказок](access-keys.md).
-   Они действуют только в текущем окне и перемещают фокус на соответствующий пункт меню или элемент управления.
-   Они не назначаются последовательно, поскольку невозможно добиться всесторонней согласованности. Однако клавиши доступа следует назначать согласованно для часто используемых команд, особенно для кнопок фиксации.
-   Они локализуются.

#### <a name="common-keyboard-shortcuts"></a>Основные сочетания клавиш

В следующей таблице приведена небольшая подборка часто используемых команд клавиатуры. Полный список команд клавиатуры см. в разделе о [сочетании клавиш клавиатуры Windows](https://support.microsoft.com/kb/126449).

| Действие                               | Командная клавиша                                      |
|--------------------------------------|--------------------------------------------------|
| Выбор всего                           | CTRL+A                                           |
| Постоянный выбор                  | SHIFT+клавиша со стрелкой                                  |
| Сохранить                                 | CTRL+S                                           |
| Поиск                                 | CTRL+F                                           |
| Печать                                | CTRL+P                                           |
| Копировать                                 | CTRL+C                                           |
| Вырезать                                  | CTRL+X                                           |
| Вставить                                | CTRL+V                                           |
| Отменить                                 | CTRL+Z                                           |
| Следующая вкладка                             | CTRL+TAB                                         |
| Закрыть вкладку                            | CTRL+F4 или CTRL+W                                |
| Контекстное масштабирование                        | CTRL+знак "плюс" или CTRL+знак "минус"                                 |

## <a name="advanced-experiences"></a>Расширенное взаимодействие

В этом разделе мы рассмотрим некоторые более сложные виды взаимодействия с клавиатурой, которые поддерживаются приложениями UWP, а также некоторые виды поведения, которые следует учитывать при использовании приложения на различных устройствах и с помощью различных средств.

### <a name="control-group-a-namecontrol-group"></a>Группа элементов управления <a name="control-group">

Можно сгруппировать набор связанных или дополняющих друг друга элементов управления в «группу управления» (или направление области), что позволит выполнять «внутреннюю навигацию» с помощью клавиш со стрелками. Группа элементов управления может быть одной остановкой перехода, или можно указать несколько остановок перехода в пределах группы элементов управления.

#### <a name="arrow-key-navigation"></a>Навигация с помощью клавиш со стрелками

Пользователи ожидают поддержки навигации с помощью клавиш со стрелками при наличии группы аналогичных, связанных элементов управления в области пользовательского интерфейса:
-   `AppBarButtons` в `CommandBar`
-   `ListItems` или `GridItems` внутри `ListView` или `GridView`
-   `Buttons` внутри `ContentDialog`

Элементы управления UWP поддерживают навигацию с помощью клавиш со стрелками по умолчанию. Для пользовательских макетов и групп элементов управления используйте `XYFocusKeyboardNavigation="Enabled"`, чтобы обеспечить аналогичное поведение.

Вы можете добавить поддержку навигации с помощью клавиш со стрелками при наличии следующих элементов управления:

<table>
  <tr>
    <td>
      <p>![диалоговое окно](images/keyboard/dialog.png)</p>
      <p>**Кнопки**</p>
      <p>![переключатель](images/keyboard/radiobutton.png)</p>
      <p>**RadioButtons**</p>     
    </td>
    <td>
      <p>![панель приложений](images/keyboard/appbar.png)</p>
      <p>**AppBarButtons**</p>
      <p>![элементы списка и сетки](images/keyboard/list-and-grid-items.png)</p>
      <p>**ListItems и GridItems**</p>
    </td>    
  </tr>
</table>

#### <a name="tab-stops"></a>Остановки перехода

В зависимости от функции и макета вашего приложения наиболее подходящим вариантом навигации для группы элементов управления может быть одна остановка перехода с навигацией с помощью стрелок к дочерним элементам, несколько остановок перехода или определенная комбинация.

##### <a name="use-multiple-tab-stops-and-arrow-keys-for-buttons"></a>Используйте несколько остановок перехода и клавиши со стрелками для кнопок

Пользователи, которым нужны специальные возможности, полагаются на устоявшиеся правила навигации с помощью клавиатуры, по которым обычно не используются клавиши со стрелками для навигации по коллекции кнопок. Тем не менее пользователи, у которых не ухудшено зрение, могут считать такое поведение естественным.

Пример поведения UWP по умолчанию в данном случае— `ContentDialog`. Хотя можно использовать клавиши со стрелками для перехода между кнопками, каждая кнопка также является остановкой перехода.

##### <a name="assign-single-tab-stop-to-familiar-ui-patterns"></a>Назначайте одну остановку перехода знакомым шаблонам пользовательского интерфейса

Если в макете применяется известный шаблон пользовательского интерфейса для группы элементов управления, назначение одной остановки перехода группе может повысить эффективность навигации для пользователей.

Ниже перечислены примеры такого решения.
-   `RadioButtons`
-   Несколько `ListViews`, которые выглядят и работают как единое целое `ListView`
-   Любой пользовательский интерфейс, который выглядит и работает в виде сетки плиток (например, плитки меню "Пуск")

#### <a name="specifying-control-group-behavior"></a>Указание поведения для группы элементов управления

Используйте следующие API для поддержки поведения пользовательской группы элементов управления (все они рассматриваются более подробно далее в этом разделе):

-   [XYFocusKeyboardNavigation](custom-keyboard-interactions.md#xyfocuskeyboardnavigation) разрешает навигацию между элементами управления с помощью клавиш со стрелками.
-   [TabFocusNavigation](custom-keyboard-interactions.md#tab-navigation) показывает, сколько здесь остановок перехода, несколько или одна.
-   [FindFirstFocusableElement и FindLastFocusableElement](managing-focus-navigation.md#findfirstfocusableelement) устанавливает фокус на первом элементе с помощью клавиши **HOME** и на последнем элементе с помощью клавиши **END**.

На следующем рисунке показано интуитивно понятное поведение при навигации с помощью клавиатуры для группы элементов управления— связанных переключателей. В этом случае мы рекомендуем одну остановку перехода для группы элементов управления, внутренней навигации между переключателями с помощью клавиш со стрелками, привязку клавиши **HOME** к первому переключателю, а клавиши **END**— к последнему.

![объединение элементов](images/keyboard/putting-it-all-together.png)

### <a name="keyboard-and-narrator"></a>Клавиатура и экранный диктор

Экранный диктор — это средство специальных возможностей пользовательского интерфейса, ориентированное на пользователей клавиатуры (также поддерживаются другие типы ввода). Тем не менее функции экранного диктора выходят за рамки взаимодействия с помощью клавиатуры, поддерживаемые в приложениях UWP. При разработке приложения UWP для экранного диктора требуется особое внимание. ([Основная страница экранного диктора](https://support.microsoft.com/help/22808/windows-10-narrator-learning-basics) поможет пользователю с ним взаимодействовать.)

Некоторые различия между вариантами поведения клавиатуры UWP и вариантами, которые поддерживаются экранным диктором:
-   Дополнительные сочетания клавиш для навигации по элементам пользовательского интерфейса, которые не предоставляются при стандартной навигации с помощью клавиатуры, например CAPS LOCK + клавиши со стрелками для чтения меток элементов управления.
-   Переход к отключенным элементам. По умолчанию отключенные элементы недоступны при стандартной навигации с помощью клавиатуры.
    -   «Представления» управления для ускоренной навигации в зависимости от детализации пользовательского интерфейса. Пользователи могут переходить к элементам, символам, словам, строкам, абзацам, ссылкам, заголовкам, таблицам, ориентирам и рекомендациям. Стандартная навигация с помощью клавиатуры предоставляет эти объекты как обычный список, который может быть затруднителен для навигации без сочетания клавиш.

#### <a name="case-study--autosuggestbox-control"></a>Практический пример: элемент управления AutoSuggestBox

Кнопка "Поиск" для `AutoSuggestBox` недоступна при стандартной навигации с помощью клавиатуры, если используются клавиша табуляции и клавиши со стрелками, поскольку пользователь может нажать клавишу **ВВОД**, чтобы отправить запрос поиска. Однако она доступна через экранный диктор при нажатии клавиши CAPS LOCK + клавиши со стрелками.

![Фокус с клавиатуры при автозаполнении](images/keyboard/auto-suggest-keyboard.png)

***На клавиатуре*** *пользователи нажимают клавишу****ВВОД****, чтобы отправить поисковый запрос*

<table>
  <tr>
    <td>
      <p>![Фокус с помощью экранного диктора при автозаполнении](images/keyboard/auto-suggest-narrator-1.png)</p>
      <p>**С помощью экранного диктора***пользователи могут нажать клавишу ВВОД для отправки поискового запроса*</P>
    </td>
    <td>
      <p>![Фокус с помощью экранного диктора при автозаполнении во время поиска](images/keyboard/auto-suggest-narrator-2.png)</p>
      <p>*Пользователь также может получить доступ к кнопке "Поиск", нажав CAPS LOCK + клавишу со стрелкой вправо, а затем клавишу ПРОБЕЛ*</p>
    </td>
  </tr>
</table>

### <a name="keyboard-and-the-xbox-gamepad-and-remote-control"></a>Клавиатура, геймпад Xbox и пульт дистанционного управления

Геймпады Xbox и пульты управления поддерживают многие виды поведения клавиатуры UWP и взаимодействия. Однако из-за недостатка различных основных параметров, доступных на клавиатуре, геймпад и пульт дистанционного управления не имеют многих возможностей оптимизации клавиатуры (пульт дистанционного управления даже больше ограничен, чем геймпад).

См. в разделе [проектирование для Xbox и телевизора](designing-for-tv.md#gamepad-and-remote-control) дополнительные сведения о поддержке геймпада и пульта дистанционного управления.

Ниже показаны некоторые основные сопоставления между клавиатурой, геймпадом и пультом дистанционного управления.

| **Клавиатура**  | **Геймпад**                         | **Пульт дистанционного управления**  |
|---------------|-------------------------------------|---------------------|
| ПРОБЕЛ         | Кнопка A                            | Кнопка выбора       |
| ВВОД         | Кнопка A                            | Кнопка выбора       |
| ESCAPE        | Кнопка B                            | Кнопка "Назад"         |
| HOME или END      | Недоступно                                 | Недоступно                 |
| PAGE UP и PAGE DOWN  | Кнопка курка для вертикальной прокрутки, кнопка бампера для горизонтальной прокрутки   | Недоступно                 |

Некоторые основные различия, которые следует иметь в виду при разработке приложения UWP для использования с помощью геймпада и пульта дистанционного управления, приведены ниже:
-   Для ввода текста пользователь должен нажать A, чтобы активировать элемент управления текстом.
-   Перемещение фокуса не ограничивается группами элементов управления— пользователи могут свободно перейти на любой фокусирующийся элемент пользовательского интерфейса в приложении.

    **ПРИМЕЧАНИЕ.** Можно переместить фокус на любой фокусирующийся элемент пользовательского интерфейса в направлении нажатия клавиши, если он не находится в наложенном пользовательском интерфейсе или если не указано [включение фокуса](designing-for-tv.md#focus-engagement), что препятствует входу фокуса в область или выходу из нее до включения или выключения с помощью кнопки A. Подробнее см. в разделе [Направленная навигация](#directional-navigation).
-   Кнопки крестовины и левого джойстика используются для перемещения фокуса между элементами управления и внутренней навигации.

    **ПРИМЕЧАНИЕ.** Геймпад и пульт дистанционного управления выполняют переход только к элементам, находящимся в том же визуальном порядке, что и нажатые клавиши направления. Навигация в указанном направлении отключается, когда нет последующего элемента, на котором можно установить фокус. В некоторых ситуациях пользователи клавиатуры не всегда имеют такое ограничение. Подробнее см. в разделе [Встроенная оптимизация клавиатуры](#built-in-keyboard-optimization).

#### <a name="directional-navigation-a-namedirectional-navigation"></a>Направленная навигация <a name="directional-navigation">

Направленная навигация управляется с помощью вспомогательного класса UWP [Диспетчер фокуса](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Input.FocusManager), который принимает нажатую клавишу направления (клавишу со стрелкой, крестовину) и пытается переместить фокус в соответствующем визуальном направлении.

В отличие от клавиатуры, когда приложение выходит из [режима мыши](designing-for-tv.md#mouse-mode), направленная навигация применяется во всем приложении для геймпада и пульта дистанционного управления. См. в [статье о навигации фокуса XY и взаимодействии](designing-for-tv.md#xy-focus-navigation-and-interaction) дополнительную информацию об оптимизации направленной навигации для геймпада и пульта дистанционного управления.

**ПРИМЕЧАНИЕ.** Навигация с помощью клавиши табуляции на клавиатуре не считается направленной. Дополнительные сведения см. в разделе [Остановки перехода](#tab-stops).

<table>
  <tr>
    <td>
      <p>![Направленная навигация](images/keyboard/directional-navigation.png)</p>
      <p>***Направленная навигация поддерживается*** </br>*С помощью клавиш направления (стрелки клавиатуры, геймпад и крестовины пульта дистанционного управления) пользователь может перемещаться между различными элементами управления.*</p>
    </td>
    <td>
      <p>![Не направленная навигация](images/keyboard/no-directional-navigation.png)</p>
      <p>***Направленная навигация не поддерживается*** </br>*Пользователь не может перемещаться между различными элементами управления с помощью клавиш направления. Другие методы навигации между элементами управления (клавиша табуляции) не поддерживаются.*</p>
    </td>
  </tr>
</table>

### <a name="built-in-keyboard-optimization-a-namebuilt-in-keyboard-optimization"></a>Встроенная оптимизация клавиатуры <a name="built-in-keyboard-optimization">

В зависимости от используемых элементов управления и макета, приложения UWP можно оптимизировать специально для ввода с клавиатуры.

В следующем примере показана группа элементов списка, сетки и меню, которые были назначены одной остановке перехода (см. раздел [Остановки перехода](#tab-stops)). Когда группа в фокусе, внутренняя навигация выполняется с помощью клавиш направления со стрелками в соответствии с визуальным порядком (см. раздел [Навигация](#navigation)).

![Навигация с помощью клавиш со стрелками по одному столбцу](images/keyboard/single-column-arrow.png)

***Навигация с помощью клавиш со стрелками по одному столбцу***

![Навигация с помощью клавиш со стрелками по одной строке](images/keyboard/single-row-arrow.png)

***Навигация с помощью клавиш со стрелками по одной строке***

![Навигация с помощью клавиш со стрелками по нескольким столбцам и строкам](images/keyboard/multiple-column-and-row-navigation.png)

***Навигация с помощью клавиш со стрелками по нескольким столбцам и строкам***

#### <a name="wrapping-homogeneous-list-and-grid-view-items"></a>Перенос однородных элементов из представления списка и сетки

Направленная навигация не всегда является наиболее эффективным способом перехода по нескольким строкам и столбцам из элементов списка и сетки.

**ПРИМЕЧАНИЕ.** Пункты меню — это обычно списки в один столбец, но в некоторых случаях могут применяться особые правила фокусировки (см. раздел [Всплывающее окно пользовательского интерфейса](#popup-ui)).

Объекты списка и сетки можно создать с помощью нескольких строк или столбцов. Обычно они развертываются по строкам (элементы сначала заполняют всю строку, после чего начинают заполнять следующую строку) или по столбцам (элементы сначала заполняют весь столбец, после чего начинают заполнять следующий столбец). Выбор варианта развертки (по строке или столбцу) зависит от направления прокрутки, и вы должны убедиться, что порядок элементов с ним не конфликтует.

Когда при развертке по строкам (элементы заполняются слева направо, сверху вниз) фокус находится на последнем элементе в строке и нажата клавиша со стрелкой вправо, фокус перемещается на первый элемент в следующей строке. Это же происходит в обратном направлении: когда фокус установлен на первом элементе строки и нажата клавиша со стрелкой влево, фокус перемещается к последнему элементу предыдущей строки.

Когда при развертке по столбцам (элементы заполняются сверху вниз и слева направо) фокус находится на последнем элементе в столбце и пользователь нажимает клавишу со стрелкой вниз, фокус перемещается на первый элемент следующего столбца. Это же происходит в обратном направлении: когда фокус установлен на первом элементе столбца и нажата клавиша со стрелкой вверх, фокус перемещается к последнему элементу предыдущего столбца.

<table>
  <tr>
    <td>
      <p>![Навигация с помощью клавиатуры при развертке по строкам](images/keyboard/row-major-keyboard.png)</p>
      <p>***Навигация с помощью клавиатуры при развертке по строкам***</p>
    </td>
    <td>
      <p>![Навигация с помощью клавиатуры при развертке по столбцам](images/keyboard/column-major-keyboard.png)</p>
      <p>***Навигация с помощью клавиатуры при развертке по столбцам***</p>
    </td>
  </tr>
</table>

#### <a name="popup-ui-a-namepopup-ui"></a>Всплывающее окно пользовательского интерфейса <a name="popup-ui">

Как уже упоминалось, постарайтесь, чтобы направленная навигация совпадала с визуальным порядком элементов управления в пользовательском интерфейсе приложения.

Некоторые элементы управления, такие как `ContextMenu`, `AppBarOverflowMenu` и `AutoSuggest`, включают всплывающее меню, которое отображается в расположении и направлении относительно основного элемента управления (в зависимости от доступного пространства экрана). Например, если недостаточно места для открытия меню вниз (направление по умолчанию), оно откроется вверх. Нет никакой гарантии, что меню будет открываться в одном и том же направлении каждый раз.

<table>
  <td>![Панель команд открывается вниз по нажатию клавиши со стрелкой вниз](images/keyboard/command-bar-open-down.png)</td>
  <td>![Панель команд открывается вверх по нажатию клавиши со стрелкой вниз](images/keyboard/command-bar-open-up.png)</td>
</table>

Для этих элементов управления при первом открытии меню (ни один элемент не был выбран пользователем) клавиша со стрелкой вниз всегда устанавливает фокус на первом пункте, а клавиша со стрелкой вверх всегда устанавливает фокус на последнем пункте меню. Аналогичным образом, если выбран последний пункт и нажата клавиша со стрелкой вниз, фокус перемещается на первый пункт меню, а когда выбран первый пункт меню и нажата клавиша со стрелкой вверх, фокус перемещается на последней пункт меню.

Старайтесь повторять такое поведение в ваших пользовательских элементах управления. Пример кода со способом реализации этого поведения можно найти в документации [Управление перемещением фокуса](managing-focus-navigation.md#popup-ui-code-sample).

## <a name="test-your-app"></a>Тестирование приложения

Протестируйте свое приложение со всех поддерживаемых устройств ввода, чтобы переход по элементам пользовательского интерфейса был согласованным и интуитивно понятным, а посторонние элементы не нарушали последовательность табуляции неожиданным образом.

## <a name="related-articles"></a>Статьи по теме
* [События клавиатуры](keyboard-events.md)
* [Определение устройств ввода](identify-input-devices.md)
* [Реакция на наличие сенсорной клавиатуры](respond-to-the-presence-of-the-touch-keyboard.md)
* [Пример визуальных элементов фокуса](http://go.microsoft.com/fwlink/p/?LinkID=619895)

## <a name="appendix"></a>Приложение

### <a name="software-keyboard-a-nametouch-keyboard"></a>Программная клавиатура <a name="touch-keyboard">

Программная клавиатураотображается на экране, пользователь может работать на ней вместо физической для ввода текста и данных с помощью сенсорного экрана, мыши, пера, стилуса или другого указательного устройства (сенсорный экран необязателен). На сенсорном экране таких клавиатур можно касаться непосредственно для ввода текста. На устройствах с Xbox One можно выбирать отдельные клавиши путем перемещения визуального фокуса или с помощью сочетания клавиш на геймпаде или пульте дистанционного управления.

![Сенсорная клавиатура Windows 10](images/keyboard/kbdpcdefault.png)

***Сенсорная клавиатура Windows 10***

![Сенсорная клавиатура Windows 10 Phone](images/keyboard/kbdwpdefault.png)

***Сенсорная клавиатура Windows Phone 10***

![Экранная клавиатура Xbox One](images/keyboard/xbox-onscreen-keyboard.png)

***Экранная клавиатура Xbox One***

В зависимости от устройства программная клавиатура появляется, когда в фокус попадает текстовое поле или другой редактируемый текстовый элемент управления либо когда пользователь включает ее вручную на странице **Центр уведомлений**:

![Значок сенсорной клавиатуры в Центре уведомлений](images/keyboard/touch-keyboard-notificationcenter.png)

Если приложение программным способом перемещает фокус на элемент управления для ввода текста, сенсорная клавиатура не вызывается. Это исключает выполнение непредвиденных операций, не инициированных пользователем. Однако клавиатура автоматически скрывается, когда фокус программно перемещается на элемент, отличный от элемента управления для ввода текста.

Сенсорная клавиатура обычно остается видимой, когда пользователь переходит по элементам управления в форме. Это поведение может меняться в зависимости от других типов элементов управления в форме.

Ниже приведен список элементов управления, которые могут получать фокус в сеансе ввода текста с помощью сенсорной клавиатуры, не закрывая клавиатуру. Чтобы напрасно не перегружать пользовательский интерфейс и не запутывать пользователя, сенсорная клавиатура остается на виду, так как пользователь скорее всего будет переходить между этими элементами управления и вводом текста с помощью сенсорной клавиатуры.

-   флажок;
-   поле со списком;
-   переключатель;
-   полоса прокрутки;
-   дерево;
-   элемент дерева;
-   меню;
-   строка меню;
-   элемент меню;
-   панель инструментов;
-   список;
-   элемент списка.

Вот примеры различных режимов сенсорной клавиатуры. На первом рисунке показана раскладка по умолчанию, а на втором—раскладка мини-клавиатуры (может предлагаться не для всех языков).

![Сенсорная клавиатура в режиме раскладки по умолчанию](images/keyboard/touchkeyboard-standard.png)

***Сенсорная клавиатура в режиме раскладки по умолчанию***

![Сенсорная клавиатура в режиме развернутой раскладки](images/keyboard/touchkeyboard-expanded.png)

***Сенсорная клавиатура в режиме развернутой раскладки***

![Сенсорная клавиатура в режиме раскладки мини-клавиатуры](images/keyboard/touchkeyboard-thumb.png)

***Сенсорная клавиатура в режиме раскладки мини-клавиатуры по умолчанию***

![Сенсорная клавиатура в режиме раскладки цифровой мини-клавиатуры](images/keyboard/touchkeyboard-numeric-thumb.png)

***Сенсорная клавиатура в режиме раскладки цифровой мини-клавиатуры***

Успешное взаимодействие с клавиатурой позволяет пользователям выполнять основные сценарии приложений, пользуясь только клавиатурой, то есть пользователи имеют доступ ко всем интерактивным элементам интерфейса и могут активировать любую функцию по умолчанию. Несколько факторов могут влиять на степень успеха, включая навигацию с помощью клавиатуры, клавиши доступа для специальных возможностей и сочетания клавиш для опытных пользователей.

**ПРИМЕЧАНИЕ.** Сенсорная клавиатура не поддерживает переключение и большинство системных команд.

#### <a name="on-screen-keyboard-a-nameosk"></a>Экранная клавиатура <a name="osk">
Как и программная клавиатура, экранная клавиатура— это визуальная программная клавиатура, которую можно использовать вместо физической для ввода текста и данных с использованием сенсорного экрана, мыши, пера или другого указательного устройства (сенсорный экран необязателен). Экранная клавиатура предназначена для систем, не имеющих физической клавиатуры, или для людей с нарушениями двигательных функций, которые не позволяют им пользоваться традиционными физическими устройствами ввода. Экранная клавиатура имитирует почти все (если не все) функции аппаратной клавиатуры.

Экранную клавиатуру можно включить на странице "Клавиатура" в разделе "Параметры" &gt; "Специальные возможности".

**ПРИМЕЧАНИЕ.** Сенсорная клавиатура имеет более низкий приоритет, чем экранная, и в присутствии последней не отображается.

![Экранная клавиатура](images/keyboard/osk.png)

***Экранная клавиатура***

На странице [Экранная клавиатура](https://support.microsoft.com/help/10762/windows-use-on-screen-keyboard) приведены дополнительные сведения об экранной клавиатуре.
