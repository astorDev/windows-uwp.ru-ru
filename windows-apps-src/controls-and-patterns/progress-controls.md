---
author: Jwmsft
Description: "Элемент управления &quot;Ход выполнения&quot; служит для уведомления пользователя о том, что выполняется длительная операция."
title: "Руководство по элементам управления ходом выполнения"
ms.assetid: FD53B716-C43D-408D-8B07-522BC1F3DF9D
label: Progress controls
template: detail.hbs
translationtype: Human Translation
ms.sourcegitcommit: eb6744968a4bf06a3766c45b73b428ad690edc06
ms.openlocfilehash: de18267de982ef50913ed605e7a9272f7f8c476b

---
# Элементы управления "Ход выполнения"

<link rel="stylesheet" href="https://az835927.vo.msecnd.net/sites/uwp/Resources/css/custom.css"> 

Элемент управления "Ход выполнения" служит для уведомления пользователя о том, что выполняется длительная операция. Это может означать, что пользователь не сможет взаимодействовать с приложением, когда индикатор выполнения отображается. Также в зависимости от того, какой индикатор используется, он может отображать время ожидания.

<div class="important-apis" >
<b>Важные API</b><br/>
<ul>
<li><a href="https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.progressbar.aspx"><strong>Класс ProgressBar</strong></a></li>
<li><a href="https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.progressbar.isindeterminate.aspx"><strong>Свойство IsIndeterminate</strong></a></li>
<li><a href="https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.progressring.aspx"><strong>Класс ProgressRing</strong></a></li>
<li><a href="https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.progressring.isactive.aspx"><strong>Свойство IsActive</strong></a></li>
</ul>

</div>
</div>






## Типы хода выполнения

Существуют два элемента управления, предназначенных для индикации того, что операция выполняется, — ProgressBar и ProgressRing.

-   Состояние *determinate* индикатора ProgressBar отображает процент завершения задачи. Этот индикатор следует использовать, когда длительность операции известна, но ее выполнение не должно блокировать взаимодействие пользователя с приложением.
-   Состояние *indeterminate* индикатора ProgressBar показывает, что операция выполняется, это не блокирует взаимодействие пользователя с приложением, и продолжительность задачи неизвестна.
-   У индикатора ProgressRing есть только состояние *indeterminate*, и его следует применять, когда все остальные виды взаимодействия пользователя с приложением заблокированы до завершения операции.

Кроме того элемент управления «Ход выполнения» предназначен только для чтения. С ним нельзя взаимодействовать. Это означает, что пользователь не может вызывать или использовать эти элементы управления напрямую.

![Состояния ProgressBar](images/ProgressBar_TwoStates.png)

*Сверху вниз — неопределенное состояние ProgressBar и определенное состояние ProgressBar*

![Состояние ProgressRing](images/ProgressRing_SingleState.png)

*Неопределенное состояние ProgressRing*

## Когда использовать каждый элемент управления

Не всегда очевидно, какой элемент управления или какое его состояние (определенное или неопределенное) следует использовать для индикации выполнения какой-либо операции. Иногда задача достаточно очевидна и совсем не требует индикации выполнения, но иногда даже при использовании индикатора выполнения требуется еще и текстовая строка для объяснения того, какая операция выполняется.

### ProgressBar
-   **Обладает ли элемент управления определенной продолжительностью или можно ли спрогнозировать завершение операции?**

    В таких случаях используйте определенное состояние ProgressBar и соответствующим образом обновляйте процент или другое значение хода выполнения.

-   **Может ли пользователь продолжить использование приложения, не следя за ходом выполнения операции?**

    Когда используется ProgressBar, взаимодействие происходит немодальным образом; обычно это означает, что действия пользователя не заблокированы до завершения этой операции и он может продолжить использование приложения другими способами, пока операция выполняется.

-   **Ключевые слова**

    Если ваша операция связана с этими ключевыми словами или если вы отображаете подобный текст вместе с индикацией хода выполнения, рекомендуется использовать ProgressBar.

    - *Загрузка...*
    - *Получение*
    - *Обработка...*

### ProgressRing

-   **Вынуждает ли операция пользователя ждать ее завершения, чтобы продолжить?**

    Если операция требует, чтобы взаимодействие с приложением полностью или по большей части прекратилось до ее завершения, более подходящим вариантом будет ProgressRing. Элемент управления ProgressRing используется для модальных взаимодействий; это означает, что действия пользователя блокируются до исчезновения ProgressRing.

-   **Ожидает ли приложение, что пользователь завершит задачу?**

    Если да, используйте ProgressRing, поскольку этот индикатор предназначен для отображения пользователю неизвестного времени ожидания.

-   **Ключевые слова**

    Если ваша операция связана с этими ключевыми словами или если вы отображаете подобный текст вместе с индикацией хода выполнения, рекомендуется использовать ProgressRing.

    - *Обновление*
    - *Вход...*
    - *Подключение...*

### Индикация хода выполнения не требуется
-   **Нужно ли пользователю знать информацию о выполняемых действиях?**

    Например, если приложение скачивает что-либо в фоновом режиме, а пользователь не начинал скачивание, то ему необязательно знать о нем.

-   **Выполняется ли операция в фоновом режиме, не блокируя деятельность пользователя, и представляет ли она какой-то реальный интерес для пользователя?**

    Используйте текст, когда ваше приложение выполняет задачи, которые не должны всегда выводиться на экран, но вам нужно отображать их состояние.

-   **Важно ли пользователю только то, что операция выполнена?**

    Иногда лучше показать уведомление только после выполнения операции или сразу же предоставить визуальное указание, что операция выполнена, а завершающие действия выполнить в фоновом режиме.

## Рекомендации по использованию индикаторов хода выполнения

Иногда лучше увидеть визуальные примеры того, где и когда следует использовать различные индикаторы хода выполнения:

**ProgressBar — определенное состояние**

![Пример определенного состояния ProgressBar](images/PB_DeterminateExample.png)

Первый пример относится к определенному состоянию ProgressBar. Если продолжительность операции известна, например во время установки, загрузки, настройки и т. п., лучше всего использовать определенное состояние ProgressBar.

**ProgressBar — неопределенное состояние**

![Пример неопределенного состояния ProgressBar](images/PB_IndeterminateExample.png)

Когда длительность операции неизвестна, используйте неопределенное состояние ProgressBar. Неопределенное состояние ProgressBar также хорошо подходит при заполнении виртуализированного списка и создании плавного визуального перехода от неопределенного к определенному состоянию индикатора ProgressBar.

-   **Выполняется ли операция в виртуализированной коллекции?**

    Если да, не создавайте индикатор хода выполнения для каждого элемента списка по мере их появления. Вместо этого используйте ProgressBar и поместите его в верхнюю часть коллекции загружаемых элементов, чтобы показать, что элементы подгружаются.

**ProgressRing — неопределенное состояние**

![Пример неопределенного состояния ProgressRing](images/PR_IndeterminateExample.png)

Неопределенное состояние ProgressRing используется, когда любое дальнейшее взаимодействия пользователя с приложением прекращается или приложение ожидает ввода пользователя для продолжения работы. Приведенный выше пример "Вход..." является идеальным сценарием для использования ProgressRing; пользователь не может продолжить использование приложения, пока вход не выполнен.

## Настройка индикатора хода выполнения

Оба индикатора выполнения довольно простые, но возможность изменения некоторых визуальных особенностей элементов управления не очевидна.

**Определение размера ProgressRing**

ProgressRing можно увеличить до любого требуемого размера, но этот индикатор не может быть меньше 20x20 epx. Для изменения размера ProgressRing необходимо задать его высоту и ширину. Если задается только высота или ширина, элемент управления получит минимальный размер (20x20 epx), но если для высоты и ширины заданы два различных значения, используется наименьший из них.
Для обеспечения соответствия ProgressRing вашим потребностям устанавливайте одинаковые значения для длины и ширины.

```XAML
<ProgressRing Height="100" Width="100"/>
```

Для отображения и анимирования ProgressRing необходимо задать свойству IsActive значение true:

```XAML
<ProgressRing IsActive="True" Height="100" Width="100"/>
```

```C#
progressRing.IsActive = true;
```

**Раскрашивание индикаторов хода выполнения**

По умолчанию основные цвета индикаторов хода выполнения устанавливаются в соответствии с цветом элементов системы. Чтобы переопределить эту кисть, просто измените свойство переднего плана в любом элементе управления.

```XAML
<ProgressRing IsActive="True" Height="100" Width="100" Foreground="Blue"/>
<ProgressBar Width="100" Foreground="Green"/>
```

Изменение цвета переднего плана для ProgressRing приведет к изменению цвета точек. Свойство переднего плана ProgressBar изменяет цвет заливки индикатора; для изменения цвета незаполненной его части просто переопределите свойство заднего плана.

**Отображение курсора ожидания**

Иногда лучше показать только кратковременный курсор ожидания, когда приложению или операции требуется время на размышления, а вам необходимо показать пользователю, что с приложением или его областью, где находится курсор ожидания, не следует взаимодействовать, пока курсор ожидания не исчезнет.

```C#
Window.Current.CoreWindow.PointerCursor = new Windows.UI.Core.CoreCursor(Windows.UI.Core.CoreCursorType.Wait, 10);
```

## Статьи по теме


- [**Класс ProgressBar**](https://msdn.microsoft.com/library/windows/apps/br227529)
- [**Класс ProgressRing**](https://msdn.microsoft.com/library/windows/apps/br227538)

**Для разработчиков (XAML)**
- [Добавление индикаторов хода выполнения](https://msdn.microsoft.com/library/windows/apps/xaml/hh780651)
- [Как создать собственный неопределенный индикатор выполнения для Windows Phone](http://go.microsoft.com/fwlink/p/?LinkID=392426)



<!--HONumber=Aug16_HO3-->


