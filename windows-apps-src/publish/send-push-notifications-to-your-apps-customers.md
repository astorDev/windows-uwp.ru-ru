---
author: JnHs
Description: Learn how to send notifications from Windows Dev Center to your app to encourage groups of customers to take an action, such as rating an app or buying an add-on.
title: Отправка целевых push-уведомлений пользователям вашего приложения
ms.author: wdg-dev-content
ms.date: 08/07/2018
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: windows 10, uwp, целевые уведомления, push-уведомления, всплывающее уведомление, плитка
ms.assetid: 16386c81-702d-47cd-9f91-67659f5dca73
ms.localizationpriority: medium
ms.openlocfilehash: 9d62f46ad1b55fbad3ab7c21a593625a2538b68f
ms.sourcegitcommit: 1c6325aa572868b789fcdd2efc9203f67a83872a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/17/2018
ms.locfileid: "4749991"
---
# <a name="send-notifications-to-your-apps-customers"></a>Отправка уведомлений пользователям вашего приложения

Взаимодействие с клиентами в нужное время и с правильным посылом— залог успеха любого разработчика приложений. Чтобы побудить клиентов выполнить то или иное действие, например оценить приложение, купить надстройку, опробовать новую функцию или скачать другое приложение, можно использовать уведомления (возможно, бесплатно с предоставленным [промокодом](generate-promotional-codes.md)).

Центр разработки для Windows предоставляет управляемую данными платформу для привлечения клиентов, с помощью которой можно отправлять уведомления всем своим клиентам или только подмножеству клиентов Windows10, соответствующих критериям, которые вы определили в [клиентском сегменте](create-customer-segments.md). <!-- You can also send a single notification to all of the customers for multiple apps. -->

> [!IMPORTANT]
> Эти уведомления можно использовать только с приложениями UWP.

При рассмотрении содержимого уведомлений учитывайте аспекты, приведенные ниже.
- Содержимое уведомлений должно соответствовать [Политикам Store в отношении содержимого](https://docs.microsoft.com/legal/windows/agreements/store-policies#content_policies).
- Содержимое уведомления не должно включать конфиденциальные или потенциально конфиденциальные сведения.
- Хотя мы делаем все возможное для доставки вам уведомлений по расписанию, иногда могут быть проблемы с задержкой, влияющие на доставку.
- Не отправляйте уведомления слишком часто. Отправка чаще одного раза в 30минут может показаться назойливой (и во многих случаях лучше отправлять уведомления не так часто).
- Не забывайте, что если клиент, использующий ваше приложение (и вошедший в систему под собственной учетной записью Microsoft на момент определения членства в сегменте), позже передаст свое устройство кому-то другому в пользование, второй человек может увидеть уведомление, которое было нацелено на первоначального клиента. Для получения дополнительных сведений см. раздел [Настройка приложения для получения целевых push-уведомлений](../monetize/configure-your-app-to-receive-dev-center-notifications.md#notification-customers).
- Если вы отправляете одно и то же уведомление пользователям нескольких приложений, невозможно выделить целевой сегмент; уведомление будет отправлено всем пользователям выбранных приложений.


## <a name="getting-started-with-notifications"></a>Начало работы с уведомлениями

Чтобы использовать уведомления для взаимодействия с клиентами, в общем и целом нужно выполнить три условия.

1. **Зарегистрируйте свое приложение для получения push-уведомлений.** Для этого можно добавить в приложение ссылку на Microsoft Store Services SDK, а затем добавить несколько строк кода, регистрирующего канал уведомлений между Центром разработки и вашим приложением. Мы будем использовать этот канал для доставки уведомлений вашим клиентам. Дополнительные сведения см. в разделе [Настройка приложения для получения целевых push-уведомлений](../monetize/configure-your-app-to-receive-dev-center-notifications.md).
2. **Определите целевую аудиторию клиентов.** Можно отправить уведомление всем клиентам вашего приложения или (для уведомлений, созданных для одного приложения) группе клиентов, которая называется *сегмент* и которую можно определить по демографическим критериям или критериям дохода. Дополнительные сведения см. в разделе [Создание сегментов пользователей](create-customer-segments.md).
3. **Создайте и разошлите содержимое уведомлений.** Так, можно создать уведомление, которое стимулирует новых клиентов оценить ваше приложение, или отправить уведомление, рекламирующее специальное предложение на приобретение надстройки.


## <a name="to-create-and-send-a-notification"></a>Создание и отправка уведомления

Выполните следующие шаги для создания уведомления на информационной панели и его отправки определенному сегменту клиентов.

> [!NOTE]
> Прежде чем ваше приложение сможет получать уведомления от Центра разработки, вы должны вызвать метод [RegisterNotificationChannelAsync](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.registernotificationchannelasync) в приложении для регистрации вашего приложения на получение уведомлений. Этот метод доступен в [Microsoft Store Services SDK](http://aka.ms/store-em-sdk). Дополнительные сведения о том, как вызывать этот метод, в том числе пример кода, см. в разделе [Настройка приложения для получения целевых push-уведомлений](../monetize/configure-your-app-to-receive-dev-center-notifications.md).

1. На [информационной панели Центра разработки для Windows](https://partner.microsoft.com/dashboard/) разверните раздел **Привлечение**, а затем выберите **Уведомления**.
2. На странице **Уведомления** выберите **Новое уведомление**.
3. В разделе " **Выбор шаблона** " выберите [Тип уведомлений,](#notification-template-types) который необходимо отправить, а затем нажмите кнопку **ОК**.
4. На следующей странице с помощью раскрывающемся меню выберите **Одно приложение** или **Несколько приложений**, для которых требуется создать уведомление. Можно выбрать только приложения, которые были [настроены для получения уведомлений, с помощью Microsoft Store Services SDK](../monetize/configure-your-app-to-receive-dev-center-notifications.md).
5. В разделе **Параметры уведомлений** выберите **Название** уведомления и, если применимо, значение в поле **Группа клиентов**, чтобы указать адресатов уведомлений. (Уведомления, отправленные в несколько приложений, можно отправить только всем пользователям этих приложений.) Если требуется использовать сегмент, который еще не создан, выберите **Создать новую группу клиентов**. Обратите внимание, что новый сегмент становится доступным для отправки уведомлений через 24 часа. Дополнительные сведения см. в разделе [Создание сегментов пользователей](create-customer-segments.md).
6. Если требуется указать время отправки уведомлений, снимите флажок **Отправить уведомление немедленно** и выберите дату и время (в формате UTC для всех клиентов, если вы не указали, что нужно использовать для каждого клиента местное время).
7. Если нужно, чтобы в определенный момент срок действия уведомления истекал, снимите флажок **Срок действия уведомления никогда не истекает** и выберите конкретные дату и время окончания срока действия (UTC).
8. **Для уведомлений в одном приложении**. Если вы хотите отфильтровать получателей, чтобы ваше уведомление получали только люди, использующие определенные языки или находящиеся в определенных часовых поясах, установите флажок **Использовать фильтры**. Затем можно указать параметры языка и (или) часовой пояс, которые вы хотите использовать.
8. **Для уведомлений в нескольких приложениях**. Укажите, нужно ли отправлять уведомление только в последнее активное приложение на каждом устройстве (для каждого пользователя) или во все приложения на каждом устройстве.
10. В разделе **Содержимое уведомления** меню **Язык** выберите языки, на которых должно отображаться уведомление. Дополнительные сведения см. в разделе [Перевод уведомлений](#translate-your-notifications).
11. В разделе **Параметры** введите текст и настройте любые другие параметры. Если вы начали работу с помощью шаблона, некоторые из них предоставляются по умолчанию, однако вы можете внести любые изменения.

    Доступные параметры варьируются в зависимости от используемого типа уведомлений. Некоторые доступные параметры перечислены ниже:

    * **Тип активации** (тип интерактивного всплывающего уведомления). Можно выбрать следующие значения: **Передний план**, **Фон** или **Протокол**.
    * **Запуск** (тип интерактивного всплывающего уведомления). Можно сделать так, чтобы из уведомления можно было открыть приложение или веб-сайт.
    * **Отслеживание скорости запуска приложения** (тип интерактивного всплывающего уведомления). Если требуется измерить, насколько эффективно вы взаимодействуете с клиентами с помощью каждого из уведомлений, установите этот флажок. Дополнительные сведения см. в разделе [Измерение эффективности уведомлений](#measure-notification-performance).
    * **Длительность** (тип интерактивного всплывающего уведомления). Можно выбрать **Короткая** или **Длинная**.
    * **Сценарий** (тип интерактивного всплывающего уведомления). Можно выбрать значение **По умолчанию**, **Будильник**, **Напоминание** или **Входящий вызов**.
    * **Базовый URI** (тип интерактивного всплывающего уведомления). Дополнительные сведения см. в разделе [BaseUri](https://docs.microsoft.com/uwp/api/windows.ui.xaml.frameworkelement.baseuri#Windows_UI_Xaml_FrameworkElement_BaseUri).
    * **Запрос на добавление изображения** (тип интерактивного всплывающего уведомления). Дополнительные сведения см. в разделе [addImageQuery](https://docs.microsoft.com/uwp/schemas/tiles/toastschema/element-visual#attributes-and-elements).
    * **Визуальный элемент**. Изображение, видео или звук. Дополнительные сведения см. в разделе [Визуальный элемент](https://docs.microsoft.com/uwp/schemas/tiles/toastschema/element-visual).
    * **Выбор**/**действия**/**ввода** (тип интерактивного всплывающего уведомления). Позволяет разрешить пользователям взаимодействовать с уведомлением. Дополнительные сведения см. в разделе [Адаптивные и интерактивные всплывающие уведомления](../design/shell/tiles-and-notifications/adaptive-interactive-toasts.md).
    * **Привязка** (тип интерактивной плитки). Шаблон всплывающих уведомлений. Дополнительные сведения см. в разделе [Привязка](https://docs.microsoft.com/uwp/schemas/tiles/toastschema/element-binding).

    > [!TIP]
    > Воспользуйтесь приложением [Визуализатор уведомлений](https://www.microsoft.com/store/apps/9nblggh5xsl1) для проектирования и тестирования адаптивных плиток и интерактивных всплывающих уведомлений.

12. Выберите **Сохранить как черновик**, чтобы продолжить работу над уведомлением позже, или выберите **Отправить**, если все готово.


## <a name="notification-template-types"></a>Типы шаблонов уведомлений

Можно выбрать любой из множества шаблонов уведомлений.

-   **Пустой (всплывающее уведомление).** Начните с пустого всплывающего уведомления, которое можно настроить. Всплывающее уведомление— это всплывающий элемент пользовательского интерфейса, который появляется на экране и обеспечивает взаимодействие приложения с клиентом, когда клиент совершает какие-либо действия в другом приложении, на начальном экране или на рабочем столе.
-   **Пустой (плитка).** Начните с пустого уведомления-плитки, которое можно настроить. Плитки— это представление приложения на начальном экране. Плитки могут быть "динамическими", т. е. отображаемое на них содержимое может изменяться при получении уведомлений.
-   **Запрос оценки (всплывающее уведомление).** Всплывающее уведомление, которое просит клиентов оценить приложение. Когда клиент выбирает этот уведомление, отображается страница оценки вашего приложения в Store.
-   **Запрос отзыва (всплывающее уведомление).** Всплывающее уведомление с запросом предоставления обратной связи по вашему приложению. Когда клиент выбирает уведомление, отображается страница Центра отзывов для вашего приложения.
    > [!NOTE]
    > При выборе этого типа шаблона в поле **Launch** не забудьте заменить замещающее значение {ИМЯ_СЕМЕЙСТВА_ПАКЕТОВ} на настоящее имя семейства пакетов (PFN) вашего приложения. PFN вашего приложения можно найти на странице [Удостоверение приложения](view-app-identity-details.md) (**Управление приложениями** > **Удостоверение приложения**).

    ![Всплывающее окно запуска отзывов](images/push-notifications-feedback-toast-launch-box.png)

-   **Перекрестная реклама (всплывающее уведомление).** Всплывающее уведомление для продвижения другого приложения на ваш выбор. Когда клиент выбирает это уведомление, отображается описание другого приложения в Store.
    > [!NOTE]
    > При выборе этого типа шаблона в поле **Launch** не забудьте заменить замещающее значение **{ИД рекламируемого здесь продукта}** на фактический код продукта, являющегося объектом перекрестной рекламы, в Store. Код продукта в Store можно найти на странице [Удостоверение приложения](view-app-identity-details.md) (**Управление приложениями** > **Удостоверение приложения**).

    ![Всплывающее окно запуска перекрестной рекламы](images/push-notifications-promote-toast-launch-box.png)

-   **Реклама распродажи (всплывающее уведомление).** Всплывающее уведомление, которое можно использовать для представления специального предложения на ваше приложение. Когда клиент выбирает это уведомление, отображается описание вашего приложения в Store.
-   **Запрос на обновление (всплывающее уведомление).** Всплывающее уведомление, которое рекомендует клиентам, работающим со старой версией вашего приложения, установить последнюю версию. Когда клиент выбирает уведомление, запускается приложение Store и отображается список **Загружаемые компоненты и обновления**. Обратите внимание, что этот шаблон можно использовать только с одним приложением, невозможно определить в качестве целевого определенный сегмент клиентов или установить время отправки; это уведомление всегда будет отправлено в течение 24 часов, и мы приложим все усилия, чтобы разослать его всем пользователям, которые еще не пользуются последней версией вашего приложения.


## <a name="measure-notification-performance"></a>Измерение эффективности уведомлений

Можно измерить, насколько эффективно вы взаимодействуете с клиентами с помощью каждого уведомления.


### <a name="to-measure-notification-performance"></a>Измерение эффективности уведомлений

1.  При создании уведомления в разделе **Содержимое уведомления** установите флажок **Отслеживание скорости запуска приложений**.
2.  В приложении вызовите метод [ParseArgumentsAndTrackAppLaunch](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.parseargumentsandtrackapplaunch), чтобы уведомить Центр разработки, что ваше приложение было запущено в ответ на целевое уведомление. Этот метод предоставляется только пакетом Microsoft Store Services SDK. Дополнительные сведения о том, как вызывать этот метод, см. в разделе [Настройка приложения для получения уведомлений Центра разработки](../monetize/configure-your-app-to-receive-dev-center-notifications.md).


### <a name="to-view-notification-performance"></a>Просмотр эффективности уведомлений

Если вы настроили уведомление и приложение для измерения эффективности уведомлений, как описано выше, можно использовать информационную панель для просмотра данных об эффективности уведомлений.

Чтобы просмотреть подробные сведения для каждого уведомления.

1.  На информационной панели Центра разработки для Windows разверните раздел **Привлечение**, а затем выберите **Уведомления**.
2.  В таблице существующие уведомления выберите **идет** или **завершено**и посмотрите в столбцах **скорость доставки** и **скорость запуска приложения** , чтобы оценить общую эффективность каждого уведомления.
3.  Для просмотра более подробных данных об эффективности щелкните имя уведомления. В разделе **Статистика доставки** можно просмотреть сведения **Количество** и **Процент** для следующих типов **состояния** уведомлений:
    * **Сбой**: по какой-то причине уведомление не было доставлено. Это может произойти, например, при возникновении ошибок в службе уведомлений Windows.
    * **Сбой в связи с истечением срока действия канала**: не удалось доставить уведомление из-за истечения срока действия канала между приложением и Центром разработки. Это может произойти, например, если клиент долго не открывал ваше приложение.
    * **Отправка**: уведомление поставлено в очередь на отправку.
    * **Отправлено**: уведомление было отправлено.
    * **Запуски**: уведомление было отправлено, клиент нажал его, в результате чего было открыто ваше приложение. Обратите внимание, что эта функция отслеживает только запуски приложения. Уведомления, которые приглашают клиента выполнить другие действия, например запустить Store, чтобы оставить оценку, не включены в этот статус.
    * **Неизвестно**: мы не смогли определить состояние этого уведомления.

Для анализа данных о действиях пользователей для ваших уведомлений:

1.  На информационной панели Центра разработки для Windows разверните раздел **Привлечение**, а затем выберите **Уведомления**.
2.  На странице **уведомления** перейдите на вкладку **Анализ** . На этой вкладке отображаются следующие данные:
    * Граф представления различные состояния действие пользователя для всплывающих уведомлений и уведомлений из центра уведомлений.
    * Представления карты мира щелкните через ставки для всплывающие уведомления и действия центра уведомлений.
3. В верхней части страницы можно выбрать период времени, для которого требуется отобразить данные. Значением по умолчанию является 30D (30дней), однако вы можете отобразить данные за 3, 6 или 12 месяцев, либо для заданного вручную диапазона дат. Также можно развернуть раздел **фильтры** , чтобы отфильтровать все данные, приложения и рынка.

## <a name="translate-your-notifications"></a>Перевод уведомлений

Чтобы сделать свои уведомления максимально значимыми, переведите их на язык, понятный вашим клиентам. Центр разработки упрощает автоматический перевод уведомлений с помощью службы [Microsoft Translator](https://www.microsoft.com/translator/home.aspx).

1.  После написания уведомления на языке по умолчанию выберите **Добавить языки** (под меню **Языки** в разделе **Содержимое уведомления**).
2.  В окне **Добавление языков** выберите дополнительные языки, на которых должны отображаться ваши уведомления, а затем нажмите кнопку **Обновить**.
Ваше уведомление будет автоматически переведено на языки, выбранные в окне **Добавление языков**, эти языки будут добавлены в меню **Язык**.
3.  Для просмотра перевода своего уведомления в меню **Язык** выберите только что добавленный язык.

Что следует помнить о переводе:
 - Можно переопределить автоматический перевод, введя другой текст в поле **Содержимое** для конкретного языка.
 - Если добавить другое текстовое поле в версию уведомления на английском языке после переопределения автоматического перевода, новое текстовое поле к переведенному уведомлению добавлено не будет. В этом случае необходимо будет вручную добавить новое текстовое полек каждому переведенному уведомлению.
 - Если изменить текст на английском языке после перевода уведомления, мы автоматически обновим переведенные уведомления соответственно. Однако это не произойдет, если ранее было выбрано переопределение исходного перевода.

## <a name="related-topics"></a>Статьи по теме
- [Плитки для приложений UWP](../design/shell/tiles-and-notifications/creating-tiles.md)
- [Обзор служб push-уведомлений Windows (WNS)](../design/shell/tiles-and-notifications/windows-push-notification-services--wns--overview.md)
- [Приложение "Визуализатор уведомлений"](https://www.microsoft.com/store/apps/9nblggh5xsl1)
- [Метод StoreServicesEngagementManager.RegisterNotificationChannelAsync() | registerNotificationChannelAsync()](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.registernotificationchannelasync)
