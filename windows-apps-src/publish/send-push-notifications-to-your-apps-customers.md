---
author: shawjohn
Description: "Узнайте, как отправлять целевые push-уведомления из Центра разработки для Windows в приложение, чтобы побудить клиентов выполнить то или иное действие, например оценить приложение или купить надстройку."
title: "Отправка целевых push-уведомлений пользователям вашего приложения"
translationtype: Human Translation
ms.sourcegitcommit: e9cbfec938ebc71da6f41df69defcac1bb902245
ms.openlocfilehash: c4bdd398db570c4962325c2164651e9e8a1935ff

---

# <a name="send-targeted-push-notifications-to-your-apps-customers"></a>Отправка целевых push-уведомлений пользователям вашего приложения

Взаимодействие с клиентами в нужное время и с правильным посылом — залог успеха любого разработчика приложений. Центр разработки для Windows предоставляет управляемую данными платформу для привлечения клиентов, с помощью которой можно отправлять push-уведомления всем своим клиентам или подмножеству клиентов Windows 10, соответствующих критериям, которые вы определили в [клиентском сегменте](create-customer-segments.md).

Чтобы побудить клиентов предпринять то или иное действие, например оценить приложение, купить надстройку, опробовать новую функцию или скачать другое приложение, можно использовать целевые push-уведомления.

> **Важно!** Целевые push-уведомления можно использовать только с приложениями UWP.

## <a name="getting-started-with-push-notifications"></a>Начало работы с push-уведомлениями

Чтобы использовать push-уведомления для взаимодействия с клиентами, в общем и целом нужно выполнить три условия.
1. **Зарегистрируйте свое приложение для получения push-уведомлений.** Для этого можно добавить в приложение ссылку на Microsoft Store Services SDK, а затем добавить несколько строк кода, регистрирующего канал уведомлений между Центром разработки и вашим приложением. Мы будем использовать этот канал для доставки push-уведомлений вашим клиентам. Дополнительные сведения см. в разделе [Настройка приложения для получения уведомлений Центра разработки](../monetize/configure-your-app-to-receive-dev-center-notifications.md).
2. **Создайте один или несколько клиентских сегментов, на которые вы хотите ориентироваться.** Клиентов можно сгруппировать на основании демографических критериев или критериев дохода. Дополнительные сведения см. в разделе [Создание клиентских сегментов](create-customer-segments.md).
3. **Создайте push-уведомление и отправьте его определенному клиентскому сегменту.** Например, отправьте уведомление, чтобы побудить новых клиентов оценить ваше приложение, или отправьте уведомление со специальным предложением на покупку надстройки.

## <a name="to-create-and-send-a-targeted-push-notification"></a>Создание и отправка целевого push-уведомления

1. Если вы этого еще не сделали, установите [Microsoft Store Services SDK](http://aka.ms/store-em-sdk) и вызовите метод [RegisterNotificationChannelAsync](https://msdn.microsoft.com/library/windows/apps/mt771190.aspx) в коде запуска своего приложения, чтобы зарегистрировать приложение для получения уведомлений. Дополнительные сведения о том, как вызывать этот метод, см. в разделе [Настройка приложения для получения уведомлений Центра разработки](../monetize/configure-your-app-to-receive-dev-center-notifications.md).
2.  На [информационной панели Центра разработки для Windows](https://developer.microsoft.com/dashboard/overview) выберите свое приложение.
3.  В левом меню навигации разверните узел **Службы**и выберите **Push-уведомления**.
4.  На странице **Целевые push-уведомления** выберите **Новое уведомление**.
5.  В разделе **Выберите шаблон** выберите нужный тип уведомления. Подробные сведения см. в разделе [Типы шаблонов уведомлений](#notification-template-types).
  ![Шаблоны уведомлений](images/push-notifications-template.png)
6.  В разделе **Параметры уведомлений** выберите **Название** уведомления и значение в поле **Группа клиентов**, чтобы указать адресатов уведомлений.
Если вы еще не создали сегмент, выберите **Создать новую группу клиентов**. Обратите внимание, что новый сегмент становится доступным для отправки уведомлений через 24 часа. Дополнительные сведения см. в разделе [Создание клиентских сегментов](create-customer-segments.md).
7.  Если нужно указать время отправки уведомления, снимите флажок **Отправлять уведомление немедленно** и укажите конкретные дату и время.
8.  Если нужно, чтобы в определенный момент срок действия уведомления истекал, снимите флажок **Срок действия уведомления никогда не истекает** и выберите конкретные дату и время окончания срока действия.
9.  В разделе **Содержимое уведомления** меню **Язык** выберите языки, на которых должно отображаться уведомление. Дополнительные сведения см. в разделе [Перевод уведомлений](#translate-your-notifications).
10. В разделе **Параметры** введите текст и настройте любые другие параметры. Если вы начали работу с помощью шаблона, некоторые из них предоставляются по умолчанию, однако вы можете внести любые изменения.
   Доступные параметры варьируются в зависимости от используемого типа уведомлений. Некоторые доступные параметры перечислены ниже:
   - **Тип активации** (тип интерактивного всплывающего уведомления). Можно выбрать следующие значения: **Передний план**, **Фон** или **Протокол**.
   - **Запуск** (тип интерактивного всплывающего уведомления). Можно сделать так, чтобы из уведомления можно было открыть приложение или веб-сайт.
   - **Отслеживание скорости запуска приложения** (тип интерактивного всплывающего уведомления). Если требуется измерить, насколько эффективно вы взаимодействуете с клиентами с помощью каждого из уведомлений, установите этот флажок. Дополнительные сведения см. в разделе [Измерение эффективности уведомлений](#measure-notification-performance).
   - **Длительность** (тип интерактивного всплывающего уведомления). Можно выбрать **Короткая** или **Длинная**.
   - **Сценарий** (тип интерактивного всплывающего уведомления). Можно выбрать значение **По умолчанию**, **Будильник**, **Напоминание** или **Входящий вызов**.
   - **Базовый URI** (тип интерактивного всплывающего уведомления). Дополнительные сведения см. в разделе [BaseUri](https://msdn.microsoft.com/library/windows/apps/br208712).
   - **Запрос на добавление изображения** (тип интерактивного всплывающего уведомления). Дополнительные сведения см. в разделе [addImageQuery](https://msdn.microsoft.com/library/windows/apps/br230847).
   - **Визуальный элемент**. Изображение, видео или звук. Дополнительные сведения см. в разделе [Визуальный элемент](https://msdn.microsoft.com/library/windows/apps/br230847).
   - **Выбор**/**действия**/**ввода** (тип интерактивного всплывающего уведомления). Позволяет разрешить пользователям взаимодействовать с уведомлением. Дополнительные сведения см.в разделе [Адаптивные и интерактивные всплывающие уведомления](../controls-and-patterns/tiles-and-notifications-adaptive-interactive-toasts.md#actions)
   - **Привязка** (тип интерактивной плитки). Шаблон всплывающих уведомлений. Дополнительные сведения см. в разделе [Привязка](https://msdn.microsoft.com/en-us/library/windows/apps/br230843).

   > **Совет**. Воспользуйтесь приложением [Визуализатор уведомлений](https://www.microsoft.com/store/apps/9nblggh5xsl1) для проектирования и тестирования адаптивных плиток и интерактивных всплывающих уведомлений.

11. Выберите **Сохранить как черновик**, чтобы продолжить работу над уведомлением позже, или выберите **Отправить**, если все готово.

> **Примечание**. Содержимое ваших уведомлений должно соответствовать [Политикам Магазина в отношении содержимого](https://msdn.microsoft.com/library/windows/apps/dn764944.aspx#content_policies).

## <a name="notification-template-types"></a>Типы шаблонов уведомлений

Можно выбрать любой из множества шаблонов уведомлений.

-   **Пустой (всплывающее уведомление).** Начните с пустого всплывающего уведомления, которое можно настроить. Всплывающее уведомление — это всплывающий элемент пользовательского интерфейса, который появляется на экране и обеспечивает взаимодействие приложения с клиентом, когда клиент совершает какие-либо действия в другом приложении, на начальном экране или на рабочем столе.
-   **Пустой (плитка).** Начните с пустого уведомления-плитки, которое можно настроить. Плитки — это представление приложения на начальном экране. Плитки могут быть "динамическими", т. е. отображаемое на них содержимое может изменяться при получении уведомлений.
-   **Запрос оценки (всплывающее уведомление).** Всплывающее уведомление, которое просит клиентов оценить приложение. Когда клиент выбирает этот уведомление, отображается страница оценки вашего приложения в Магазине.
-   **Запрос отзыва (всплывающее уведомление).** Всплывающее уведомление с запросом предоставления обратной связи по вашему приложению. Когда клиент выбирает уведомление, отображается страница Центра отзывов для вашего приложения.
   > **Примечание**. При выборе этого типа шаблона в поле **Запуск** не забудьте заменить местозаполнитель {ИМЯ_СЕМЕЙСТВА_ПАКЕТОВ} настоящим именем семейства пакетов (PFN) вашего приложения. PFN вашего приложения можно найти на странице [Удостоверение приложения](view-app-identity-details.md) (**Управление приложениями** > **Удостоверение приложения**).

   ![Всплывающее окно запуска отзывов](images/push-notifications-feedback-toast-launch-box.png)
-   **Перекрестная реклама (всплывающее уведомление).** Всплывающее уведомление для продвижения другого приложения на ваш выбор. Когда клиент выбирает это уведомление, отображается описание другого приложения в Магазине.
  > **Примечание**. При выборе этого типа шаблона в поле **Запуск**не забудьте заменить значение местозаполнителя **{ИД рекламируемого здесь продукта}** фактическим кодом продукта, являющегося объектом перекрестной рекламы, в Магазине. Код продукта в Магазине можно найти на странице [Удостоверение приложения](view-app-identity-details.md) (**Управление приложениями** > **Удостоверение приложения**).

  ![Всплывающее окно запуска перекрестной рекламы](images/push-notifications-promote-toast-launch-box.png)
-   **Реклама распродажи (всплывающее уведомление).** Всплывающее уведомление, которое можно использовать для представления специального предложения на ваше приложение. Когда клиент выбирает это уведомление, отображается описание вашего приложения в Магазине.
- **Запрос на обновление (всплывающее уведомление).** Всплывающее уведомление, которое рекомендует клиентам, работающим со старой версией вашего приложения, установить последнюю версию. Когда клиент выбирает уведомление, отображается список **Загружаемые компоненты и обновления** в приложении Магазина. Обратите внимание, что для использования этого шаблона клиентский сегмент создавать не нужно. Мы запланируем это уведомление в течение 24 часов и приложим все усилия, чтобы отправить его всем пользователям, у которых до сих пор не установлена актуальная версия вашего приложения.

## <a name="measure-notification-performance"></a>Измерение эффективности уведомлений

Можно измерить, насколько эффективно вы взаимодействуете с клиентами с помощью каждого уведомления.

###<a name="to-measure-notification-performance"></a>Измерение эффективности уведомлений

1.  При создании уведомления в разделе **Содержимое уведомления** установите флажок **Отслеживание скорости запуска приложений**.
2.  В приложении вызовите метод [ParseArgumentsAndTrackAppLaunch](https://msdn.microsoft.com/library/windows/apps/microsoft.services.store.engagement.storeservicesengagementmanager.parseargumentsandtrackapplaunch.aspx), чтобы уведомить Центр разработки, что ваше приложение было запущено в ответ на целевое уведомление. Этот метод предоставляется только набором Microsoft Store SDK. Дополнительные сведения о том, как вызывать этот метод, см. в разделе [Настройка приложения для получения уведомлений Центра разработки](../monetize/configure-your-app-to-receive-dev-center-notifications.md).

###<a name="to-view-notification-performance"></a>Просмотр эффективности уведомлений

Если вы настроили уведомление и приложение для [измерения эффективности уведомлений](#to-measure-notification-performance), как описано выше, можно использовать информационную панель для просмотра данных об эффективности уведомлений.

1.  На этой информационной панели выберите одно из ваших приложений.
2.  Разверните раздел **Службы** в меню слева, а затем выберите **Push-уведомления**, чтобы увидеть уведомления, связанные с этим приложением.
3.  На странице **Целевые push-уведомления** выберите **Выполняется** или **Завершено** и посмотрите на показатели в столбцах **Скорость доставки** и **Скорость запуска приложения**, чтобы оценить общую эффективность каждого уведомления.
4.  Для просмотра более подробных данных об эффективности щелкните имя уведомления. Отобразится раздел **Статистика доставки**, в котором показаны сведения **Количество** и **Процент** для следующих типов **состояния** уведомлений:
 - **Сбой**: по какой-то причине уведомление не было доставлено. Это может произойти, например, при возникновении ошибок в службе уведомлений Windows.
 - **Сбой в связи с истечением срока действия канала**: не удалось доставить уведомление из-за истечения срока действия канала между приложением и Центром разработки. Это может произойти, например, если клиент долго не открывал ваше приложение.
 - **Отправка**: уведомление поставлено в очередь на отправку.
 - **Отправлено**: уведомление было отправлено.
 - **Запуски**: уведомление было отправлено, клиент нажал его, в результате чего было открыто ваше приложение. Обратите внимание, что эта функция отслеживает только запуски приложения. Уведомления, которые приглашают клиента выполнить другие действия, например запустить Магазин, чтобы оставить оценку, не включены в этот статус.
 - **Неизвестно**: мы не смогли определить состояние этого уведомления.

## <a name="translate-your-notifications"></a>Перевод уведомлений

Чтобы сделать свои уведомления максимально значимыми, переведите их на язык, понятный вашим клиентам. Центр разработки упрощает автоматический перевод уведомлений с помощью службы [Microsoft Translator](https://msdn.microsoft.com/library/dd576287.aspx).

1.  После написания уведомления на языке по умолчанию выберите **Добавить языки** (под меню **Языки** в разделе **Содержимое уведомления**).
2.  В окне **Добавление языков** выберите дополнительные языки, на которых должны отображаться ваши уведомления, а затем нажмите кнопку **Обновить**.
Ваше уведомление будет автоматически переведено на языки, выбранные в окне **Добавление языков**, эти языки будут добавлены в меню **Язык**.
3.  Для просмотра перевода своего уведомления в меню **Язык** выберите только что добавленный язык.

Что следует помнить о переводе:
 - Можно переопределить автоматический перевод, введя другой текст в поле **Содержимое** для конкретного языка.
 - Если добавить другое текстовое поле в версию уведомления на английском языке после переопределения автоматического перевода, новое текстовое поле к переведенному уведомлению добавлено не будет. В этом случае необходимо будет вручную добавить новое текстовое полек каждому переведенному уведомлению.
 - Если изменить текст на английском языке после перевода уведомления, мы автоматически обновим переведенные уведомления соответственно. Однако это не произойдет, если ранее было выбрано переопределение исходного перевода.

## <a name="related-topics"></a>Связанные статьи
- [Плитки, индикаторы событий и уведомления для приложений UWP](../controls-and-patterns/tiles-badges-notifications.md)
- [Обзор служб push-уведомлений Windows (WNS)](../controls-and-patterns/tiles-and-notifications-windows-push-notification-services--wns--overview.md)
- [Обзор службы push-уведомлений Windows (WNS) (приложения среды выполнения Windows)](https://msdn.microsoft.com/en-us/library/windows/apps/hh913756.aspx)
- [Приложение "Визуализатор уведомлений"](https://www.microsoft.com/store/apps/9nblggh5xsl1)
- [Метод StoreServicesEngagementManager.RegisterNotificationChannelAsync() | registerNotificationChannelAsync()](https://msdn.microsoft.com/library/windows/apps/mt771190.aspx)
- [Сегментирование клиентов и push-уведомления: новая функция Программы предварительной оценки для Центра разработки для Windows (запись в блоге)](https://blogs.windows.com/buildingapps/2016/08/17/customer-segmentation-and-push-notifications-a-new-windows-dev-center-insider-program-feature/#XTuCqrG8G5IMgWew.97)



<!--HONumber=Dec16_HO1-->


