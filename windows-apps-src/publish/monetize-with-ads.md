---
author: jnHs
Description: "Если в своем приложении вы используете рекламный посредник или отображаете в нем баннеры либо межстраничные объявления с помощью пакета MicrosoftStoreServicesSDK, на странице \"Получение дохода с помощью рекламы\" вы можете контролировать то, как используются ваши объявления."
title: "Монетизация с использованием рекламы"
ms.assetid: 09970DE3-461A-4E2A-88E3-68F2399BBCC8
ms.author: wdg-dev-content
ms.date: 07/06/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: windows 10, uwp
ms.openlocfilehash: 6ecd37e54de266764570606ceaa575614dfb050c
ms.sourcegitcommit: 10f8dcf69d37cdb61562fc9f4d268ccb499c368f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/07/2017
---
# <a name="monetize-with-ads"></a>Монетизация с использованием рекламы

Каждое приложение на информационной панели содержит страницу **Монетизация** &gt; **Монетизация с помощью рекламы**. Используйте эту страницу, чтобы управлять использованием рекламных объявлений в следующих сценариях разработки в вашем приложении.

* В вашем приложении UWP используются элементы управления [AdControl](https://msdn.microsoft.com/en-us/library/windows/apps/microsoft.advertising.winrt.ui.adcontrol.aspx), [InterstitialAd](https://msdn.microsoft.com/library/windows/apps/microsoft.advertising.winrt.ui.interstitialad.aspx) или [NativeAd](https://msdn.microsoft.com/library/windows/apps/microsoft.advertising.winrt.ui.nativead.aspx) из пакета [Microsoft Advertising SDK](http://aka.ms/ads-sdk-uwp).
* В вашем приложении для ОС Windows8.x или WindowsPhone8.x используется элемент управления **AdControl** или **InterstitialAd** из пакета [MicrosoftAdvertisingSDK для ОС Windows и WindowsPhone8.x](http://aka.ms/store-8-sdk).
* В вашем приложении для ОС Windows8.x или WindowsPhone8.x используется элемент **AdMediatorControl** из пакета [MicrosoftAdvertisingSDK для ОС Windows и WindowsPhone8.x](http://aka.ms/store-8-sdk).

Дополнительные сведения об этих сценариях разработки см. в разделе [Показ рекламы в приложении с помощью пакета Microsoft Advertising SDK](../monetize/display-ads-in-your-app.md).

<span id="create-ad-unit" />
## <a name="create-ad-units"></a>Создание групп объявлений

Используйте этот раздел для создания групп объявлений в следующих сценариях.

* В вашем приложении отображаются баннеры с помощью элемента **AdControl**. Дополнительные сведения см. в разделах [AdControl в XAML и .NET](../monetize/adcontrol-in-xaml-and--net.md) и [AdControl в HTML5 и JavaScript](../monetize/adcontrol-in-html-5-and-javascript.md).
* В вашем приложении отображаются межстраничные рекламные видеоролики или межстраничные баннеры с помощью элемента **InterstitialAd**. Дополнительные сведения см. в разделе [Межстраничные объявления](../monetize/interstitial-ads.md).
* В вашем приложении отображаются собственные объявления с помощью элемента **NativeAd**. Дополнительные сведения см. в разделе [Собственные объявления](../monetize/native-ads.md).

Создание группы объявлений.

1.  В поле **Имя группы объявлений** введите соответствующие данные. Это может быть любая описательная строка, которая будет использоваться для идентификации группы объявлений в целях отчетности.
2.  В раскрывающемся меню **Тип группы объявлений** выберите тип группы объявлений в соответствии с рекламными объявлениями, которые отображаются в вашем элементе управления. Доступные варианты— это **Баннер**, **Межстраничный баннер**, **Межстраничный видеоролик** и **Собственный**.
    > [!NOTE]
    > Возможность создавать **Собственные** группы объявлений в настоящее время доступна только отдельным разработчикам, участвующим в пилотной программе, но мы намерены сделать этот компонент доступным для всех разработчиков в скором времени. Если вы хотите присоединиться к пилотной программе, обратитесь по адресу aiacare@microsoft.com.

3.  В раскрывающемся меню **Семейство устройств** выберите семейство устройств, для которого предназначено приложение и в котором будет использоваться группа объявлений. Доступные варианты— это **UWP (ОС Windows10)**, **Компьютер или планшет (ОС Windows8.1)** или **Мобильное устройство (ОС WindowsPhone8.x)**.
4.  Нажмите кнопку **Создать группу объявлений**.

Новая группа объявлений отобразится в верхней части списка в разделе **Доступные группы объявлений** этой страницы. Дополнительные сведения о работе с группами объявлений в приложении см. в разделе [Настройка групп объявлений в приложении](../monetize/set-up-ad-units-in-your-app.md).

> [!NOTE]
> Если в вашем приложении для ОС Windows8.x или WindowsPhone8.x используется элемент **AdMediatorControl** для отображения баннеров, не нужно запрашивать здесь рекламные блоки. В этом сценарии рекламные блоки создаются автоматически.

<span id="available-ad-units" />
## <a name="available-ad-units"></a>Доступные рекламные блоки

Ваши рекламные блоки показаны в таблице внизу этого раздела. Для каждого из рекламных блоков будет указан **Код приложения** и **Код рекламного блока**. Для отображения рекламы в вашем приложении вам потребуется использовать в коде следующие значения:

-   Если ваше приложение отображает баннеры, установите эти значения для свойств [ApplicationId](https://msdn.microsoft.com/library/mt313174.aspx) и [AdUnitId](https://msdn.microsoft.com/library/mt313171.aspx) вашего объекта [AdControl](https://msdn.microsoft.com/library/mt313154.aspx). Дополнительные сведения см. в разделах [AdControl в XAML и .NET](../monetize/adcontrol-in-xaml-and--net.md) и [AdControl в HTML5 и JavaScript](../monetize/adcontrol-in-html-5-and-javascript.md).
-   Если в вашем приложении содержится межстраничное объявление, установите эти значения для метода [RequestAd](https://msdn.microsoft.com/library/mt313192.aspx) объекта [InterstitialAd](https://msdn.microsoft.com/library/mt313189.aspx). Дополнительные сведения см. в разделе [Межстраничные объявления](../monetize/interstitial-ads.md).
-   Если ваше приложение отображает собственные объявления, передайте эти значения параметрам *applicationId* и *adUnitId* конструктора [NativeAdsManager](https://msdn.microsoft.com/library/windows/apps/microsoft.advertising.winrt.ui.nativeadsmanager.nativeadsmanager.aspx). Дополнительные сведения см. в разделе [Собственные объявления](../monetize/native-ads.md).

> [!IMPORTANT]
> Одну группу объявлений можно использовать только в одном приложении. Если использовать одну группу объявлений в нескольких приложениях, объявления для этой группы объявлений предоставляться не будут.

> [!NOTE]
> В одном приложении можно использовать несколько элементов управления баннерами, межстраничными объявлениями и собственными объявлениями. В этом случае рекомендуется назначить каждому элементу управления свою группу объявлений. Использование различных групп объявлений для каждого элемента управления позволяет по отдельности [настраивать параметры посредника](../publish/monetize-with-ads.md#mediation) и получать раздельные [данные отчетности](../publish/advertising-performance-report.md) для каждого элемента управления. Это также позволяет нашим службам лучше оптимизировать рекламные объявления, которые мы передаем вашему приложению.

<span id="mediation" />
## <a name="ad-mediation"></a>Рекламный посредник

Что касается приложений UWP для ОС Windows10, параметры этого раздела дают возможность включить рекламный посредник для группы объявлений UWP, которая связана с баннером, межстраничным объявлением или собственным объявлением в вашем приложении. С помощью рекламного посредника можно максимально увеличить выручку от рекламы и расширить возможности продвижения приложений, отображая рекламные объявления от нескольких рекламных сетей (в том числе других платных рекламных сетей), а также некоммерческие рекламные объявления в рамках кампаний по продвижению приложений Майкрософт. Мы обрабатываем запросы на баннеры от выбранных вам рекламных сетей.

Если у вас уже есть группа объявлений UWP, которая уже связана с баннером, межстраничным объявлением или собственным объявлением в вашем приложении, вам не требуется изменять код в вашем приложении, чтобы включить рекламный посредник.

> [!NOTE]
> В этом разделе описаны параметры **рекламного посредника** для пакетов приложений UWP. Если пакет приложения предназначен для ОС Windows8.x или WindowsPhone8.x и в нем используется элемент **AdMediatorControl** из пакета [MicrosoftAdvertisingSDK для ОС Windows и WindowsPhone8.x](http://aka.ms/store-8-sdk), в разделе **Рекламный посредник** информационной панели отображается другой набор параметров. Дополнительные сведения об изменении настроек посредника в пакете приложения для ОС Windows8.x или WindowsPhone8.x, в котором используется элемент **AdMediatorControl**, см. в [этой статье](https://msdn.microsoft.com/library/windows/apps/mt219689).

Чтобы изменить настройки рекламного посредника для группы объявлений UWP, выполните следующие действия.

1. В раскрывающемся меню **Настройка посредника для** выберите пакет приложения UWP, содержащий баннер, межстраничное объявление или собственную группу объявлений, которые необходимо настроить.

2. В раскрывающемся меню **Тип группы объявлений** выберите тип группы объявлений, который требуется настроить (**Баннер**, **Межстраничное объявление**, **Промежуточная видеореклама** или **Собственный**).

3. В раскрывающемся меню **Группа объявлений** выберите имя группы объявлений UWP, которую требуется настроить.
    > [!NOTE]
    > Чтобы включить рекламный посредник для группы объявлений UWP, вам не требуется получать группу объявлений от сторонних рекламных сетей. Наша служба рекламного посредника автоматически создает необходимые сторонние рекламные блоки.

4. По умолчанию установлен флажок **Позволить Майкрософт выбрать оптимальные настройки посредника для вашего приложения**. Этот параметр использует алгоритмы машинного обучения, чтобы можно было автоматически выбрать настройки рекламного посредника для вашего приложения и тем самым помочь вам максимально увеличить доход от рекламы во всех странах, в которых доступно ваше приложение. Рекомендуется использовать этот параметр. В противном случае, если вы хотите выбрать собственные настройки посредника, снимите этот флажок.
    > [!NOTE]
    > Оставшиеся инструкции в этом разделе применимы, только если снять этот флажок и выбрать собственные настройки рекламного посредника.

5. В раскрывающемся меню **Целевая** выберите пункт **Базовая**, чтобы изменить настройки рекламного посредника по умолчанию. Эта конфигурация по умолчанию будет применяться во всех странах, за исключением тех, в которых вы используете конфигурации для определенных стран.

6. Затем укажите, в каком соотношении в вашем элементе управления должны отображаться объявления от платных сетей (которые оплачивают вам показы) и других рекламных сетей (которые не оплачивают вам показы). Для этого введите значение от 0 до 100 в поля **Насыщенность** для **платных рекламных сетей** и **других рекламных сетей**.  

7. В разделе **Платные рекламные сети** установите флажок в столбце **Активные** для каждой платной сети, которую вы хотите использовать, а затем с помощью стрелок в столбце **Рейтинг** выстройте сети по рейтингу (таким образом вы укажете, как часто та или иная сеть будет использоваться вашим элементом управления).

    В настоящее время поддерживаются платные сети, перечисленные ниже. Обратите внимание, что некоторые из них [доступны не во всех странах](#network-markets).

    -   **AOL и AppNexus**. Это платная рекламная сеть под управлением Майкрософт, которая предоставляет рекламные объявления через партнерские сети AOL и AppNexus. Эта сеть поддерживается для групп объявлений **Баннер** и **Промежуточная видеореклама**.
        > [!NOTE]
        > Сеть **AOL и AppNexus** всегда значится на первом месте в списке **Платные рекламные сети** для групп объявлений **Баннер**, поэтому ее рейтинг невозможно понизить для данного типа объявлений.

    -   **AppNexus (прямая)**: выберите этот вариант, чтобы отображать межстраничные объявления от сети [AppNexus](https://www.appnexus.com). Эта сеть поддерживается для групп объявлений **Промежуточная видеореклама** и **Собственный**.

    -   **Объявления для установки приложений Майкрософт**. Выберите этот параметр, чтобы отображать объявления для установки приложений или объявления о повторных обращениях к приложениям от других разработчиков в экосистеме Windows, которые [создают рекламные кампании по продвижению своих приложений](create-an-ad-campaign-for-your-app.md). Эта сеть поддерживается для групп объявлений **Баннер**, **Межстраничное объявление** и **Собственный**.

    -   **Smaato**: выберите этот вариант, чтобы отображать объявления от сети [Smaato](https://www.smaato.com/). Эта сеть поддерживается для групп объявлений **Баннер**.

    -   **smartclip**: выберите этот вариант, чтобы отображать объявления от сети [smartclip](http://www.smartclip.com/). Эта сеть поддерживается для групп объявлений **Промежуточная видеореклама**.

    -   **SpotX**: выберите этот вариант, чтобы отображать объявления от сети [SpotX](https://www.spotx.tv/). Эта сеть поддерживается для групп объявлений **Промежуточная видеореклама**.

    -   **Taboola**: выберите этот вариант, чтобы отображать объявления от сети [Taboola](https://www.taboola.com/). Эта сеть поддерживается для групп объявлений **Баннер**.

8. Если вы выбрали группу объявлений **Баннер** или **Межстраничное объявление**, вы также увидите раздел с именем **Другие рекламные сети**. Сети в этом разделе не приносят вам прибыль за показы. Вместо этого они демонстрируют объявления из других источников (например, в рамках кампаний по продвижению приложений). 

    В разделе **Другие рекламные сети** установите флажок в столбце **Активные** для любой другой сети, которую вы хотите использовать, а затем с помощью стрелок в столбце **Рейтинг** выстройте сети по рейтингу (таким образом вы укажете, как часто та или иная сеть будет использоваться вашим элементом управления). В настоящее время поддерживаются другие сети, перечисленные ниже.

    -   **Объявления от сообщества Майкрософт**. Если вы [создаете кампанию по продвижению одного из своих приложений](create-an-ad-campaign-for-your-app.md) и указываете, что это [кампания по показу рекламы от сообщества](about-community-ads.md), выберите этот вариант для показа объявлений в рамках этой кампании. 

    -   **Собственные объявления Майкрософт**. Если вы [создаете кампанию по продвижению одного из своих приложений](create-an-ad-campaign-for-your-app.md) и указываете, что это [собственная кампания](about-house-ads.md), выберите этот вариант для показа объявлений в рамках этой кампании.

9. Если вы хотите переопределить конфигурацию посредника по умолчанию для той или иной страны, выберите страну в раскрывающемся меню **Целевая** и обновите список рекламных сетей, а также рейтинг каждой из них.

10. Нажмите кнопку **Сохранить**.

<span id="network-markets" />
### <a name="supported-markets-for-ad-networks"></a>Поддерживаемые страны для рекламных сетей

Доступные рекламные сети демонстрируют рекламные объявления во всех [поддерживаемых странах](define-pricing-and-market-selection.md#windows-store-consumer-markets) для приложений UWP с указанными ниже исключениями.

|  Рекламная сеть  |  Поддерживаемые страны  |
|--------------|---------------------|
| Smaato | Бразилия, Великобритания, Германия, Испания, Италия, Канада, Соединенные Штаты, Франция и Япония |
| smartclip | Австрия, Бельгия, Дания, Германия, Италия, Нидерланды, Норвегия, Финляндия, Швейцария и Швеция  |


## <a name="microsoft-affiliate-ads"></a>Реклама аффилированных лиц Майкрософт

Установите флажок в этом разделе, чтобы показывать рекламу аффилированных лиц Майкрософт в вашем приложении. Если вы установили этот флажок, рекламные объявления для продуктов в Магазине, в том числе для музыки, игр, фильмов, приложений, оборудования и программного обеспечения, будут отображаться в приложении, если объявления из рекламных сетей недоступны. Если пользователи щелкнут рекламу и купят продукты в Магазине в пределах периода атрибуции, вы заработаете комиссию за утвержденные покупки.

Если вы измените настройки, вам не потребуется повторно публиковать приложение, чтобы изменения вступили в силу. Дополнительные сведения о рекламе аффилированных лиц Майкрософт см. в разделе [О рекламе от аффилированных лиц](about-affiliate-ads.md).

## <a name="coppa-compliance"></a>Соответствие требованиям COPPA

Согласно закону о защите личных сведений детей в Интернете (COPPA) вы должны уведомить Майкрософт, если ваше приложение предназначено для детей младше 13 лет. Если вы сообщите Майкрософт о том, что приложение предназначено для детей младше 13 лет, через центр разработки, Майкрософт примет меры для отключения рекламных служб, основанных на поведении пользователей, в вашем приложении. Если ваше приложение предназначено для детей младше 13 лет, это накладывает определенные обязательства согласно COPPA.

Дополнительную информацию о ваших обязательствах согласно COPPA см. на [этой странице](http://go.microsoft.com/fwlink/p/?linkid=536558).
