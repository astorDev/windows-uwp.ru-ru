---
Description: Если приложение отображает рекламу с помощью пакета SDK для Microsoft Advertising, используйте страницу рекламных объявлений в приложении центра партнеров для управления использованием рекламных объявлений.
title: Реклама в приложении
ms.assetid: 09970DE3-461A-4E2A-88E3-68F2399BBCC8
ms.date: 03/25/2019
ms.topic: article
keywords: windows 10, uwp
ms.localizationpriority: medium
ms.openlocfilehash: 96994566d19e03f1d85b751242331f04fef098ad
ms.sourcegitcommit: ca1b5c3ab905ebc6a5b597145a762e2c170a0d1c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/13/2020
ms.locfileid: "79210700"
---
# <a name="in-app-ads"></a>Реклама в приложении

>[!WARNING]
> Начиная с 1 июня 2020 г. платформа Microsoft AD монетизацию для приложений Windows UWP будет выключена. [Подробнее](https://social.msdn.microsoft.com/Forums/windowsapps/en-US/db8d44cb-1381-47f7-94d3-c6ded3fea36f/microsoft-ad-monetization-platform-shutting-down-june-1st?forum=aiamgr)

Используйте страницу **монетизации** &gt; **в приложении ADS** в [центре партнеров](https://partner.microsoft.com/dashboard) для создания и управления единицами AD для:

* Для приложений универсальной платформы Windows (UWP), в которых используется [Microsoft Advertising SDK](https://marketplace.visualstudio.com/items?itemName=AdMediator.MicrosoftAdvertisingSDK).
* Ранее опубликованные приложения Windows 8. x и Windows Phone 8. x, использующие [пакет SDK для Microsoft Advertising для Windows и Windows Phone 8. x](https://marketplace.visualstudio.com/items?itemName=AdMediator.MicrosoftAdvertisingSDKforWindowsandWindowsPhone8x).

> [!IMPORTANT]
> Начиная с 31 октября 2018 г. Недавно создаваемые продукты не могут содержать пакеты, предназначенные для Windows 8. x/Windows Phone 8. x или более ранних версий. Дополнительные сведения см. в этой [записи блога](https://blogs.windows.com/windowsdeveloper/2018/08/20/important-dates-regarding-apps-with-windows-phone-8-x-and-earlier-and-windows-8-8-1-packages-submitted-to-microsoft-store).

Дополнительные сведения об интеграции этих пакетов SDK с приложениями для показа рекламы см. в разделе [Показ рекламы в приложении с помощью Microsoft Advertising SDK](../monetize/display-ads-in-your-app.md).

<span id="create-ad-unit" />

## <a name="create-ad-units"></a>Создание групп объявлений

Процедура создания группы объявлений для [баннера](../monetize/banner-ads.md), [межстраничного объявления](../monetize/interstitial-ads.md) или [собственного объявления](../monetize/native-ads.md) в приложении:

1.  Перейдите на страницу **монетизации** &gt; " **Реклама в приложениях** " в центре партнеров и щелкните " **создать модуль AD**".
2.  В раскрывающемся меню **Имя приложения** выберите приложение, в котором будет использоваться группа объявлений.
3.  В поле **Имя группы объявлений** введите имя для группы объявлений. Это может быть любая описательная строка, которая будет использоваться для идентификации группы объявлений в целях отчетности.
4.  В раскрывающемся меню **Тип группы объявлений** выберите тип рекламы.

    * Если в приложении отображается баннер с рекламным объявлением, выберите **баннер**.
    * Если в приложении отображается баннер внутреннего Video AD или внутреннего, выберите **видео внутреннего** или **баннер внутреннего** (выберите подходящий вариант для типа внутреннего AD, который вы хотите показать).
    * Если в приложении отображается собственная реклама Active Directory, выберите **собственный**.

5. В раскрывающемся меню **Семейство устройств** выберите семейство устройств, для которого предназначено приложение и в котором будет использоваться группа объявлений. Доступные варианты — это **UWP (ОС Windows 10)** , **Компьютер или планшет (ОС Windows 8.1)** или **Мобильное устройство (ОС Windows Phone 8.x)** .

6. Настройте следующие дополнительные параметры, как вам требуется:

    * Если для группы объявлений выбрать семейство устройств **UWP (Windows 10)** , можно настроить [параметры посредника](#mediation) для этой группы.
    * Если для группы баннеров выбрать семейство устройств **Компьютер или планшет (Windows 8.1)** или **Мобильное устройство (Windows Phone 8.x)** , можно выбрать параметр **Показывать объявления в сообществе в приложении**, чтобы включить показ [объявлений в сообществе](about-community-ads.md).

7.  Если вы еще не установили соответствие требованиям COPPA для выбранного приложения, выберите параметр в разделе [Соответствие требованиям COPPA](#coppa).
8.  Щелкните **Создать рекламный блок**.

После создания новой единицы AD она появится в таблице доступных единиц AD на странице **монетизации** &gt; **In-App ADS** .

<span id="available-ad-units" />

## <a name="review-and-edit-ad-units"></a>Просмотр и изменение групп объявлений

После создания единиц AD для одного или нескольких приложений в учетной записи эти единицы AD отображаются в таблице внизу страницы **монетизации** &gt; **на странице ADS** . В этой таблице отображаются **Идентификатор приложения** и **Идентификатор группы объявлений** для каждой группы объявлений, а также другие сведения. Для отображения рекламы в приложении потребуется использовать в коде следующие значения. Дополнительные сведения см. в разделе [Настройка блоков рекламы в приложении](../monetize/set-up-ad-units-in-your-app.md).

* Если в приложении показываются [баннеры](../monetize/banner-ads.md), установите эти значения для свойств [ApplicationId](https://docs.microsoft.com/uwp/api/microsoft.advertising.winrt.ui.adcontrol.applicationid) и [AdUnitId](https://docs.microsoft.com/uwp/api/microsoft.advertising.winrt.ui.adcontrol.adunitid) объекта [AdControl](https://docs.microsoft.com/uwp/api/microsoft.advertising.winrt.ui.adcontrol).
* Если в приложении показываются [межстраничные объявления](../monetize/interstitial-ads.md), передайте эти значения методу [RequestAd](https://docs.microsoft.com/uwp/api/microsoft.advertising.winrt.ui.interstitialad.requestad) объекта [InterstitialAd](https://docs.microsoft.com/uwp/api/microsoft.advertising.winrt.ui.interstitialad).
* Если приложение отображает [собственные баннеры](../monetize/native-ads.md), передайте эти значения в конструктор **NativeAdsManagerV2** .
  > [!IMPORTANT]
  > Одну группу объявлений можно использовать только в одном приложении. Если использовать одну группу объявлений в нескольких приложениях, объявления для этой группы объявлений предоставляться не будут.

  > [!NOTE]
  > В одном приложении можно использовать несколько элементов управления баннерами, межстраничными объявлениями и собственными объявлениями. В этом случае рекомендуется назначить каждому элементу управления свою группу объявлений. Использование различных групп объявлений для каждого элемента управления позволяет по отдельности [настраивать параметры посредника](../publish/in-app-ads.md#mediation) и получать раздельные [данные отчетности](../publish/advertising-performance-report.md) для каждого элемента управления. Это также позволяет нашим службам лучше оптимизировать рекламные объявления, которые мы передаем вашему приложению.

Чтобы изменить [параметры посредника](#mediation) для группы объявлений UWP или [соответствие требованиям COPPA](#coppa) для приложения, в котором используется группа объявлений, щелкните имя группы объявлений.

> [!NOTE]
> Если в течение последних шести месяцев единица AD не действует, она будет помечена как **неактивная**и в конечном итоге удалит ее из центра партнеров. С помощью фильтров можно показать только **Активные** или **Неактивные** группы объявлений. Если вы увидите, что какая-либо группа объявлений помечена как **Неактивная** по ошибке, [обратитесь в службу поддержки](https://developer.microsoft.com/windows/support).

<span id="mediation" />

## <a name="mediation-settings"></a>Параметры посредника

При [создании новой единицы AD UWP](#create-ad-unit) или [изменении существующей единицы AD UWP](#available-ad-units)используйте параметры в этом разделе, чтобы настроить [AD-исправление](../monetize/ad-mediation-service.md) для единицы AD. С помощью рекламного посредника можно максимально увеличить выручку от рекламы и расширить возможности продвижения приложений, отображая рекламные объявления от нескольких рекламных сетей (в том числе других платных рекламных сетей), а также некоммерческие рекламные объявления в рамках кампаний по продвижению приложений Майкрософт. Мы обрабатываем запросы на баннеры от выбранных вам рекламных сетей. Если у вас уже есть группа объявлений UWP, которая уже связана с баннером, межстраничным объявлением или собственным объявлением в вашем приложении, вам не требуется изменять код в вашем приложении, чтобы включить рекламный посредник.

> [!NOTE]
> Чтобы включить рекламный посредник для группы объявлений UWP, вам не требуется получать группу объявлений от сторонних рекламных сетей. Наша служба рекламного посредника автоматически создает необходимые сторонние группы объявлений.

Чтобы изменить настройки рекламного посредника для группы объявлений UWP, выполните следующие действия.

1. [Создайте группу объявлений](#create-ad-unit) или [выберите существующую группу объявлений](#available-ad-units).
2. На странице **рекламных объявлений в приложении** перейдите к разделу **Параметры исправлений** и Настройка параметров.

    * По умолчанию флажок **Разрешить Майкрософт оптимизировать мои параметры** установлен. Рекомендуется использовать этот параметр. Этот параметр использует алгоритмы машинного обучения, чтобы можно было автоматически выбрать настройки рекламного посредника для вашего приложения и тем самым помочь вам максимально увеличить доход от рекламы во всех странах, в которых доступно ваше приложение. При использовании этого параметра можно также выбрать сети Active Directory, которые будут использоваться в конфигурации. Снимите флажки для сетей ad, которые не должны быть частью конфигурации, и наш алгоритм обеспечит, чтобы ваше приложение получало рекламу только из выбранных сетей ad.
    * Если вы хотите выбрать собственные параметры для исправлений в AD, выберите **изменить параметры по умолчанию**.

    > [!NOTE]
    > Оставшиеся действия, описанные в этом разделе, применимы только при выборе **параметра изменить параметры по умолчанию**.

3. В раскрывающемся меню **Целевая** выберите пункт **Базовая**, чтобы изменить настройки рекламного посредника по умолчанию. Эта конфигурация по умолчанию будет применяться во всех странах, за исключением тех, в которых вы используете конфигурации для определенных стран.
4. Затем укажите, в каком соотношении в вашем элементе управления должны отображаться объявления от платных сетей (которые оплачивают вам показы) и других рекламных сетей (которые не оплачивают вам показы). Для этого введите значение от 0 до 100 в поля **Насыщенность** для **платных рекламных сетей** и **других рекламных сетей**.  
5. В разделе **Платные рекламные сети** установите флажок в столбце **Активные** для каждой [платной сети](#paid-networks), которую вы хотите использовать, а затем с помощью стрелок в столбце **Рейтинг** выстройте сети по рейтингу (таким образом вы укажете, как часто та или иная сеть будет использоваться вашим элементом управления).
6. Если вы выбрали группу объявлений **Баннер** или **Межстраничное объявление**, вы также увидите раздел с именем **Другие рекламные сети**. Сети в этом разделе не приносят вам прибыль за показы. Вместо этого они демонстрируют объявления из других источников (например, в рамках кампаний по продвижению приложений).

    В разделе **Другие рекламные сети** установите флажок в столбце **Активные** для любой [другой сети](#other-networks), которую вы хотите использовать, а затем с помощью стрелок в столбце **Рейтинг** выстройте сети по рейтингу (таким образом вы укажете, как часто та или иная сеть будет использоваться вашим элементом управления). В настоящее время поддерживаются другие сети, перечисленные ниже.

7. Если вы хотите переопределить конфигурацию посредника по умолчанию для той или иной страны, выберите страну в раскрывающемся меню **Целевая** и обновите список рекламных сетей, а также рейтинг каждой из них.
8. Щелкните **Создать группу объявлений** (если вы создаете новую группу объявлений) или **Сохранить** (если вы изменяете существующую группу объявлений).

<span id="paid-networks" />

### <a name="supported-paid-ad-networks"></a>Поддерживаемые платные рекламные сети

В следующей таблице указаны платные сети, поддерживаемые на данный момент для каждого типа рекламы. Обратите внимание, что некоторые из них [доступны не во всех странах](#network-markets).

|  Рекламная сеть  |  Описание  |  Поддерживаемые типы рекламы  |
|--------------|---------------|---------------------|
| Oath и Аппнексус |  Это сеть ad, управляемая корпорацией Майкрософт, которая обслуживает рекламу в наших партнерских сетях, Oath и Аппнексус.<p/>**Примечание**. Oath и аппнексус всегда сначала ранжированы в списке **платных сетей ad** для баннерных единиц рекламы, и его нельзя изменить на более низкий рейтинг для этих типов рекламы. | Баннеры, межстраничная видеореклама |
| AppNexus (прямая) | Выберите этот параметр, чтобы обслуживать рекламу из [аппнексус](https://www.appnexus.com). | Межстраничная видеореклама, собственные объявления  |
| Объявления для установки приложений Майкрософт | Выберите этот параметр, чтобы отображать объявления для установки приложений или объявления о повторных обращениях к приложениям от других разработчиков в экосистеме Windows, которые [создают рекламные кампании по продвижению своих приложений](create-an-ad-campaign-for-your-app.md).  |  Баннеры, межстраничные баннеры, собственные объявления  |
| Рекомендации по содержимому MSN |  Выберите этот параметр, чтобы обслуживать рекламу из рекомендаций по содержимому MSN. |  Баннеры, межстраничные баннеры  |
| Outbrain |  Выберите этот вариант, чтобы показывать объявления от сети [Outbrain](https://www.outbrain.com/). |  Баннеры, межстраничные баннеры  |
| Revcontent |  Выберите этот вариант, чтобы показывать объявления от сети [Revcontent](https://www.revcontent.com/). |  Баннер, собственный  |
| Smaato |  Выберите этот вариант, чтобы показывать объявления от сети [Smaato](https://www.smaato.com/). |  Баннеры  |
| smartclip |  Выберите этот вариант, чтобы показывать объявления от сети [smartclip](http://www.smartclip.com/). |  Межстраничная видеореклама  |
| SpotX |  Выберите этот вариант, чтобы показывать объявления от сети [SpotX](https://www.spotx.tv/). |  Межстраничная видеореклама  |
| Taboola |  Выберите этот вариант, чтобы показывать объявления от сети [Taboola](https://www.taboola.com/). |  Баннеры  |
| Vungle | Выберите этот параметр, чтобы обслуживать рекламу из [вунгле](https://vungle.com/) | Межстраничная видеореклама |
| ундертоне | Выберите этот параметр, чтобы обслуживать рекламу из [ундертоне](https://www.undertone.com/). | Баннер внутреннего |


<span id="other-networks" />

### <a name="other-ad-networks"></a>Другие рекламные сети

В следующей таблице указаны другие сети, поддерживаемые на данный момент для каждого типа рекламы.

|  Рекламная сеть  |  Описание  |  Поддерживаемые типы рекламы  |
|--------------|---------------|---------------------|
| Объявления в сообществе Майкрософт |  Если вы [создаете кампанию по продвижению одного из своих приложений](create-an-ad-campaign-for-your-app.md) и указываете, что это [кампания по показу рекламы от сообщества](about-community-ads.md), выберите этот вариант для показа объявлений в рамках этой кампании. | Баннеры, межстраничные баннеры |
| Собственные объявления Майкрософт | Если вы [создаете кампанию по продвижению одного из своих приложений](create-an-ad-campaign-for-your-app.md) и указываете, что это [собственная кампания](about-house-ads.md), выберите этот вариант для показа объявлений в рамках этой кампании. | Баннеры, межстраничные баннеры  |


<span id="network-markets" />

### <a name="supported-markets-for-ad-networks"></a>Поддерживаемые страны для рекламных сетей

Доступные рекламные сети показывают объявления во всех [поддерживаемых странах](define-market-selection.md#microsoft-store-consumer-markets) с указанными ниже исключениями.

|  Рекламная сеть  |  Поддерживаемые регионы  |
|--------------|---------------------|
| Revcontent | Бразилия, Великобритания, Германия, Испания, Италия, Канада, Соединенные Штаты, Франция и Япония  |
| Smaato | Бразилия, Великобритания, Германия, Испания, Италия, Канада, Соединенные Штаты, Франция и Япония |
| smartclip | Австрия, Бельгия, Дания, Германия, Италия, Нидерланды, Норвегия, Финляндия, Швейцария и Швеция  |
| ундертоне | Соединенные Штаты |

<span id="coppa" />

## <a name="coppa-compliance"></a>Соответствие требованиям COPPA

При [создании](#create-ad-unit) или [выборе существующей единицы AD](#available-ad-units)в нижней части страницы отображается раздел **соответствие COPPA** , если выбранное приложение для единицы AD имеет по крайней мере одну отправку, которая достига на шаге [Store](../publish/the-app-certification-process.md#in-the-store) в процессе сертификации приложения.

Согласно закону о защите личных сведений детей в Интернете (COPPA), в этом разделе необходимо выбрать пункт **Это приложение предназначено для детей младше 13 лет**, если ваше приложение предназначено для детей младше 13 лет. При выборе этого варианта Майкрософт примет меры для отключения рекламных служб, основанных на поведении пользователей, в вашем приложении.

Значение параметра **Соответствие требованиям COPPA** автоматически применяется для всех рекламных блоков выбранного приложения.

> [!IMPORTANT]
> Если ваше приложение предназначено для детей младше 13 лет, это накладывает определенные обязательства согласно COPPA. Дополнительную информацию о ваших обязательствах см. на [этой странице](https://www.ftc.gov/enforcement/rules/rulemaking-regulatory-reform-proceedings/childrens-online-privacy-protection-rule).
