---
Description: Узнайте, как делать пакеты приложения доступными для пользователей, а также как управлять определенными сценариями пакетов.
title: Руководство по управлению пакетами приложения
ms.assetid: 55405D0B-5C1E-43C8-91A1-4BFDD336E6AB
---

# Руководство по управлению пакетами приложения


Узнайте, как делать пакеты приложения доступными для пользователей, а также как управлять определенными сценариями пакетов.

-   [Версии ОС и распространение пакетов](#os-versions-and-package-distribution)
-   [Добавление пакетов для Windows 10 в ранее опубликованное приложение](#adding-packages-for-windows-10-to-a-previously-published-app)
-   [Поддержка совместимости пакетов для Windows Phone 8.1](#maintaining-package-compatibility-for-windows-phone-8-1)
-   [Удаление приложения из Магазина](#removing-an-app-from-the-store)
-   [Удаление пакетов для ранее поддерживавшегося семейства устройств](#removing-packages-for-a-previously-supported-device-family)

## Версии ОС и распространение пакетов


Разные операционные системы могут запускать разные типы пакетов. Если на устройстве пользователя может быть запущено более одного пакета, Магазин Windows предоставит наиболее подходящий вариант.

Как правило, более поздние версии ОС могут запускать пакеты, предназначенные для предыдущих версий ОС для того же семейства устройств. Однако клиенты будут получать эти пакеты, только если приложение не содержит пакет, предназначенный для текущей версии ОС.

Например, на устройствах Windows 10 можно запускать приложения для всех ранее поддерживаемых версий ОС (для семейства устройств). На настольных устройствах Windows 10 можно запускать приложения, которые были созданы для Windows 8.1 или Windows 8; на мобильных устройствах Windows 10 можно запускать приложения, которые были созданы для Windows Phone 8.1, Windows Phone 8 и даже Windows Phone 7.x.

В следующих примерах показаны различные сценарии для приложения, которые включают пакеты, ориентированные на различные версии ОС. В некоторых случаях определенные ограничения, применимые к пакетам, могут не позволять запускать пакеты на всех указанных здесь версиях ОС и типах устройств (например, архитектура должна быть соответствующей), однако эти примеры помогут вам понять, какие версии ОС могут запускать определенные пакеты.

### Пример приложения 1

| Операционная система, для которой предназначен пакет | Операционные системы, которые получат этот пакет |
|-------------------------------------|----------------------------------------------|
| Windows 8.1                         | Настольные устройства Windows 10, Windows 8.1      |
| Windows Phone 8.1                   | Мобильные устройства Windows 10, Windows Phone 8.1 |
| Windows Phone 8                     | Windows Phone 8                              |
| Windows Phone 7.1                   | Windows Phone 7.x                            |

В примере приложения 1 приложение еще не имеет пакетов универсальной платформы Windows (UWP), созданных специально для устройств Windows 10, однако пользователи Windows 10 все равно могут получить это приложение. Эти пользователи получат лучшие из доступных пакетов в зависимости от типа устройства.

### Пример приложения 2

| Операционная система, для которой предназначен пакет  | Операционные системы, которые получат этот пакет |
|--------------------------------------|----------------------------------------------|
| Windows 10 (семейство универсальных устройств) | Windows 10 (все семейства устройств)             |
| Windows 8.1                          | Windows 8.1                                  |
| Windows Phone 8.1                    | Windows Phone 8.1                            |
| Windows Phone 7.1                    | Windows Phone 7.x, Windows Phone 8           |

В примере приложения 2 отсутствует пакет для Windows 8. Пользователи, которые используют все остальные версии ОС, могут получить это приложение.

### Пример приложения 3

| Операционная система, для которой предназначен пакет | Операционные системы, которые получат этот пакет                  |
|-------------------------------------|---------------------------------------------------------------|
| Windows 10 (семейство настольных устройств)  | Настольные устройства Windows 10                                    |
| Windows Phone 8                     | Мобильные устройства Windows 10, Windows Phone 8, Windows Phone 8.1 |

Поскольку в примере приложения 3 отсутствует пакет UWP, предназначенный для семейства мобильных устройств, пользователи мобильных устройств Windows 10 получат пакет для Windows Phone 8. Если в это приложение в будущем добавят пакет, предназначенный для семейства мобильных устройств (или семейства универсальных устройств), этот пакет будет доступен для пользователей мобильных устройств Windows 10 вместо пакета Windows Phone 8.

Также обратите внимание, что в этом примере приложения отсутствует пакет для Windows 7.x.

### Пример приложения 4

| Операционная система, для которой предназначен пакет  | Операционные системы, которые получат этот пакет |
|--------------------------------------|----------------------------------------------|
| Windows 10 (семейство универсальных устройств) | Windows 10 (все семейства устройств)             |

В примере приложения 4 любое устройство под управлением Windows 10 может получить это приложение, но оно не будет доступно клиентам, использующим любые предыдущие версии ОС. Так как пакет UWP ориентирован на семейство универсальных устройств, он будет доступен и для настольных, и для мобильных устройств Windows 10.

## Добавление пакетов для Windows 10 в ранее опубликованное приложение


Если ваше приложение опубликовано в Магазине, и вы хотите обновить его для Windows 10, создайте новую отправку и добавьте пакеты .appxupload UWP на этапе [Пакеты](upload-app-packages.md). После прохождения сертификации вашим приложением пользователи, у которых уже было приложение перед обновлением до Windows 10, смогут получить пакет UWP в виде обновления из Магазина. Пакет UWP также будет доступен для новых приобретений пользователями, использующими Windows 10.

> **Важно!**  Как только пользователь Windows 10 получит ваш пакет UWP, вы не сможете вернуть данного пользователя к использованию пакета для предыдущей версии ОС. Убедитесь, что вы тщательно протестировали пакеты UWP в Windows 10, прежде чем добавлять их к вашей отправке.

Вы можете одновременно обновить любые другие пакеты или внести любые другие изменения в отправку (например, вы можете [создать описания для определенных платформ](create-platform-specific-descriptions.md), которые будут отображаться пользователям более ранних версий ОС). Если хотите, вы можете больше ничего не менять.

> **Примечание.**  Номер версии пакетов Windows 10 должен быть больше, чем номер версии публикуемых пакетов Windows 8, Windows 8.1 и Windows Phone 8.1 (или ранее опубликованных вами пакетов для этих версий ОС) для одного и того же приложения. Дополнительные сведения о нумерации версий в Windows 10 см. в разделе [Нумерация версий пакетов](package-version-numbering.md).

После того, как новая отправка пройдет процедуру сертификации, пакеты UWP станут доступны вместе с любыми другими пакетами, доступными для тех пользователей, которые еще не перешли на Windows 10.

Дополнительные сведения о создании пакетов приложений UWP для Магазина см. в статье [Упаковка универсальных приложений Windows для Windows 10](http://go.microsoft.com/fwlink/p/?LinkId=620193 ).

> **Важно!**  Помните, что если предоставить пакеты, предназначенные для семейства универсальных устройств, каждый пользователь, который использовал ваше приложение в любых более ранних версиях операционных систем (Windows Phone 8, Windows 8.1 и т. д.) и перешел на Windows 10, получит обновление до универсального пакета Windows 10.
> 
> Это происходит, даже если вы исключили определенное семейство устройств на этапе отправки [Цена и доступность](set-app-pricing-and-availability.md#windows-10-device-families), поскольку выбор **Семейства устройств** относится только к новым приобретениям. Если вы не хотите, чтобы любой пользователь предыдущих версий ОС получил ваш новый пакет Windows 10, обязательно обновите элемент [**TargetDeviceFamily**](https://msdn.microsoft.com/library/windows/apps/dn986903) в манифесте APPX для включения только определенного семейства устройств, которое нужно поддерживать.
> 
> Предположим, вы хотите, чтобы только пользователи Windows 8 и Windows 8.1, которые обновились до Windows 10, получили ваше приложение UWP, а пользователи Windows Phone 8.1 и более ранних версий сохранили ранее предоставленные пакеты (ориентированные на устройства Windows Phone 8 или Windows Phone 8.1). Для этого необходимо обновить [**TargetDeviceFamily**](https://msdn.microsoft.com/library/windows/apps/dn986903) в манифесте APPX, чтобы включить только **Windows.Desktop** (для семейства настольных устройств), а не оставлять значение **Windows.Universal** (для семейства универсальных устройств), которое по умолчанию включается Microsoft Visual Studio в манифест APPX. Не отправляйте пакеты UWP, ориентированные на семейства универсальных или мобильных устройств (**Windows.Universal** или **Windows.Universal**). Таким образом ваши пользователи мобильных устройств Windows 10 не получат пакетов UWP.
> 
> Подробнее о семействах устройств: [Руководство по работе с приложениями универсальной платформы Windows (UWP)](https://msdn.microsoft.com/library/windows/apps/dn894631).

## Поддержка совместимости пакетов для Windows Phone 8.1


При обновлении приложений, которые ранее были опубликованы для Windows Phone 8.1, применяются некоторые требования для типов пакетов:

-   Если для приложения опубликован пакет Windows Phone 8.1, все последующие обновления должны содержать пакет Windows Phone 8.1.
-   Если для приложения опубликован пакет Windows Phone 8.1 XAP, последующие обновления должны содержать пакет Windows Phone 8.1 XAP, Windows Phone 8.1 APPX или Windows Phone 8.1 APPXBUNDLE.
-   Если для приложения опубликован пакет Windows Phone 8.1 APPX, последующие обновления должны содержать Windows Phone 8.1 APPX или Windows Phone 8.1 APPXBUNDLE. Другими словами, они не могут содержать пакет Windows Phone 8.1 XAP. Это касается расширения APPXUPLOAD, содержащего также APPX Windows Phone 8.1.
-   Если для приложения опубликован пакет APPXBUNDLE Windows Phone 8.1, последующие обновления должны содержать пакет Windows Phone 8.1 APPXBUNDLE. Другими словами, они не могут содержать пакет Windows Phone 8.1 XAP или Windows Phone 8.1 APPX. Это касается расширения APPXUPLOAD, содержащего также APPXBUNDLE Windows Phone 8.1.

Если не следовать этим правилам, при отправке пакетов возникнут ошибки, которые помешают выполнить отправку.

## Удаление приложения из Магазина


Иногда может потребоваться полностью запретить предлагать приложение клиентам, отменив его публикацию. Для этого щелкните **Сделать приложение недоступным** на странице обзора приложения. Через несколько часов после подтверждения того, что вы хотите сделать приложение недоступным, оно перестанет отображаться в Магазине, а новые клиенты не смогут получить его никаким методом, в том числе используя рекламные коды.

> **Важно!**  Эта операция переопределяет все параметры [распространения и видимости](set-app-pricing-and-availability.md#distribution-and-visibility), выбранные при отправке приложения.

Обратите внимание, что пользователи, которые уже получили это приложение, смогут использовать его (и даже смогут получать обновления, если вы отправите пакеты в дальнейшем).

Сделав приложение недоступным, вы по-прежнему будете видеть его на панели мониторинга. Если вы решите возобновить публикацию приложения, щелкните **Сделать приложение доступным** на странице обзора приложения. В течение нескольких часов после подтверждения приложение станет доступно новым пользователям (если параметры в вашей последней отправке не ограничивают его доступность).

> **Примечание.**  Если вы хотите оставить приложения доступным, но не хотите предлагать его пользователям определенной версии ОС, создайте новую отправку и удалите все пакеты для этой версии ОС. Например, если ранее у вас были пакеты для Windows Phone 8, Windows Phone 8.1 и Windows 10 и вы не хотите предлагать приложение новым клиентам с Windows Phone 8, удалите пакеты Windows Phone 8 из отправки. После того как обновление будет опубликовано, новые клиенты с Windows Phone 8 не смогут приобрести приложение (при этом пользователи, уже купившие это приложение, смогут и дальше его использовать). Приложение останется доступным для новых клиентов с Windows Phone 8.1 и Windows 10.

## Удаление пакетов для ранее поддерживавшегося семейства устройств


При удалении всех пакетов для определенного семейства устройств, ранее поддерживавшегося вашим приложением, вам потребуется подтвердить свои действия, прежде чем вы сможете сохранить внесенные изменения на странице **Пакеты**.

При публикации отправки, удаляющей пакеты для семейства устройств, ранее поддерживавшегося вашим приложением, новые клиенты не смогут скачать приложение на устройства этого семейства. В дальнейшем вы можете в любое время опубликовать еще одно обновление, что вернуть пакеты для этого семейства устройств.

Обратите внимание, что даже после удаления всех пакетов, поддерживающих определенное семейство устройств, существующие клиенты, уже установившие приложение на устройства этого типа, смогут и дальше пользоваться им, а также получать все последующие обновления.

 

 






<!--HONumber=Mar16_HO1-->


