---
Description: При создании новой надстройки в центре партнеров необходимо указать тип продукта и назначить ему идентификатор продукта.
title: Установка типа и кода продукта для надстройки
ms.assetid: 59497B0F-82F0-4CEE-B628-040EF9ED8D3D
ms.date: 10/31/2018
ms.topic: article
keywords: windows 10, uwp, надстройки, iap, длительное использование, потребляемая надстройка, подписка, тип продукта, код продукта, покупка из приложения, внутренний продукт приложения
ms.localizationpriority: medium
ms.openlocfilehash: a6ef1ca71ffcd7b2d445292bfb38a6a8d29e7a74
ms.sourcegitcommit: ca1b5c3ab905ebc6a5b597145a762e2c170a0d1c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/13/2020
ms.locfileid: "79210510"
---
# <a name="set-your-add-on-product-type-and-product-id"></a>Установка типа и кода продукта для надстройки

Надстройка должна быть связана с приложением, созданным в [центре партнеров](https://partner.microsoft.com/dashboard) (даже если вы еще не отправляли его). Вы можете найти кнопку **Создать новую надстройку** на странице **Обзор** или на странице **Надстройки** вашего приложения.

После нажатия кнопки **Создать новую надстройку** вам будет предложено указать тип продукта и присвоить код продукта для вашей надстройки.

## <a name="product-type"></a>Тип продукта

Сначала необходимо указать, какой тип надстройки вы предлагаете. Это выбор относится к тому, как клиенты могут использовать вашу надстройку.

> [!NOTE]
> Невозможно изменить тип продукта после сохранения этой страницы для создания надстройки. Если вы выбрали неверный тип продукта, вы всегда сможете удалить текущую отправку надстройки и начать заново, создав новую.

<span id="durable" />

### <a name="durable"></a>Долговечная

Выберите **Длительное пользование** в качестве типа вашего продукта, если вашу надстройку обычно приобретают только один раз. Эти надстройки часто используются для разблокировки дополнительных функциональных возможностей приложения.

Для надстройки длительного пользования **Срок службы продукта** по умолчанию имеет значение **Всегда**, то есть срок службы надстройки никогда не заканчивается. Вы можете задать другую длительность **Сроку жизни продукта** на этапе [Свойства](enter-add-on-properties.md) процесса отправки надстройки. Если это сделать, срок жизни надстройки закончится по истечение указанного вами периода (от 1 до 365 дней), и в этом случае пользователь сможет приобрести ее повторно после окончания срока жизни надстройки.

### <a name="consumable"></a>Потребляемая надстройка

Если надстройку можно приобрести, использовать (потребить), а затем приобрести еще раз, необходимо будет выбрать один из **потребляемых** типов продукта. Потребляемые надстройки часто используются для таких вещей, как игровая валюта (золото, монеты и т. д.), которая может приобретаться определенными суммами, а затем использоваться пользователем. Подробнее: [Поддержка покупки потребляемых надстроек](../monetize/enable-consumable-add-on-purchases.md).

Существует два типа потребляемых надстроек.
- **Потребляемые надстройки, управляемые разработчиком**: управление балансом и выполнением осуществляется в приложении. Поддерживается на всех версиях операционной системы.
- **Управляемые разработчиком потребляемые надстройки**: баланс отслеживается Microsoft для всех устройств клиента, работающих под управлением Windows 10 версии 1607 или выше; не поддерживается в более ранних версиях ОС. Чтобы использовать этот вариант, родительский продукт должен быть скомпилирован с помощью Windows 10 SDK версии 14393 или выше. Также обратите внимание, что вы не можете отправить надстройку, управляемую магазином, в магазин до публикации родительского продукта (хотя вы можете создать отправку в центре партнеров и начать работу над ней в любое время). Потребуется ввести количество для управляемой Магазином потребляемой надстройки на этапе **Свойства** вашей отправки.

### <a name="subscription"></a>Подписка

Если вы хотите взимать за надстройку плату с пользователей на регулярной основе, выберите **Подписка**.

После первоначального приобретения клиентом надстройки, предоставляемой на условиях подписки, за пользование надстройкой с клиента будет взиматься плата через одинаковые промежутки времени. Клиент может отменить подписку в любое время, чтобы избежать дальнейших расходов. На этапе **Свойства** вашей отправки вам потребуется указать период подписки, а также то, будет ли предлагаться бесплатная пробная версия надстройки.

Надстройки подписки поддерживаются только для клиентов, использующих Windows 10 версии 1607 или выше. Родительское приложение должно быть скомпилировано с помощью пакета SDK для Windows 10 версии 14393 или выше, и оно должно использовать API-интерфейс покупок из приложения в пространстве имен **Windows.Services.Store**, а не **Windows.ApplicationModel.Store**. Дополнительные сведения см. в разделе [Включение надстроек подписки для вашего приложения](../monetize/enable-subscription-add-ons-for-your-app.md).

Перед публикацией надстроек подписки в магазин необходимо отправить родительский продукт (хотя вы можете создать отправку в центре партнеров и начать работу с ней в любое время).

## <a name="product-id"></a>Product ID

Независимо от выбранного типа продукта необходимо будет ввести уникальный код продукта для надстройки. Это имя будет использоваться для идентификации надстройки в центре партнеров. Этот идентификатор можно использовать для [ссылки на надстройку в коде](../monetize/in-app-purchases-and-trials.md#how-to-use-product-ids-for-add-ons-in-your-code).

Вот несколько вещей, которые следует помнить при выборе кода продукта:

-   Идентификатор продукта должен быть уникальным в пределах родительского продукта.
-   Вы не сможете изменять или удалять код продукта надстройки после публикации.
-   Длина кода продукта не может быть больше 100 символов.
-   Идентификатор продукта не может содержать следующие символы: **&lt; &gt; \*% &: \\? +,**
-   Клиенты не увидят код продукта. (Позже можно ввести [заголовок и описание](create-add-on-descriptions.md) для отображения пользователям).
-   Если ранее опубликованное приложение поддерживает Windows Phone 8,1 или более ранней версии, в ИДЕНТИФИКАТОРе продукта необходимо использовать только буквенно-цифровые символы, точки и/или символы подчеркивания. Если вы используете любые другие типы символов, надстройка не будет доступна для покупки клиентам, использующим Windows Phone 8.1 или более ранние версии.

 
