---
author: normesta
description: Это руководство поможет вам создавать пользовательские интерфейсы UWP на основе принципов проектирования Fluent Design непосредственно в приложениях WPF и Windows Forms.
title: Элементы управления UWP в классических приложениях
ms.author: normesta
ms.date: 09/21/2018
ms.topic: article
ms.prod: windows
ms.technology: uwp, windows forms, wpf
keywords: Windows 10, uwp, windows forms, wpf
ms.localizationpriority: medium
ms.openlocfilehash: 67669dd30f376df823f2f9ad08ad69c193cdb602
ms.sourcegitcommit: 8e30651fd691378455ea1a57da10b2e4f50e66a0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/10/2018
ms.locfileid: "4501090"
---
# <a name="uwp-controls-in-desktop-applications"></a>Элементы управления UWP в классических приложениях

> [!NOTE]
> API-интерфейсы и элементы управления, описанные в этой статье в настоящее время доступны как предварительной версии для разработчиков. Несмотря на то, что мы рекомендуем вам оценить их в коде прототипа теперь, мы не рекомендуем использовать их в рабочем коде в данный момент. Эти API-интерфейсы и элементы управления будет продолжать улучшаться и стабилизации в будущих выпусках Windows. Майкрософт не дает никаких гарантий, явных или подразумеваемых, в отношении предоставленной здесь информации.

Windows 10 теперь позволяет использовать элементы управления UWP в классических приложениях не UWP, таким образом, вы можете улучшить внешний вид и функциональные возможности своих классических приложений с помощью новейшие возможности пользовательского интерфейса Windows 10, которые доступны только через элементы управления UWP. Это означает, что можно использовать функции UWP, например [Windows Ink](../design/input/pen-and-stylus-interactions.md) и элементы управления, которые поддерживают [Системы проектирования Fluent Design](../design/fluent-design-system/index.md) в существующий WPF, Windows Forms и приложения C++ Win32. Этот сценарий разработчика иногда называется *острова XAML*.

Мы предоставляем несколько способов для использования в приложениях WPF, Windows Forms и C++ Win32, в зависимости от технологии или платформы, которую вы используете, о-ва XAML.

## <a name="wrapped-controls"></a>Перенос элементов управления

WPF и Windows Forms можно использовать ряд оболочку элементы управления UWP в наборе [Средств сообщества Windows](https://docs.microsoft.com/windows/uwpcommunitytoolkit/). Упоминаться эти элементы управления как *оболочку элементов управления* , так как они переносить интерфейс и функциональные возможности элементов управления UWP. Можно добавить эти элементы управления в область проектирования вашего проекта WPF или Windows Forms и затем использовать их как любой другой WPF и Windows Forms элемент управления в конструкторе.

> [!NOTE]
> Перенос элементов управления недоступны для классических приложений C++ Win32. Приложения такого типа необходимо использовать [XAML UWP, API размещения](#uwp-xaml-hosting-api).

Следующие элементы управления оболочку UWP в настоящее время доступны для приложений WPF и Windows Forms. Дополнительные элементы управления UWP в оболочку будут удалены для будущих выпусках набора средств сообщества Windows.

| Элемент управления | Минимальная версия операционной системы | Описание |
|-----------------|-------------------------------|-------------|
| [WebView](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/webview) | Windows10 версии1803 | Использует механизм визуализации Microsoft Edge для отображения содержимого веб-страницы. |
| [WebViewCompatible](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/webviewcompatible) | Windows7 | Предоставляет версию **WebView** , совместимый с несколько версий ОС. Этот элемент управления использует механизм визуализации Microsoft Edge для отображения веб-содержимого в Windows 10 версии 1803 и более поздней версии и модуля отрисовки Internet Explorer для отображения веб-содержимого в более ранних версиях Windows 10, Windows 8.x и Windows 7. |
| [InkCanvas](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/inkcanvas)<br>[InkToolbar](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/inktoolbar) | Windows 10 Insider Preview SDK сборки 17709 | Предоставить surface и связанные панель для взаимодействия с пользователем на основе Windows Ink в классическом приложении Windows Forms или WPF. |
| [MediaPlayerElement](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/mediaplayerelement) | Windows 10 Insider Preview SDK сборки 17709 | Внедряет представление, что потоки, а также мультимедийного содержимого, например видео в классического приложения Windows Forms или WPF. |

## <a name="host-controls"></a>Стандартные элементы управления

Для сценариев, выходящие за распространяется доступных элементов управления оболочку WPF и Windows Forms можно также использовать элемент управления [WindowsXamlHost](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/windowsxamlhost) в наборе [Средств сообщества Windows](https://docs.microsoft.com/windows/uwpcommunitytoolkit/). Этот элемент управления можно размещать любой управления UWP, который является производным от [**Windows.UI.Xaml.UIElement**](https://docs.microsoft.com/uwp/api/windows.ui.xaml.uielement), включая любой элемент управления UWP, предоставляемые Windows SDK, а также для пользовательских элементов управления. Этот элемент управления поддерживает сборки Windows 10 Insider Preview SDK 17709 и более поздних выпусков.

> [!NOTE]
> Стандартные элементы управления доступны не для классических приложений C++ Win32. Приложения такого типа необходимо использовать [XAML UWP, API размещения](#uwp-xaml-hosting-api).

## <a name="uwp-xaml-hosting-api"></a>XAML UWP, API размещения

Если у вас есть приложение C++ Win32, можно использовать *XAML UWP, API размещения* для размещения любой элемент управления UWP, который является производным от [**Windows.UI.Xaml.UIElement**](https://docs.microsoft.com/uwp/api/windows.ui.xaml.uielement) в любой элемент пользовательского интерфейса в приложении, которое содержит дескриптор связанного окна (HWND). Этот API-Интерфейс впервые появился в Windows 10 Insider Preview SDK сборки 17709. Дополнительные сведения об использовании этого API см. в разделе [с помощью XAML, размещение API в классическом приложении](using-the-xaml-hosting-api.md).

> [!NOTE]
> Классические приложения C++ Win32 необходимо использовать XAML UWP, API размещения для размещения элементов управления UWP. Оболочку и элементами управления узла недоступны для этих типов приложений. Для приложений WPF и Windows Forms мы рекомендуем использовать оболочку элементы управления и стандартные элементы управления в наборе средств сообщества Windows вместо использования UWP XAML API размещения. Эти элементы управления использовать XAML UWP, API размещения внутри организации и предоставляют простой процесса разработки. Тем не менее можно использовать XAML UWP, API размещения непосредственно в приложениях WPF и Windows Forms, если вы решили.

## <a name="architecture-overview"></a>Общие сведения об архитектуре

Вот краткий обзор этих элементов управления с точки зрения архитектуры. Имена, используемые в этой схеме, могут быть изменены.  

![Архитектура размещаемых элементов управления](images/host-controls.png)

API-интерфейсы, представленные в нижней части этой схемы, входят в состав Windows SDK. Элементы управления, что вы добавите в конструктор, предоставляются как пакеты NuGet в наборе средств сообщества Windows.

Эти новые элементы управления имеют ограничения, поэтому перед их использованием следует проверить, какие возможности еще не поддерживаются и какие работают при применении обходного решения.

## <a name="limitations"></a>Ограничения

### <a name="whats-supported"></a>Поддерживаемые возможности

В целом поддерживаются все возможности, если другое не указано явным образом в списке ниже.

### <a name="whats-supported-only-with-workarounds"></a>Возможности, которые поддерживаются только при использовании обходных решений

:heavy_check_mark: Размещение нескольких готовых элементов управления внутри нескольких окон. Каждое окно необходимо размещать в собственном потоке.

:heavy_check_mark: Использование ``x:Bind`` с размещаемыми элементами управления. Необходимо объявить модель данных в библиотеке .NET Standard.

:heavy_check_mark: Сторонние элементы управления на основе C#. Если у вас есть исходный код стороннего элемента управления, можно выполнить компиляцию с зависимостью от этого кода.

### <a name="whats-not-yet-supported"></a>Неподдерживаемые возможности

:no_entry_sign: Средства специальных возможностей, которые эффективно работают с приложениями и размещенными элементами управления.

:no_entry_sign: Локализованное содержимое в элементах управления, которое вы добавляете в приложения, не содержащие пакет приложения для Windows.

:no_entry_sign: Ссылки на ресурсы, созданные в XAML в приложениях, не содержащих пакет приложения для Windows.

:no_entry_sign: Элементы управления, правильно реагирующие на изменения в количестве точек на дюйм и масштабе.

:no_entry_sign: Добавление элемента управления **WebView** в пользовательский элемент управления (в потоке, вне потока или вне процесса).

:no_entry_sign: Эффект системы проектирования Fluent Design под названием [Эффект отображения](https://docs.microsoft.com/windows/uwp/design/style/reveal).

:no_entry_sign: Встроенный рукописный ввод, @Places и @People для элементов управления вводом.

:no_entry_sign: Назначение сочетаний клавиш.

:no_entry_sign: Сторонние элементы управления на основе C++.

:no_entry_sign: Размещение пользовательских элементов управления.

Элементы в этом списке, скорее всего, будут меняться, так как мы продолжаем совершенствовать процесс переноса возможностей Fluent на компьютер.  
