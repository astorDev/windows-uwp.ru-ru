---
description: Это руководство поможет вам создавать пользовательские интерфейсы UWP на основе принципов проектирования Fluent Design непосредственно в приложениях WPF и Windows Forms.
title: Элементы управления UWP в классических приложениях
ms.date: 01/11/2019
ms.topic: article
keywords: Windows 10, uwp, windows forms, wpf
ms.localizationpriority: medium
ms.custom: RS5
ms.openlocfilehash: bf25fea6ca6e8809c12324ae57a42cc712ded2a5
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57619709"
---
# <a name="uwp-controls-in-desktop-applications"></a>Элементы управления UWP в классических приложениях

> [!NOTE]
> О-ва XAML в настоящее время доступны в виде developer preview. Несмотря на то, что мы рекомендуем вам опробовать их в собственном коде прототип сейчас, не рекомендуется использовать их в рабочем коде в данный момент. Эти API-интерфейсы и элементы управления будут продолжать с развитием и стабилизации в будущих выпусках Windows. Майкрософт не дает никаких гарантий, явных или подразумеваемых, в отношении предоставленной здесь информации.
>
> Если у вас есть отзыв о XAML о-ва, создание нового вопроса в [WindowsCommunityToolkit репозитория](https://github.com/windows-toolkit/WindowsCommunityToolkit/issues) , а также оставить свои комментарии существует. Если вы хотите отправить свой отзыв в частном порядке, вы можете отправить его в XamlIslandsFeedback@microsoft.com. Свои предложения и сценарии критически важны для нас.

Windows 10 теперь позволяет использовать элементы управления универсальной платформы Windows в настольных приложениях не универсальной платформы Windows, таким образом, вы можете улучшить представление и функциональные возможности существующих классических приложений с новейшими функциями пользовательского интерфейса Windows 10, которые доступны только через элементы управления универсальной платформы Windows. Это означает, что можно использовать функции универсальной платформы Windows, такие как [рукописного ввода Windows](../design/input/pen-and-stylus-interactions.md) и элементы управления, поддерживающие [Fluent Design System](../design/fluent-design-system/index.md) в существующих WPF, Windows Forms и приложения C++ Win32. Этот сценарий разработчика иногда называется *XAML о-ва*.

Мы предоставляем несколько способов использования острова XAML в приложениях WPF, Windows Forms и C++ Win32, в зависимости от технологии или платформы, которую вы используете.

## <a name="wrapped-controls"></a>Упакованное элементов управления

Приложения WPF и Windows Forms можно использовать набор выбранных оболочку элементов управления универсальной платформы Windows в [Windows Community Toolkit](https://docs.microsoft.com/windows/uwpcommunitytoolkit/). Мы называем эти элементы управления как *элементов управления в оболочку* так, как они wrap интерфейса и функциональных возможностей конкретного элемента управления универсальной платформы Windows. Можно добавить эти элементы управления непосредственно в область конструктора проекта WPF или Windows Forms и затем использовать их как и любой другой WPF или Windows Forms элемент управления в конструкторе.

> [!NOTE]
> Упакованное элементы управления недоступны для классических приложений C++ Win32. Приложения такого типа необходимо использовать [XAML UWP, интерфейс API размещения](#uwp-xaml-hosting-api).

Следующие элементы управления упакованного универсальной платформы Windows в настоящее время доступны для приложений WPF и Windows Forms. Дополнительные элементы управления универсальной платформы Windows в оболочку планируются для будущих версий набора средств сообщества Windows.

| Элемент управления | Минимальная поддерживаемая ОС | Описание |
|-----------------|-------------------------------|-------------|
| [WebView](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/webview) | Windows 10 версии 1803 | Использует механизм отрисовки Microsoft Edge для отображения веб-содержимого. |
| [WebViewCompatible](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/webviewcompatible) | Windows 7 | Предоставляет версию **WebView** совместимый с еще большим количеством версий операционной системы. Этот элемент управления использует механизм отрисовки Microsoft Edge для отображения веб-содержимого в Windows 10 версии 1803 и более поздних версий, а также механизм отрисовки Internet Explorer для отображения веб-содержимого в более ранних версиях Windows 10, Windows 8.x и Windows 7. |
| [InkCanvas](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/inkcanvas)<br>[InkToolbar](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/inktoolbar) | Windows 10 версии 1809 (сборка 17763) | Укажите поверхности и сопутствующих инструментов для взаимодействия с пользователем на основе рукописного ввода Windows в своего настольного приложения Windows Forms или WPF. |
| [MediaPlayerElement](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/mediaplayerelement) | Windows 10 версии 1809 (сборка 17763) | Внедряет представление, которое выполняет потоковую передачу и отображает содержимое носителя, например видео в приложения Windows Forms или WPF для настольных компьютеров. |
| [MapControl](https://docs.microsoft.com/en-us/windows/communitytoolkit/controls/wpf-winforms/mapcontrol) | Windows 10 версии 1809 (сборка 17763) | Позволяет отображать карту символьную или фотографического качества в своего настольного приложения Windows Forms или WPF. |

## <a name="host-controls"></a>Элементы управления ведущего приложения

Для сценариев не устраняемых с помощью доступных элементов управления упакованного приложения WPF и Windows Forms можно также использовать [WindowsXamlHost](https://docs.microsoft.com/windows/communitytoolkit/controls/wpf-winforms/windowsxamlhost) контролировать [Windows Community Toolkit](https://docs.microsoft.com/windows/uwpcommunitytoolkit/). Этот элемент управления можно разместить любой элемент управления универсальной платформы Windows, который является производным от [ **Windows.UI.Xaml.UIElement**](https://docs.microsoft.com/uwp/api/windows.ui.xaml.uielement), включая любой элемент управления универсальной платформы Windows, предоставляемый пакетом SDK для Windows, а также собственные пользовательские элементы управления. Этот элемент управления поддерживает сборки пакета SDK для Windows 10 Insider Preview 17709 и более поздних версиях.

> [!NOTE]
> Элементы управления ведущего приложения недоступны для классических приложений C++ Win32. Приложения такого типа необходимо использовать [XAML UWP, интерфейс API размещения](#uwp-xaml-hosting-api).

## <a name="uwp-xaml-hosting-api"></a>Интерфейс API размещения XAML UWP

Если у вас есть приложение C++ Win32, можно использовать *XAML UWP, интерфейс API размещения* для размещения любого элемента управления универсальной платформы Windows, который является производным от [ **Windows.UI.Xaml.UIElement** ](https://docs.microsoft.com/uwp/api/windows.ui.xaml.uielement) в любой элемент пользовательского интерфейса в вашей приложение, которое содержит дескриптор окна (HWND). Этот API был введен в Windows 10 Insider Preview SDK сборки 17709. Дополнительные сведения об использовании этого API см. в разделе [с помощью XAML, интерфейс API размещения в настольном приложении](using-the-xaml-hosting-api.md).

> [!NOTE]
> Классическим приложениям C++ Win32 необходимо использовать XAML UWP, интерфейс API размещения для размещения элементов управления универсальной платформы Windows. Упакованное элементы управления и элементы управления ведущего приложения недоступны для подобных приложений. Для приложений WPF и Windows Forms мы рекомендуем использовать оболочку элементы управления и элементы управления ведущего приложения в наборе средств сообщества Windows вместо XAML UWP интерфейс API размещения. Эти элементы управления использовать XAML UWP, интерфейс API размещения внутренним образом и обеспечивают более простую рабочую среду разработки. Тем не менее можно использовать XAML UWP, интерфейс API размещения непосредственно в приложениях WPF и Windows Forms, если вы выберете.

## <a name="architecture-overview"></a>Обзор архитектуры

Вот краткий обзор этих элементов управления с точки зрения архитектуры. Имена, используемые в этой схеме, могут быть изменены.  

![Архитектура размещаемых элементов управления](images/host-controls.png)

API-интерфейсы, представленные в нижней части этой схемы, входят в состав Windows SDK. Элементы управления, что вы добавите в конструктор, предоставляются как пакеты NuGet в наборе средств сообщества Windows.

Эти новые элементы управления имеют ограничения, поэтому перед их использованием следует проверить, какие возможности еще не поддерживаются и какие работают при применении обходного решения.

## <a name="limitations"></a>Ограничения

### <a name="whats-supported"></a>Поддерживаемые возможности

В целом поддерживаются все возможности, если другое не указано явным образом в списке ниже.

### <a name="whats-supported-only-with-workarounds"></a>Возможности, которые поддерживаются только при использовании обходных решений

:heavy_check_mark: Размещение нескольких элементов управления папки "Входящие" внутри несколько окон. Каждое окно необходимо размещать в собственном потоке.

:heavy_check_mark: С помощью ``x:Bind`` с размещенные элементы управления. Необходимо объявить модель данных в библиотеке .NET Standard.

:heavy_check_mark: C#-на основе сторонние элементы управления. Если у вас есть исходный код стороннего элемента управления, можно выполнить компиляцию с зависимостью от этого кода.

### <a name="whats-not-yet-supported"></a>Неподдерживаемые возможности

: no_entry_sign: Специальные возможности, которые эффективно работать в приложения и размещенные элементы управления.

: no_entry_sign: Локализованное содержимое в элементы управления, добавляемые к приложениям, которые не содержат пакет приложения Windows.

: no_entry_sign: Ссылки на активы, внесенные в XAML в приложениях, которые не содержат пакет приложения Windows.

: no_entry_sign: Элементы управления, должным образом отвечать на запросы на изменения DPI и масштаб.

: no_entry_sign: Добавление **WebView** управления для пользовательского элемента управления, (на поток, из потока или из proc).

: no_entry_sign: [Показывать выделение](https://docs.microsoft.com/windows/uwp/design/style/reveal) Fluent эффект.

: no_entry_sign: Встроенный рукописный ввод, @Places, и @People для элементов управления вводом.

: no_entry_sign: Назначение сочетаний клавиш.

: no_entry_sign: Элементы управления сторонних основе C++.

: no_entry_sign: Размещение настраиваемых пользовательских элементов управления.

Элементы в этом списке, скорее всего, будут меняться, так как мы продолжаем совершенствовать процесс переноса возможностей Fluent на компьютер.  
