---
author: normesta
description: Это руководство поможет вам создавать пользовательские интерфейсы UWP на основе принципов проектирования Fluent Design непосредственно в приложениях WPF и Windows Forms.
title: Элементы управления UWP в классических приложениях
ms.author: normesta
ms.date: 09/21/2018
ms.topic: article
ms.prod: windows
ms.technology: uwp, windows forms, wpf
keywords: Windows 10, uwp, windows forms, wpf
ms.localizationpriority: medium
ms.openlocfilehash: d5a4865f403685752225a729bf68abb15237dd90
ms.sourcegitcommit: 194ab5aa395226580753869c6b66fce88be83522
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/24/2018
ms.locfileid: "4156587"
---
# <a name="uwp-controls-in-desktop-applications"></a>Элементы управления UWP в классических приложениях

> [!NOTE]
> API-интерфейсы и элементы управления, описанные в этой статье в настоящее время доступны как ознакомительная версия для разработчиков. Несмотря на то, что мы рекомендуем вам оценить их в коде прототипа теперь, мы не рекомендуем использовать их в рабочем коде в данный момент. Эти API-интерфейсы и элементы управления будет продолжать улучшаться и стабилизация в будущих выпусках Windows. Майкрософт не дает никаких гарантий, явных или подразумеваемых, в отношении предоставленной здесь информации.

В следующем выпуске Windows 10 мы переносим элементы управления UWP для не UWP Классические приложения таким образом, вы можете улучшить внешний вид и функциональные возможности своих существующих классических приложений с помощью новейшие возможности пользовательского интерфейса Windows 10, которые доступны только через управления UWP . Это означает, что можно использовать функции UWP, такие как [Системы проектирования Fluent](../design/fluent-design-system/index.md) и [Windows Ink](../design/input/pen-and-stylus-interactions.md) в существующих WPF, Windows Forms и приложения Win32 C/C++. Этот сценарий разработчика иногда называется *острова XAML*.

Мы будет предоставляют несколько способов использования XAML, о-ва в классических приложениях, в зависимости от технологии или framework, которую вы используете.

## <a name="wrapped-controls"></a>Перенос элементов управления

Мы будет предоставляют возможность выбора оболочку элементы управления UWP для приложений WPF и Windows Forms в наборе [Средств сообщества Windows](https://docs.microsoft.com/windows/uwpcommunitytoolkit/). Можно добавить эти элементы управления в область проектирования вашего проекта WPF или Windows Forms и затем использовать как любой другой WPF и Windows Forms элемент управления в конструкторе. Упоминаться эти элементы управления как *элементы управления в оболочку* из-за них упакованы интерфейс и функциональные возможности определенные элементы управления UWP.

Попробуйте этот вне сегодня с помощью [WebView](https://docs.microsoft.com/windows/communitytoolkit/controls/webview) управления в наборе средств сообщества Windows. Этот элемент управления использует механизм визуализации Microsoft Edge для отображения содержимого веб-страницы в приложении WPF или Windows Forms.  

Мы также планированию дополнительные элементы управления UWP оболочку для WPF и Windows Forms приложений в будущих выпусках набора средств сообщества Windows, в том числе:

* **WebViewCompatible**. Этот элемент управления является версию **WebView** , совместимая с Windows 10 и предыдущих версий Windows. Этот элемент управления использует механизм визуализации Microsoft Edge для отображения веб-содержимого в Windows 10, а также механизм визуализации для отображения содержимого веб-страницы в более ранних версиях Internet Explorer.
* **Элементы управления InkCanvas** и **InkToolbar**. Эти элементы управления обеспечивают surface и связанное с панели инструментов для взаимодействия с пользователем на основе Windows Ink в классическом приложении Windows Forms или WPF.
* **MediaPlayerElement**. Этот элемент управления внедряет представление, которое создает поток и отрисовывает мультимедийного содержимого, например видео в свое классическое приложение Windows Forms или WPF.

Дополнительные UWP по словам элементы управления для WPF и Windows Forms приложений должны будущих выпусках набора средств сообщества Windows.

> [!NOTE]
> Элементы управления оболочку недоступны для классических приложений Win32 C/C++. Приложения такого типа необходимо использовать [XAML UWP, API размещения](#uwp-xaml-hosting-api).

## <a name="host-controls"></a>Стандартные элементы управления

Для сценариев, выходящие за распространяется доступных элементов управления оболочку WPF и Windows Forms можно также использовать элемент управления [WindowsXamlHost](https://github.com/Microsoft/WindowsCommunityToolkit/blob/master/docs/controls/WindowsXAMLHost.md) в наборе [Средств сообщества Windows](https://docs.microsoft.com/windows/uwpcommunitytoolkit/). Этот элемент управления можно размещать любой элемент управления UWP, производный от [**Windows.UI.Xaml.UIElement**](https://docs.microsoft.com/uwp/api/windows.ui.xaml.uielement), включая любого элемента управления UWP, предоставляемые Windows SDK, а также для пользовательских элементов управления.

> [!NOTE]
> Стандартные элементы управления доступны не для классических приложений Win32 C/C++. Приложения такого типа необходимо использовать [XAML UWP, API размещения](#uwp-xaml-hosting-api).

## <a name="uwp-xaml-hosting-api"></a>XAML UWP, API размещения

Если у вас есть приложение WinRT C/C++, можно использовать *XAML UWP, API размещения* для размещения любого элемента управления UWP, который является производным от [**Windows.UI.Xaml.UIElement**](https://docs.microsoft.com/uwp/api/windows.ui.xaml.uielement) в любой элемент пользовательского интерфейса в приложении, которое содержит дескриптор связанного окна (HWND). Дополнительные сведения об использовании этого API см. в разделе [с помощью XAML, размещение API-интерфейса в приложении для настольных систем](using-the-xaml-hosting-api.md).

> [!NOTE]
> Классические приложения Win32 C/C++ необходимо использовать XAML UWP, API размещения для размещения элементов управления UWP. Оболочку и элементами управления узла недоступны для этих типов приложений. Для приложений WPF и Windows Forms мы рекомендуем использовать оболочку элементы управления и элементы управления ведущего приложения в наборе средств сообщества Windows вместо использования UWP XAML API размещения. Эти элементы управления использовать XAML UWP, API размещения внутри организации и предоставляют простой процесса разработки. Тем не менее можно использовать XAML UWP, API размещения непосредственно в приложениях WPF и Windows Forms, если вы решили.

## <a name="architecture-overview"></a>Общие сведения об архитектуре

Вот краткий обзор этих элементов управления с точки зрения архитектуры. Имена, используемые в этой схеме, могут быть изменены.  

![Архитектура размещаемых элементов управления](images/host-controls.png)

API-интерфейсы, представленные в нижней части этой схемы, входят в состав Windows SDK. Элементы управления, что вы добавите в конструктор, предоставляются как пакеты NuGet в наборе средств сообщества Windows.

Эти новые элементы управления имеют ограничения, поэтому перед их использованием следует проверить, какие возможности еще не поддерживаются и какие работают при применении обходного решения.

## <a name="limitations"></a>Ограничения

### <a name="whats-supported"></a>Поддерживаемые возможности

В целом поддерживаются все возможности, если другое не указано явным образом в списке ниже.

### <a name="whats-supported-only-with-workarounds"></a>Возможности, которые поддерживаются только при использовании обходных решений

:heavy_check_mark: Размещение нескольких готовых элементов управления внутри нескольких окон. Каждое окно необходимо размещать в собственном потоке.

:heavy_check_mark: Использование ``x:Bind`` с размещаемыми элементами управления. Необходимо объявить модель данных в библиотеке .NET Standard.

:heavy_check_mark: Сторонние элементы управления на основе C#. Если у вас есть исходный код стороннего элемента управления, можно выполнить компиляцию с зависимостью от этого кода.

### <a name="whats-not-yet-supported"></a>Неподдерживаемые возможности

:no_entry_sign: Средства специальных возможностей, которые эффективно работают с приложениями и размещенными элементами управления.

:no_entry_sign: Локализованное содержимое в элементах управления, которое вы добавляете в приложения, не содержащие пакет приложения для Windows.

:no_entry_sign: Ссылки на ресурсы, созданные в XAML в приложениях, не содержащих пакет приложения для Windows.

:no_entry_sign: Элементы управления, правильно реагирующие на изменения в количестве точек на дюйм и масштабе.

:no_entry_sign: Добавление элемента управления **WebView** в пользовательский элемент управления (в потоке, вне потока или вне процесса).

:no_entry_sign: Эффект системы проектирования Fluent Design под названием [Эффект отображения](https://docs.microsoft.com/windows/uwp/design/style/reveal).

:no_entry_sign: Встроенный рукописный ввод, @Places и @People для элементов управления вводом.

:no_entry_sign: Назначение сочетаний клавиш.

:no_entry_sign: Сторонние элементы управления на основе C++.

:no_entry_sign: Размещение пользовательских элементов управления.

Элементы в этом списке, скорее всего, будут меняться, так как мы продолжаем совершенствовать процесс переноса возможностей Fluent на компьютер.  
