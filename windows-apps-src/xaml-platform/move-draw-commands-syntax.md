---
description: Информация о командах перемещения и рисования (мини-языке), которые вы можете использовать для указания геометрии путей в качестве значения атрибута XAML.
title: Синтаксис команд перемещения и рисования
ms.assetid: 7772BC3E-A631-46FF-9940-3DD5B9D0E0D9
ms.date: 02/08/2017
ms.topic: article
keywords: windows 10, uwp
ms.localizationpriority: medium
ms.openlocfilehash: 604ad25bb65486b3b388a9a03d7503b0c1ce9c03
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57632529"
---
# <a name="move-and-draw-commands-syntax"></a>Синтаксис команд перемещения и рисования


Информация о командах перемещения и рисования (мини-языке), которые вы можете использовать для указания геометрии путей в качестве значения атрибута XAML. Команды перемещения и рисования используются многими средствами разработки и графическими инструментами, умеющими выводить векторную графику или фигуру как формат сериализации и обмена.

## <a name="properties-that-use-move-and-draw-command-strings"></a>Свойства, использующие строки команд перемещения и рисования

Синтаксис команд перемещения и рисования поддерживается конвертером внутренних типов для XAML, который анализирует команды и создает графическое представление времени выполнения. В сущности, это представление — конечный набор векторов, готовый для представления. Сами векторы не завершают подробности представления; вам еще нужно будет задать другие значения для элементов. Для объекта [**Path**](/uwp/api/Windows.UI.Xaml.Shapes.Path) вам также требуются значения для [**Fill**](/uwp/api/Windows.UI.Xaml.Shapes.Shape.Fill), [**Stroke**](https://msdn.microsoft.com/library/windows/apps/br243383) и других свойств. Затем этот объект **Path** необходимо тем или иным образом подключить к визуальному дереву. Для объекта [**PathIcon**](https://msdn.microsoft.com/library/windows/apps/dn252722) задайте свойство [**Foreground**](https://msdn.microsoft.com/library/windows/apps/dn251974).

Существует два свойства в среде выполнения Windows, можно использовать строку, представляющую перемещения и команд рисования. [**Path.Data** ](https://msdn.microsoft.com/library/windows/apps/br243356) и [ **PathIcon.Data**](https://msdn.microsoft.com/library/windows/apps/dn252723). Если вы задаете одно из этих свойств при помощи указания команд перемещения и рисования, вы обычно задаете его как значение атрибута XAML вместе с другими необходимыми атрибутами этого элемента. Если не вдаваться в подробности, это выглядит так:

```xml
<Path x:Name="Arrow" Fill="White" Height="11" Width="9.67"
  Data="M4.12,0 L9.67,5.47 L4.12,10.94 L0,10.88 L5.56,5.47 L0,0.06" />
```

[**PathGeometry.Figures** ](https://msdn.microsoft.com/library/windows/apps/br210169) можно также использовать перемещение и команд рисования. Теоретически объект [**PathGeometry**](https://msdn.microsoft.com/library/windows/apps/br210168), использующий команды перемещения и рисования, можно объединить с другими типами [**Geometry**](/uwp/api/Windows.UI.Xaml.Media.Geometry) в объекте [**GeometryGroup**](https://msdn.microsoft.com/library/windows/apps/br210057), который затем можно использовать как значение для [**Path.Data**](https://msdn.microsoft.com/library/windows/apps/br243356). Но это применяется намного реже, чем использование команд перемещения и рисования для данных с определенным атрибутом.

## <a name="using-move-and-draw-commands-versus-using-a-pathgeometry"></a>Использование команд перемещения и рисования в сравнении с использованием **PathGeometry**

Для XAML среды выполнения Windows команды перемещения и рисования создают [**PathGeometry**](https://msdn.microsoft.com/library/windows/apps/br210168) с одним объектом [**PathFigure**](https://msdn.microsoft.com/library/windows/apps/br210143) со значением свойства [**Figures**](https://msdn.microsoft.com/library/windows/apps/br210169). Каждая команда рисования создает производный класс [**PathSegment**](https://msdn.microsoft.com/library/windows/apps/br210174) в наборе [**Segments**](https://msdn.microsoft.com/library/windows/apps/br210164) этого одного **PathFigure**, команда перемещения изменяет [**StartPoint**](https://msdn.microsoft.com/library/windows/apps/br210166), а при существовании команды закрытия для [**IsClosed**](https://msdn.microsoft.com/library/windows/apps/br210159) устанавливается значение **true**. По этой структуре можно перемещаться как по объектной модели, если вы проверяете значения **Data** во время выполнения.

## <a name="the-basic-syntax"></a>Основной синтаксис

Синтаксис команд перемещения и рисования в основном можно представить так:

1.  Начните с необязательного правила заливки. Обычно оно указывается только в случае, если нужно изменить действующее по умолчанию правило **EvenOdd**. (Подробнее об **EvenOdd** будет рассказано позже.)
2.  Укажите ровно одно команду перемещения.
3.  Укажите одну или несколько команд рисования.
4.  Укажите команду закрытия. Команду закрытия можно не указывать, но тогда фигура останется открытой (это используется редко).

Общие правила этого синтаксиса:

-   Каждая команда представлена ровно одной буквой.
-   Эта буква может быть в верхнем или нижнем регистре. Регистр имеет значение, как будет описано ниже.
-   Обычно после каждой команды, кроме команды закрытия, идет одно или несколько чисел.
-   Если после команды идет несколько чисел, разделите их запятыми или пробелами.

**\[**_fillRule_ **\]** _moveCommand_ _drawCommand_ **\[**  _drawCommand_ **\* \]** **\[** _closeCommand_**\]**

Многие команды рисования используют точки, при этом вы предоставляете значение _x,y_. Каждый раз, когда вы видите \* _точки_ заполнитель, можно предположить, можно предоставить два десятичных значений для _x, y_ значение точки.

Пробел часто можно опустить, когда результат однозначен. Фактически можно опустить все пробелы, если вы используете запятые в качестве разделителей для всех наборов чисел (точки и размер). Например, такое использование допустимо: `F1M0,58L2,56L6,60L13,51L15,53L6,64z`. Но для ясности между командами чаще ставятся пробелы.

Не используйте запятые в качестве десятичных разделителей для дробных чисел. Строка команды интерпретируется языком XAML и не учитывает характерные для языка и региональных параметров соглашения о форматировании чисел, отличные от тех, что используются в языковом стандарте **en-us**.

## <a name="syntax-specifics"></a>Особенности синтаксиса

**Заполнение правила**

Существует два возможных значения для правила необязательно заливки: **F0** или **F1**. ( **F** всегда является буквой верхнего регистра.) **F0** значение по умолчанию; она создает **EvenOdd** заполнения поведение, поэтому ее не указать обычно. Используйте **F1**, чтобы получить поведение заливки **Nonzero**. Эти значения заливки совпадают со значениями перечисления [**FillRule**](https://msdn.microsoft.com/library/windows/apps/br210030).

**Команда перемещения**

Указывает начальную точку для новой фигуры.

| Синтаксис |
|--------|
| `M ` _startPoint_ <br/>- или -<br/>`m` _startPoint_|

| Термин | Описание |
|------|-------------|
| _startPoint_ | [**точка**](https://msdn.microsoft.com/library/windows/apps/br225870) <br/>Начальная точка новой фигуры.|

**M** в верхнем регистре означает, что *startPoint* — это абсолютная координата; **m** в нижнем регистре означает, что *startPoint* — это смещение относительно предыдущей точки или же относительно (0,0), если предыдущей точки не было.

**Примечание**  можно указать несколько точек после команды перемещения. К этим точкам проводится линия, как если бы вы указали команду линии. Однако такой стиль не рекомендуется; используйте вместо этого команду выделенной линии.

**Команды рисования**

Команда рисования может состоять из нескольких команд фигур: линия, горизонтальная линия, вертикальная линия, кривая Безье третьего порядка, кривая Безье второго порядка, гладкая кривая Безье третьего порядка, гладкая кривая Безье второго порядка и дуга эллипса.

Для всех команд рисования регистр имеет значение. Буквы в верхнем регистре означают абсолютные координаты, а буквы в нижнем регистре означают координаты относительно предыдущей команды.

Контрольные точки для сегмента указываются относительно конечной точки предыдущего сегмента. При последовательном вводе нескольких команд одного типа можно опустить повторяющуюся команду. Например, команда `L 100,200 300,400` эквивалентна `L 100,200 L 300,400`.

**Средство командной строки**

Создает прямую линию между текущей точкой и указанной конечной точкой. `l 20 30` и `L 20,30` — примеры допустимых команд линии. Определяет эквивалент объекта [**LineGeometry**](https://msdn.microsoft.com/library/windows/apps/br210117).

| Синтаксис |
|--------|
| `L` _Конечная точка_ <br/>- или -<br/>`l` _Конечная точка_ |

| Термин | Описание |
|------|-------------|
| endPoint | [**точка**](https://msdn.microsoft.com/library/windows/apps/br225870)<br/>Конечная точка линии.|

**Команда рисования горизонтальной линии**

Создает горизонтальную линию между текущей точкой и указанной х-координатой. `H 90` — пример допустимой команды горизонтальной линии.

| Синтаксис |
|--------|
| `H ` _X_ <br/> - или - <br/>`h ` _X_ |

| Термин | Описание |
|------|-------------|
| x | [**Double**](https://msdn.microsoft.com/library/windows/apps/system.double.aspx) <br/> X-координата конечной точки линии. |

**Команда рисования вертикальной линии**

Создает вертикальную линию между текущей точкой и указанной y-координатой. `v 90` — пример допустимой команды вертикальной линии.

| Синтаксис |
|--------|
| `V ` _Y_ <br/> - или - <br/> `v ` _Y_ |

| Термин | Описание |
|------|-------------|
| *Y* | [**Double**](https://msdn.microsoft.com/library/windows/apps/system.double.aspx) <br/> Y-координата конечной точки линии. |

**Команда кривой Безье третьего порядка**

Создает кривую Безье третьего порядка между текущей точкой и указанной конечной точкой при помощи двух указанных контрольных точек (*controlPoint1* и *controlPoint2*). `C 100,200 200,400 300,200` — пример допустимой команды кривой. Определяет эквивалент объекта [**PathGeometry**](https://msdn.microsoft.com/library/windows/apps/br210168) с объектом [**BezierSegment**](https://msdn.microsoft.com/library/windows/apps/br228068).

| Синтаксис |
|--------|
| `C ` *controlPoint1* *controlPoint2* *конечной точки* <br/> - или - <br/> `c ` *controlPoint1* *controlPoint2* *конечной точки* |

| Термин | Описание |
|------|-------------|
| *controlPoint1* | [**точка**](https://msdn.microsoft.com/library/windows/apps/br225870) <br/> Первая контрольная точка кривой, определяющая начальный тангенс кривой. |
| *controlPoint2* | [**точка**](https://msdn.microsoft.com/library/windows/apps/br225870) <br/> Вторая контрольная точка кривой, определяющая конечный тангенс кривой. |
| *Конечная точка* | [**точка**](https://msdn.microsoft.com/library/windows/apps/br225870) <br/> Конечная точка кривой. | 

**Команды кривой Безье второго порядка**

Создает кривую Безье второго порядка между текущей точкой и указанной конечной точкой при помощи указанной контрольной точки (*controlPoint*). `q 100,200 300,200` — пример допустимой команды кривой Безье второго порядка. Определяет эквивалент объекта [**PathGeometry**](https://msdn.microsoft.com/library/windows/apps/br210168) с объектом [**QuadraticBezierSegment**](https://msdn.microsoft.com/library/windows/apps/br210249).

| Синтаксис |
|--------|
| `Q ` *Конечная точка controlPoint* <br/> - или - <br/> `q ` *Конечная точка controlPoint* |

| Термин | Описание |
|------|-------------|
| *controlPoint* | [**точка**](https://msdn.microsoft.com/library/windows/apps/br225870) <br/> Контрольная точка кривой, определяющая начальный и конечный тангенсы кривой. |
| *Конечная точка* | [**точка**](https://msdn.microsoft.com/library/windows/apps/br225870)<br/> Конечная точка кривой. |

**Гладкая диаграмма команда кривой Безье третьего порядка**

Создает кривую Безье третьего порядка между текущей точкой и указанной конечной точкой. Первой контрольной точкой считается отражение второй контрольной точки предыдущей команды относительно текущей точки. Если предыдущей команды нет или она не является командой кривой Безье третьего порядка или гладкой кривой Безье третьего порядка, считается, что первая контрольная точка совпадает с текущей точкой. Вторая контрольная точка — контрольная точка для конца кривой — указывается с помощью *controlPoint2*. Например, `S 100,200 200,300` — допустимая команда гладкой кривой Безье третьего порядка. Эта команда определяет эквивалент объекта [**PathGeometry**](https://msdn.microsoft.com/library/windows/apps/br210168) с объектом [**BezierSegment**](https://msdn.microsoft.com/library/windows/apps/br228068), где был предыдущий сегмент кривой.

| Синтаксис |
|--------|
| `S` *controlPoint2* *конечной точки* <br/> - или - <br/>`s` *Конечная точка controlPoint2* |

| Термин | Описание |
|------|-------------|
| *controlPoint2* | [**точка**](https://msdn.microsoft.com/library/windows/apps/br225870) <br/> Контрольная точка кривой, определяющая конечный тангенс кривой. |
| *Конечная точка* | [**точка**](https://msdn.microsoft.com/library/windows/apps/br225870)<br/> Конечная точка кривой. |

**Гладкая диаграмма команды кривой Безье второго порядка**

Создает кривую Безье второго порядка между текущей точкой и указанной конечной точкой. Контрольной точкой считается отражение контрольной точки предыдущей команды относительно текущей точки. Если предыдущей команды нет или она не является командой кривой Безье второго порядка или гладкой кривой Безье второго порядка, контрольная точка совпадает с текущей точкой. Эта команда определяет эквивалент объекта [**PathGeometry**](https://msdn.microsoft.com/library/windows/apps/br210168) с объектом [**QuadraticBezierSegment**](https://msdn.microsoft.com/library/windows/apps/br210249), где был предыдущий сегмент кривой.

| Синтаксис |
|--------|
| `T` *controlPoint* *конечной точки* <br/> - или - <br/> `t` *controlPoint* *конечной точки* |

| Термин | Описание |
|------|-------------|
| *controlPoint* | [**точка**](https://msdn.microsoft.com/library/windows/apps/br225870)<br/> Контрольная точка кривой, определяющая начальный и конечный тангенсы кривой. |
| *Конечная точка* | [**точка**](https://msdn.microsoft.com/library/windows/apps/br225870)<br/> Конечная точка кривой. |

**Команда рисования эллиптической дуги**

Создает дугу эллипса между текущей точкой и указанной конечной точкой. Определяет эквивалент объекта [**PathGeometry**](https://msdn.microsoft.com/library/windows/apps/br210168) с объектом [**ArcSegment**](https://msdn.microsoft.com/library/windows/apps/br228054).

| Синтаксис |
|--------|
| `A ` *размер* *rotationAngle* *isLargeArcFlag* *sweepDirectionFlag* *конечной точки* <br/> - или - <br/>`a ` *sizerotationAngleisLargeArcFlagsweepDirectionFlagendPoint* |

| Термин | Описание |
|------|-------------|
| *Размер* | [**Размер**](https://msdn.microsoft.com/library/windows/apps/br225995)<br/>Радиусы дуги по оси x и по оси y. |
| *rotationAngle* | [**Double**](https://msdn.microsoft.com/library/windows/apps/system.double.aspx) <br/> Поворот эллипса в градусах. |
| *isLargeArcFlag* | Значение «1», если угол дуги должен быть больше или равен 180 градусам. В противном случае — значение «0». |
| *sweepDirectionFlag* | Значение «1», если дуга рисуется в направлении положительного угла. В противном случае — значение «0». |
| *Конечная точка* | [**точка**](https://msdn.microsoft.com/library/windows/apps/br225870) <br/> Конечная точка дуги.|
 
**Команда закрытия**

Завершает текущую фигуру и создает линию, соединяющую текущую точку с начальной точкой фигуры. Эта команда создает соединение линий (угол) между последним и первым сегментом фигуры.

| Синтаксис |
|--------|
| `Z` <br/> - или - <br/> `z ` |

**Синтаксис точки**

Описывает координаты точки (x и y). См. также [**Point**](https://msdn.microsoft.com/library/windows/apps/br225870).

| Синтаксис |
|--------|
| *x*,*y*<br/> - или - <br/>*x* *y* |

| Термин | Описание |
|------|-------------|
| *x* | [**Double**](https://msdn.microsoft.com/library/windows/apps/system.double.aspx) <br/> X-координата точки. |
| *Y* | [**Double**](https://msdn.microsoft.com/library/windows/apps/system.double.aspx) <br/> Y-координата точки. |

**Дополнительные замечания**

Вместо стандартного числового значения вы также можете использовать следующие специальные значения. Эти значения указываются с учетом регистра.

-   **Бесконечность**: Представляет **положительную бесконечность**.
-   **\-Бесконечность**: Представляет **отрицательную бесконечность**.
-   **NaN**: Представляет **NaN**.

Вместо десятичных или целых чисел можно использовать экспоненциальное представление. Например, `+1.e17` — допустимое значение.

## <a name="design-tools-that-produce-move-and-draw-commands"></a>Средства проектирования, создающие команды перемещения и рисования

С помощью **пера** средство и других инструментов рисования в Blend для Microsoft Visual Studio 2015 обычно предоставляют [ **путь** ](/uwp/api/Windows.UI.Xaml.Shapes.Path) объекта, с перемещением и команд рисования.

Вы можете увидеть существующие данные команд перемещения и рисования в некоторых частях элемента управления, определенных в стандартных XAML-шаблонах для элементов управления в среде выполнения Windows. Например, некоторые элементы управления используют [**PathIcon**](https://msdn.microsoft.com/library/windows/apps/dn252722), который содержит данные, определенные как команды перемещения и рисования.

Существуют средства экспорта и подключаемые модули, доступные для других распространенных средств разработки, которые работают с векторной графикой и умеют выводить вектор в форме XAML. Они обычно создают объекты [**Path**](/uwp/api/Windows.UI.Xaml.Shapes.Path) в контейнере макета с помощью команд перемещения и рисования для [**Path.Data**](https://msdn.microsoft.com/library/windows/apps/br243356). В XAML может быть несколько элементов **Path**, чтобы можно было применять разные кисти. Многие из этих экспорта или подключаемые модули изначально были написаны для Windows Presentation Foundation (WPF) XAML или Silverlight, но синтаксис XAML путь совпадает с XAML среды выполнения Windows. Чаще всего можно использовать блоки XAML из средства экспорта и вставлять их прямо в XAML-страницу среды выполнения Windows. (Но вы не сможете использовать элемент **RadialGradientBrush**, если он был частью преобразованного XAML, так как XAML среды выполнения Windows не поддерживает эту кисть.)

## <a name="related-topics"></a>Статьи по теме

* [Рисование фигур](https://msdn.microsoft.com/library/windows/apps/mt280380)
* [Использование кисти](https://msdn.microsoft.com/library/windows/apps/mt280383)
* [**Path.Data**](https://msdn.microsoft.com/library/windows/apps/br243356)
* [**PathIcon**](https://msdn.microsoft.com/library/windows/apps/dn252722)

