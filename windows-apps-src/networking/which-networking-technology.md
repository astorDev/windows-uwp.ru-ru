---
ms.assetid: 2CC2E526-DACB-4008-9539-DA3D0C190290
description: Краткий обзор доступных сетевых технологий для разработчиков приложений UWP с рекомендациями о том, как выбрать технологии, наиболее подходящие для определенного приложения.
title: Какую сетевую технологию выбрать?
ms.date: 02/08/2017
ms.topic: article
keywords: windows 10, uwp
ms.localizationpriority: medium
ms.openlocfilehash: c4b1a0dab6bf1eb3301ba9fb97abd95fd896c53e
ms.sourcegitcommit: 76e8b4fb3f76cc162aab80982a441bfc18507fb4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/29/2020
ms.locfileid: "74259167"
---
# <a name="which-networking-technology"></a>Какую сетевую технологию выбрать?


Краткий обзор доступных сетевых технологий для разработчиков приложений UWP с рекомендациями о том, как выбрать технологии, наиболее подходящие для определенного приложения.

## <a name="sockets"></a>Сокеты

Используйте [Сокеты](sockets.md), если необходимо использовать собственный протокол при подключении к другому устройству.

Для разработчиков приложений универсальной платформы Windows (UWP) доступны два варианта реализации сокетов: [**Windows.Networking.Sockets**](https://docs.microsoft.com/uwp/api/Windows.Networking.Sockets) и [Winsock](https://docs.microsoft.com/windows/desktop/WinSock/windows-sockets-start-page-2). Если вы создаете новый код, предпочтительнее использовать Windows.Networking.Sockets из-за современного API, предназначенного для использования разработчиками UWP. Если вы используете кроссплатформенные библиотеки сети или другой существующий код Winsock, либо предпочитаете API Winsock, то вам подойдет этот вариант.

### <a name="when-to-use-sockets"></a>Когда следует использовать сокеты

-   Обе реализации сокетов позволяют взаимодействовать с другими устройствами с помощью протоколов на ваш выбор с использованием TCP или UDP.

-   Выберите API сокетов, максимально соответствующие вашим потребностям, исходя из практики использования и на основе существующего кода, который может применяться.

### <a name="when-not-to-use-sockets"></a>Когда не следует использовать сокеты

-   Не реализуйте собственный стек протокола HTTP(S) с использованием сокетов. Используйте [**HttpClient**](https://docs.microsoft.com/uwp/api/Windows.Web.Http.HttpClient).
-   Если соединения WebSocket (классы [**StreamWebSocket**](https://docs.microsoft.com/uwp/api/Windows.Networking.Sockets.StreamWebSocket) и [**MessageWebSocket**](https://docs.microsoft.com/uwp/api/Windows.Networking.Sockets.MessageWebSocket) ) соответствуют вашим требованиям в отношении связи (TCP к/от веб-сервера), возможно, лучше использовать их, чем тратить свое время и ресурсы, реализуя аналогичные функции с сокетами.

## <a name="websockets"></a>Websockets

Протокол [WebSockets](websockets.md) определяет механизм быстрого и безопасного двустороннего взаимодействия между клиентом и сервером через Интернет. Данные передаются мгновенно с помощью полнодуплексного подключения через единственный сокет, при этом обе конечные точки могут отправлять и получать сообщения в реальном времени. Соединения WebSocket отлично подходят для использования в играх в реальном времени, предусматривающих мгновенные уведомления социальных сетей и отображение свежей информации (например, статистика игры), для чего требуется безопасная и быстрая передача данных. Разработчики UWP могут использовать классы [**StreamWebSocket**](https://docs.microsoft.com/uwp/api/Windows.Networking.Sockets.StreamWebSocket) и [**MessageWebSocket**](https://docs.microsoft.com/uwp/api/Windows.Networking.Sockets.MessageWebSocket) для подключения к серверам, поддерживающим протокол Websocket.

### <a name="when-to-use-websockets"></a>Когда следует использовать Websockets

-   Если необходимо организовать постоянный обмен данными между устройством и сервером.

### <a name="when-not-to-use-websockets"></a>Когда не следует использовать Websockets

-   Если отправка и получение данных происходят нечасто, возможно, будет проще делать отдельные HTTP-запросы от устройства к серверу, чем устанавливать и поддерживать соединение WebSocket.
-   Соединения Websocket могут не подходить для ситуаций, когда предполагается передача большого объема данных. Рекомендуется выполнить моделирование потоков данных и имитацию трафика через соединения WebSocket перед использованием их в вашем проекте.

## <a name="httpclient"></a>HttpClient

Используйте [HttpClient](httpclient.md) (и остальные API пространства имен [**Windows.Web.Http**](https://docs.microsoft.com/uwp/api/Windows.Web.Http) ) при использовании HTTP(S) для связи с веб-службой или веб-сервером.

### <a name="when-to-use-httpclient"></a>Когда следует использовать HttpClient

-   При использовании HTTP(S) для связи с веб-службами.
-   При загрузке или скачивании небольшого количества файлов малого объема.
-   Если соединения WebSocket (классы [**StreamWebSocket**](https://docs.microsoft.com/uwp/api/Windows.Networking.Sockets.StreamWebSocket) и [**MessageWebSocket**](https://docs.microsoft.com/uwp/api/Windows.Networking.Sockets.MessageWebSocket)) соответствуют вашим требованиям в отношении связи (TCP к/от веб-сервера), а рассматриваемый веб-сервер поддерживает соединения WebSocket, возможно, лучше использовать их, чем тратить свое время и ресурсы, реализуя аналогичные функции с HttpClient.
-   Когда вы выполняете потоковую передачу содержимого через сеть.

### <a name="when-not-to-use-httpclient"></a>Когда не следует использовать HttpClient

-   Если вы перемещаете большие файлы или большое количество файлов, рекомендуется применять фоновую передачу данных.
-   Если вы хотите иметь возможность ограничивать пределы отправки и скачивания на основании типа соединения или если вам нужно сохранить этап выполнения и возобновить отправку/скачивание после прерывания, необходимо использовать фоновую передачу данных.
-   При взаимодействии двух устройств, которые не предназначены для выполнения функций HTTP-сервера, используйте сокеты. Не пытайтесь предоставлять собственные HTTP-серверам и использовать [HttpClient](httpclient.md) для взаимодействия с ним.

## <a name="background-transfers"></a>Фоновая передача данных

Используйте [API фоновой передачи данных](background-transfers.md) для надежного перемещения файлов по сети. API фоновой передачи данных обеспечивает дополнительные функции отправки и скачивания, которые работают в фоновом режиме в случае приостановки приложения и сохраняются в случае завершения работы приложения. API контролирует состояние сети и автоматически приостанавливает, а затем возобновляет передачу данных в случае потери соединения. Кроме того, эти процессы передачи данных регистрируются приложениями Data Sense и Battery Sense, а это означает, что процесс скачивания корректируется в зависимости от текущего состояния подключения и батареи устройства. Эти возможности пригодятся, если приложение запущено на мобильном устройстве или на устройствах, работающих от аккумулятора. API идеально подходит для отправки и скачивания больших файлов с помощью HTTP(S). Протокол FTP также поддерживается, но только для скачиваний.

Новая функция фоновой передачи данных в Windows 10 представляет собой возможность активировать постобработку после завершения передачи файлов, чтобы можно было обновить локальные каталоги, активировать другие приложения или уведомить пользователя о завершении скачивания.

### <a name="when-to-use-background-transfers"></a>Когда следует использовать фоновую передачу данных

-   Используйте фоновую передачу данных для надежной передачи больших файлов или большого количества файлов.
-   Используйте фоновую передачу данных с группами завершения фоновой передачи данных, если необходимо выполнить постобработку передачи файлов с фоновой задачей.
-   Используйте фоновую передачу данных, если хотите иметь возможность продолжить текущую передачу после прерывания работы сети.
-   Используйте фоновую передачу данных, если хотите иметь возможность изменить поведение передачи в зависимости от условий сети, например при использовании тарифного плана с оплатой за трафик.

### <a name="when-not-to-use-background-transfers"></a>Когда не следует использовать фоновую передачу данных

-   Если вы перемещаете небольшое количество файлов малого объема и не собираетесь выполнять постобработку после завершения передачи данных, рекомендуется использовать методы PUT или POST [**HttpClient**](https://docs.microsoft.com/uwp/api/Windows.Web.Http.HttpClient) .
-   Если нужно выполнить потоковую передачу данных и использовать их локально при их поступлении, используйте [**HttpClient**](https://docs.microsoft.com/uwp/api/Windows.Web.Http.HttpClient).

## <a name="additional-network-related-technologies"></a>Дополнительные технологии, касающиеся сетей

### <a name="connection-quality"></a>Качество подключения

API [**Windows.Networking.Connectivity**](https://docs.microsoft.com/uwp/api/Windows.Networking.Connectivity) позволяет получать доступ к данным о сетевом подключении, расходах и использовании. Дополнительные сведения об использовании этого API см. в разделе [Доступ к состоянию сетевого подключения и управление стоимостью сетевого подключения](https://docs.microsoft.com/previous-versions/windows/apps/hh452983(v=win.10))

### <a name="dns-service-discovery"></a>Обнаружение служб DNS

API [**Windows.Networking.ServiceDiscovery.Dnssd**](https://docs.microsoft.com/uwp/api/Windows.Networking.ServiceDiscovery.Dnssd) позволяет сообщать о сетевой службе другим устройствам в сети по протоколу DNS-SD, описанному в документе [RFC 2782](https://www.rfc-archive.org/getrfc.php?rfc=2782) организации IETF.

### <a name="communicating-over-bluetooth"></a>Обмен данными по Bluetooth

Помимо всего прочего, API [**Windows.Devices.Bluetooth**](https://docs.microsoft.com/uwp/api/Windows.Devices.Bluetooth) позволяет использовать Bluetooth для подключения к другим устройствам и передачи данных. Подробную информацию см. в разделе [Отправка и получение файлов с помощью RFCOMM](https://docs.microsoft.com/windows/uwp/devices-sensors/send-or-receive-files-with-rfcomm).

### <a name="push-notifications-wns"></a>Push-уведомления (WNS)

API [**Windows.Networking.PushNotifications**](https://docs.microsoft.com/uwp/api/Windows.Networking.PushNotifications) позволяет использовать службу уведомлений Windows (WNS) для получения push-уведомлений по сети. Дополнительную информацию об использовании этого API см. в [обзоре служб push-уведомлений Windows (WNS)](https://docs.microsoft.com/windows/uwp/controls-and-patterns/tiles-and-notifications-windows-push-notification-services--wns--overview)

### <a name="near-field-communications"></a>Технологии связи ближнего действия (NFC)

API [**Windows.Networking.Proximity**](https://docs.microsoft.com/uwp/api/Windows.Networking.Proximity) позволяет использовать технологии связи ближнего действия для приложений, поддерживающих функции бесконтактного взаимодействия или касания, для упрощения передачи данных. Дополнительные сведения об использовании этого API см. в разделе [Поддержка бесконтактного взаимодействия и касания](https://docs.microsoft.com/previous-versions/windows/apps/hh465229(v=win.10)).

### <a name="rssatom-feeds"></a>Каналы RSS и Atom

API [**Windows.Web.Syndication**](https://docs.microsoft.com/uwp/api/Windows.Web.Syndication) позволяет управлять веб-каналом в форматах RSS и Atom. Дополнительные сведения об использовании этого API см. в разделе [Каналы RSS и Atom](web-feeds.md).

### <a name="wi-fi-enumeration-and-connection-control"></a>Перечисление подключений Wi-Fi и управление подключением

API [**Windows.Devices.WiFi**](https://docs.microsoft.com/uwp/api/Windows.Devices.WiFi) позволяет перечислять Wi-Fi-адаптеры, искать доступные сети Wi-Fi и подключать адаптер к сети.

### <a name="radio-control"></a>Радиоуправление

API [**Windows.Devices.Radios**](https://docs.microsoft.com/uwp/api/Windows.Devices.Radios) позволяет находить и управлять радиосвязью на локальном устройстве, включая Wi-Fi и Bluetooth.

### <a name="wi-fi-direct"></a>Wi-Fi Direct

API [**Windows.Devices.WiFiDirect**](https://docs.microsoft.com/uwp/api/Windows.Devices.WiFiDirect) позволяет подключаться и взаимодействовать с другими локальными устройствами с помощью Wi-Fi Direct для создания специальных локальных беспроводных сетей.

### <a name="wi-fi-direct-services"></a>Службы Wi-Fi Direct

API [**Windows.Devices.WiFiDirect.Services**](https://docs.microsoft.com/uwp/api/Windows.Devices.WiFiDirect.Services) позволяет предоставлять доступ к службам Wi-Fi Direct и подключаться к ним. Принцип работы служб Wi-Fi Direct заключается в том, что одно устройство в динамической сети Wi-Fi Direct (поставщик услуги) предлагает различные функции для другого устройства (заказчика услуги) через соединение Wi-Fi Direct.

### <a name="mobile-operators"></a>Мобильные операторы

Windows 10 предоставляет широкой аудитории разработчиков некоторые API, которые ранее были доступны только производителям устройств и мобильным операторам. Необходимо учитывать, что хотя эти API теперь доступны, на них распространяются определенные ограничения, в соответствии с которыми некоторые функции приложений должны быть перед публикацией утверждены Майкрософт. Приоритетное право на фактическое использование этих API по-прежнему будут иметь производители устройств и мобильные операторы.

### <a name="network-operations"></a>Сетевые операции

API [**Windows.Networking.NetworkOperators**](https://docs.microsoft.com/uwp/api/Windows.Networking.NetworkOperators) предназначен, в первую очередь, для настройки конфигурации телефонов и подготовки их к эксплуатации. В связи с этим разрешение на использование функций, позволяющих контролировать эти процессы, имеют исключительно производители устройств и поставщики телекоммуникационных услуг.

### <a name="sms"></a>SMS

Пространство имен [**Windows.Devices.Sms**](https://docs.microsoft.com/uwp/api/Windows.Devices.Sms) воспринимает SMS и другие связанные сообщения как низкоуровневые объекты. Оно предназначено для мобильных операторов для обеспечения функции отправки SMS из приложений и управляется с помощью функции, которая не будет доступна большинству разработчиков приложений. Если вы создаете приложения для обработки сообщений, вам необходимо использовать API [**Windows.ApplicationModel.Chat**](https://docs.microsoft.com/uwp/api/Windows.ApplicationModel.Chat), поскольку он предназначен для работы не только с SMS-сообщениями, но и с сообщениями из других источников, например, из приложений для переписки в реальном времени, что обеспечивает гораздо больше возможностей для чатов и обмена сообщениями.

