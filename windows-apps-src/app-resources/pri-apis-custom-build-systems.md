---
Description: С пакетным ресурсом, индексирования (PRI) API-интерфейсов можно разработать систему настраиваемой сборки для ресурсов приложения универсальной платформы Windows. Система сборки сможет создавать файлы индекса ресурсов пакета (PRI), управлять версиями и создавать дампы файлов любого уровня сложности, требуемого приложению UWP.
title: API-интерфейсы индексирования ресурсов пакета (PRI) и пользовательские системы сборки
template: detail.hbs
ms.date: 05/07/2018
ms.topic: article
keywords: Windows 10, uwp, ресурс, изображение, средство, MRT, квалификатор
ms.localizationpriority: medium
ms.openlocfilehash: b300630ff4a9b6735cb7891444da4333532735c1
ms.sourcegitcommit: ac7f3422f8d83618f9b6b5615a37f8e5c115b3c4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/29/2019
ms.locfileid: "66359380"
---
# <a name="package-resource-indexing-pri-apis-and-custom-build-systems"></a>API-интерфейсы индексирования ресурсов пакета (PRI) и пользовательские системы сборки
С помощью [API-интерфейсов индексирования ресурсов пакета (PRI)](https://docs.microsoft.com/windows/desktop/menurc/pri-indexing-reference) можно создать настраиваемую систему сборки для ресурсов приложения UWP. Система сборка сможет создавать файлы индекса ресурсов пакета (PRI), управлять версиями и создавать дампы файлов (в формате XML) пакетов (PRI) любого уровня сложности, требуемого приложению UWP. Если вы используете систему сборки, которая применяет средство командной строки MakePri.exe (см. раздел [Компиляция ресурсов вручную с помощью MakePri.exe](makepri-exe-command-options.md)), то для повышения производительности и улучшения управления рекомендуется вызывать API-интерфейсы PRI вместо MakePri.exe.

API-интерфейсы PRI появились в Windows SDK для Windows 10 версии 1803. API-интерфейсы принимает вид интерфейсов Win32 для Windows, то есть вы можете вызывать их несколькими способами. Их можно вызывать напрямую из приложения Win32 или их помощью [метода вызова платформы](/dotnet/framework/interop/consuming-unmanaged-dll-functions?branch=live) из приложения .NET или даже приложения UWP.

В сценариях в этом разделе показаны вызовы API-интерфейсов PRI из проекта консольного приложения Win32 Visual C++ для Windows. Подробнее см. в разделе [Система управления ресурсами](resource-management-system.md).

Ограничение на размер PRI-файла — 64 КБ.

> [!NOTE]
> Это ограничение вряд ли станет проблемой, так как, скорее всего, вы не будете отправлять приложение системы сборки в Microsoft Store. Но если вы решили создать собственную систему сборки в виде приложение UWP, то это будет необычное приложение UWP, которое невозможно отправить в Microsoft Store. Это связано с тем, что приложение UWP, которое использует методы вызова платформы, не пройдет сертификацию Microsoft Store. Обратите внимание, что в этом случае вызовы платформы *будут существовать только в вашей системе сборки*, но *не* в вашем приложении UWP (для которого вы создаете PRI-файлы).

## <a name="scenario-walkthroughs"></a>Пошаговые руководства для сценариев
|Раздел|Описание|
|-|-|
|[Сценарий 1. Создания файла PRI, из строковых ресурсов и файлов ресурсов](pri-apis-scenario-1.md)|В этом сценарии мы создаем новое приложение для нашей системы сборки. Мы создадим индексатор ресурсов и добавим в него строки и другие типы ресурсов. Затем мы создадим PRI-файл и его дамп.|

## <a name="important-apis"></a>Важные API
* [Ресурс Package, индексирование ссылки (PRI)](https://docs.microsoft.com/windows/desktop/menurc/pri-indexing-reference)

## <a name="related-topics"></a>См. также
* [Компиляция ресурсов вручную с помощью MakePri.exe](makepri-exe-command-options.md)
* [Использование неуправляемых функций DLL](/dotnet/framework/interop/consuming-unmanaged-dll-functions?branch=live)
* [Система управления ресурсами](resource-management-system.md)
