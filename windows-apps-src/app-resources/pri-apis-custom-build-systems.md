---
Description: С помощью API индексирования ресурсов пакета (PRI) можно разработать пользовательскую систему сборки для ресурсов приложения UWP. Система сборки сможет создавать файлы индекса ресурсов пакета (PRI), управлять версиями и создавать дампы файлов любого уровня сложности, требуемого приложению UWP.
title: Индексирование ресурсов пакета и пользовательские системы сборки
template: detail.hbs
ms.date: 05/07/2018
ms.topic: article
keywords: Windows 10, uwp, ресурс, изображение, актив, MRT, квалификатор
ms.localizationpriority: medium
ms.openlocfilehash: ebbec3a89d795dde5c47d3dce76f77be06feebe2
ms.sourcegitcommit: ae9c1646398bb5a4a888437628eca09ae06e6076
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/03/2019
ms.locfileid: "74734929"
---
# <a name="package-resource-indexing-pri-apis-and-custom-build-systems"></a>API-интерфейсы индексирования ресурсов пакета (PRI) и пользовательские системы сборки
С помощью [интерфейсов API индексирования ресурсов пакета (PRI)](https://docs.microsoft.com/windows/desktop/menurc/pri-indexing-reference) можно создать настраиваемую систему сборки для ресурсов приложения UWP. Система сборка сможет создавать файлы индекса ресурсов пакета (PRI), управлять версиями и создавать дампы файлов (в формате XML) пакетов (PRI) любого уровня сложности, требуемого приложению UWP. Если вы используете систему сборки, которая применяет средство командной строки MakePri.exe (см. раздел [Компиляция ресурсов вручную с помощью MakePri.exe](makepri-exe-command-options.md)), то для повышения производительности и улучшения управления рекомендуется вызывать API-интерфейсы PRI вместо MakePri.exe.

API-интерфейсы PRI появились в Windows SDK для Windows 10 версии 1803. API-интерфейсы принимает вид интерфейсов Win32 для Windows, то есть вы можете вызывать их несколькими способами. Их можно вызывать напрямую из приложения Win32 или их помощью [метода вызова платформы](/dotnet/framework/interop/consuming-unmanaged-dll-functions?branch=live) из приложения .NET или даже приложения UWP.

В сценариях в этом разделе показаны вызовы API-интерфейсов PRI из проекта консольного приложения Win32 Visual C++ для Windows. Подробнее см. в разделе [Система управления ресурсами](resource-management-system.md).

Ограничение на размер PRI-файла — 64 КБ.

> [!NOTE]
> Это ограничение вряд ли станет проблемой, так как, скорее всего, вы не будете отправлять приложение системы сборки в Microsoft Store. Но если вы решили создать собственную систему сборки в виде приложение UWP, то это будет необычное приложение UWP, которое невозможно отправить в Microsoft Store. Это связано с тем, что приложение UWP, которое использует методы вызова платформы, не пройдет сертификацию Microsoft Store. Обратите внимание, что в этом случае вызовы платформы *будут существовать только в вашей системе сборки*, но *не* в вашем приложении UWP (для которого вы создаете PRI-файлы).

## <a name="scenario-walkthroughs"></a>Пошаговые руководства для сценариев
|Статья|Описание|
|-|-|
|[Сценарий 1. Создание PRI-файла из строковых ресурсов и файлов ресурсов](pri-apis-scenario-1.md)|В этом сценарии мы создаем новое приложение для нашей системы сборки. Мы создадим индексатор ресурсов и добавим в него строки и другие типы ресурсов. Затем мы создадим PRI-файл и его дамп.|

## <a name="important-apis"></a>Важные API
* [Справочник по индексированию ресурсов пакета (PRI)](https://docs.microsoft.com/windows/desktop/menurc/pri-indexing-reference)

## <a name="related-topics"></a>Статьи по теме
* [Компиляция ресурсов вручную с помощью MakePri.exe](makepri-exe-command-options.md)
* [Использование неуправляемых функций DLL](/dotnet/framework/interop/consuming-unmanaged-dll-functions?branch=live)
* [Система управления ресурсами](resource-management-system.md)
