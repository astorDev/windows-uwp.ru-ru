---
title: Монетизация для игр
description: Реализация рекламных баннеров, промежуточной видеорекламы и покупок из приложения в играх универсальной платформы Windows (UWP) в Windows 10.
ms.assetid: 79f4e177-d8e7-45d3-8a78-31d4c2fe298a
ms.date: 02/08/2017
ms.topic: article
keywords: windows 10, uwp, игры, монетизация
ms.localizationpriority: medium
ms.openlocfilehash: 92d85f81be25eed5f0a43cafb4bb34d9f879c827
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57606339"
---
#  <a name="monetization-for-games"></a>Монетизация для игр

Если вы разработчик игр, монетизация ваших продуктов даст вам возможность поддерживать свой бизнес на плаву и продолжать делать то, что вам нравится: создавать отличные игры. В этой статье вы найдете обзор способов монетизации игр для универсальной платформы Windows (UWP) и узнаете, как их реализовать.

В прошлом разработчики просто устанавливали цену на свою игру и ждали, когда пользователи ее купят. Сегодня, однако, у вас есть и другие варианты. Вы можете распространять игру через физические магазины, продавать игру в Интернете (как в виде физических, так и в виде программных копий) или дать пользователям возможность играть в игру бесплатно, но при этом просматривать в ней рекламу или покупать что-либо в процессе игры. Кроме того, игры больше не являются «самодостаточными» продуктами. Зачастую в них есть дополнительное содержимое, которое можно покупать в дополнение к основной игре.

Для продвижения и монетизации игры UWP существуют следующие способы:
* Поместите игры в Microsoft Store, который является защищенной, Интернет-магазине предложения [по всему миру распространения](#worldwide-distribution-channel). Пользователи по всему миру смогут купить вашу игру в Интернете по [установленной вами цене](#set-a-price-for-your-game).
* Использование API-интерфейсов в Windows SDK для создания [покупок из игры](#in-game-purchases). Игроки могут покупать какие-либо товары из вашей игры или приобретать дополнительное содержимое, например дополнительное снаряжение, обложки, карты или игровые уровни.
* Использование API-интерфейсов в пакете [Microsoft Advertising SDK](https://aka.ms/ads-sdk-uwp) для показа рекламы из рекламных сетей. Вы можете [показывать рекламу в своей игре](#display-ads-in-your-game) и предоставлять игрокам возможность просматривать видеорекламу в обмен на какие-либо бонусы в игре.
* [Увеличение потенциала игры посредством рекламных кампаний](#maximize-your-games-potential-through-ad-campaigns). Вы можете продвигать свою игру, используя платные рекламные кампании, рекламные кампании сообщества (бесплатные) или собственные рекламные кампании (бесплатные) для наращивания пользовательской базы.

## <a name="worldwide-distribution-channel"></a>Всемирное распространение

Microsoft Store можно заставить игру можно загрузить в более чем 200 странах и регионах по всему миру с поддержкой для выставления счетов через различные виды оплаты, включая Visa, Mastercard и PayPal. Полный список стран и регионов, см. в разделе [выбора рынка определить](https://msdn.microsoft.com/windows/uwp/publish/define-pricing-and-market-selection).

## <a name="set-a-price-for-your-game"></a>Установка цены для игры

Публикуемые в Магазине игры UWP в Магазине могут быть _платными_ или _бесплатными_. Платная игра позволяет взимать с игроков плату в размере установленной вами цены перед скачиванием игры, тогда как бесплатная игра дает пользователям возможность скачивать игру и играть в нее без оплаты.

Ниже приведены некоторые важные понятия, связанные с ценообразованием игр в Магазине.

### <a name="base-price"></a>Базовая цена

Базовая цена игры определяет, как классифицируется ваша игра: как _платная_ или как _бесплатная_. Можно использовать [центра партнеров](https://partner.microsoft.com/dashboard) настроить базовую цену на основе страны и региона.
При определении цены необходимо учитывать [налогообложение при продаже приложений в разные страны](https://msdn.microsoft.com/windows/uwp/publish/tax-details-for-paid-apps) и [ценовые соображения для конкретных рынков](https://msdn.microsoft.com/windows/uwp/publish/define-pricing-and-market-selection#price-considerations-for-specific-markets). Также можно [установить особые цены для конкретных рынков](../publish/set-and-schedule-app-pricing.md#override-base-price-for-specific-markets).

### <a name="sale-price"></a>Цена распродажи

Один из способов продвижения игры — временное снижение ее цены. В рамках распродажи также можно сделать игру __бесплатной__, чтобы игру можно было скачивать без оплаты.
Кампании-распродажи можно планировать заранее, указывая начальную и конечную дату распродажи. Подробнее см. в статье [Выставление приложений и надстроек на продажу](https://msdn.microsoft.com/windows/uwp/publish/put-apps-and-add-ons-on-sale).

## <a name="in-game-purchases"></a>Покупки из игры

Покупки из игры — это продукты, приобретаемые внутри игры. Более общее название для них — _покупки из приложения_. В Microsoft Store, называются эти продукты _надстройки_. [Надстройки публикуются](https://msdn.microsoft.com/windows/uwp/publish/add-on-submissions) через Центр партнеров. Вам также понадобится включить надстройки в коде игры.

### <a name="types-of-add-ons"></a>Типы надстроек

В Магазине можно создавать надстройки двух типов: _длительного пользования_ и _потребляемые_ (расходуемые). Надстройки длительного пользования — это продукты, которые используются в течение определенного периода времени. Снова приобрести надстройку длительного пользования можно будет только после истечения срока ее действия. Потребляемые надстройки — это продукты, которые можно приобретать и использовать снова и снова.

При создании потребляемых надстроек нужно решить, как вы хотите их отслеживать &mdash; т. е. будут ли они _управляемыми разработчиком_ или _управляемыми Магазином_ (эта возможность доступна начиная с Windows 10 версии 1607). С управлением разработчика машинные команды вы несете ответственность за отслеживание элемента баланса для игроков; с управлением Store машинные команды Microsoft Store следит за элемента баланса для вас. Подробнее см. в разделе [Обзор потребляемых надстроек](https://msdn.microsoft.com/windows/uwp/monetize/enable-consumable-add-on-purchases#overview-of-consumable-add-ons).

### <a name="create-in-game-purchases"></a>Создание покупок из игры

Последние API-интерфейсы для покупок из приложения и лицензионной информации входят в состав пространства имен [Windows.Services.Store](https://msdn.microsoft.com/library/windows/apps/windows.services.store.aspx) в Windows SDK (начиная с Windows 10 версии 1607). Если вы разрабатываете новую игру, предназначенную для версии 1607 или более поздней, мы рекомендуем использовать пространство имен __Windows.Services.Store__, потому что оно поддерживает последние типы надстроек и обеспечивает более высокую производительность.
Он также предназначен для обеспечения совместимости с типами будущих продуктов и функций, поддерживаемых в центре партнеров и Store. При разработке игр для предыдущих версий Windows 10 используйте вместо него пространство имен [Windows.ApplicationModel.Store](https://msdn.microsoft.com/library/windows/apps/windows.applicationmodel.store.aspx).

Подробнее см. в статье [Покупки из приложения и пробные версии](https://msdn.microsoft.com/windows/uwp/monetize/in-app-purchases-and-trials).

#### <a name="simplified-purchase-example"></a>Упрощенный пример покупки

В этом разделе на упрощенном примере покупки иллюстрируется использование различных вызовов методов для реализации процесса покупки.

|Действия в играх                                                | Фоновые задачи в играх                  |
|--------------------------------------------------------------------------|----------------------------------------|
|Игрок входит в магазин. Появляется меню магазина с доступными надстройками и их ценами. |  Игра [получает информацию о продукте](https://msdn.microsoft.com/windows/uwp/monetize/get-product-info-for-apps-and-add-ons) для надстроек, [определяет, есть ли у надстроек надлежащая лицензия](https://msdn.microsoft.com/windows/uwp/monetize/get-license-info-for-apps-and-add-ons) и отображает надстройки, доступные для приобретения игроком, в меню магазина.                           |
|Игрок нажимает кнопку __Купить__, чтобы приобрести надстройку             |Действие __Купить__ отправляет запрос на покупку надстройки и инициирует процесс оплаты для ее приобретения. Реализация зависит от типа надстройки. Если это [надстройка длительного пользования (однократно приобретаемая)](https://msdn.microsoft.com/windows/uwp/monetize/enable-in-app-purchases-of-apps-and-add-ons), игрок может владеть только одним ее экземпляром, пока не истечет его срок действия. Если надстройка является [потребляемой](https://msdn.microsoft.com/windows/uwp/monetize/enable-consumable-add-on-purchases), игрок может владеть одним или несколькими ее экземплярами. |

### <a name="test-in-game-purchases-during-game-development"></a>Тестирование покупок из игры в процессе разработки игры

Поскольку надстройка должна создаваться в связи с игрой, ваша игра должна быть опубликована и доступна в Магазине. В этом разделе показано, как создавать надстройки, когда игра еще находится на стадии разработки.
(Если ваша игра уже готова и опубликована в Магазине, вы можете пропустить первые три шага и переходить сразу к шагу [Создание надстройки в Магазине](#create-an-add-on-in-the-store).)

Создание надстроек на стадии разработки игры включает в себя следующие шаги:
1. [Создание пакета](#create-a-package)
2. [Публиковать игры как скрытый](#publish-the-game-as-hidden)
3. [Связать с Store игр решения в Visual Studio](#associate-your-game-solution-with-the-store)
4. [Создать надстройку в Store](#create-an-add-on-in-the-store)

#### <a name="create-a-package"></a>Создание пакета

Для публикации любой игры необходимо, чтобы она соответствовала минимальным требованиям сертификации приложений для Windows. Вы можете использовать [комплект сертификации приложений для Windows](https://msdn.microsoft.com/windows/uwp/debug-test-perf/windows-app-certification-kit), который входит в состав Windows 10 SDK, чтобы протестировать игру на предмет ее готовности к публикации в Магазине. Если вы еще не скачали Windows 10 SDK, который включает в себя комплект сертификации приложений для Windows, это можно сделать [здесь](https://developer.microsoft.com/windows/downloads/windows-10-sdk).

Чтобы создать пакет, который можно будет отправить в Магазин:

1. Откройте решение игры в Visual Studio.
2. В Visual Studio выберите __Проект__ > __Магазин__ > __создание пакетов приложения...__
3. Для __вы хотите создавать пакеты для отправки в Microsoft Store?__ выберите __Да__.
4. Войдите в ваш [центра партнеров](https://partner.microsoft.com/dashboard) учетной записи разработчика. Если у вас нет учетной записи разработчика, [зарегистрируйтесь](https://developer.microsoft.com/store/register), чтобы получить ее.
5. Выберите приложение, для которого требуется создать пакет отправки. Если вы еще не создали отправку приложения, укажите новое имя приложения для создания новой отправки. Подробнее см. в статье [Создание приложения посредством резервирования имени](https://msdn.microsoft.com/windows/uwp/publish/create-your-app-by-reserving-a-name).
6. После создания пакета щелкните __Запустить комплект сертификации приложений для Windows__, чтобы начать процесс тестирования.
7. В случае обнаружения ошибок исправьте их, чтобы создать пакет игры.

#### <a name="publish-the-game-as-hidden"></a>Публикация игры как скрытой игры

1. Перейдите к [центра партнеров](https://partner.microsoft.com/dashboard) и войдите в систему.
2. На странице __Обзор панели мониторинга__ или __Все приложения__ щелкните нужное приложение. Если вы еще не создали отправку приложения, щелкните __Создать новое приложение__ и зарезервируйте имя.
3. На странице __Обзор приложения__ щелкните __Начать отправку__.
4. Настройте эту новую отправку. На странице отправки:
    * Щелкните __Цены и доступность__. В __видимость__ выберите "__скрыть это приложение и предотвратить получение...__ "для обеспечения только разработки команда имеет доступ к игре. Подробнее см. в статье [Распространение и видимость](https://msdn.microsoft.com/windows/uwp/publish/set-app-pricing-and-availability#distribution-and-visibility).
    * Выберите пункт __Свойства__. В разделе __Категория и подкатегория__ выберите __Игры__ и выберите подходящую подкатегорию для своей игры.
    * Щелкните __Возрастной рейтинг__. Внимательно заполните анкету.
    * Щелкните __Пакеты__. Отправьте пакет игры, созданный на предыдущем шаге.
5. Следуйте всем остальным инструкциям по отправке на информационной панели, чтобы успешно опубликовать игру, которая будет скрыта от широкой публики.
6. Щелкните __Отправить в Магазин__.

Подробнее см. в статье [Отправка приложений](https://msdn.microsoft.com/windows/uwp/publish/app-submissions).

После отправки игры в Магазин игра поступает на [сертификацию приложения](https://msdn.microsoft.com/windows/uwp/publish/the-app-certification-process). Процесс сертификации может занять до 16 часов; только после этого игра появится в Магазине.

#### <a name="associate-your-game-solution-with-the-store"></a>Связывание решения игры с Магазином

Открыв решение игры в Visual Studio:

1. Выберите __Проект__ > __Магазин__ > __Связать приложение с Магазином...__
2. Войдите учетную запись разработчика для центра партнеров и выберите имя приложения, чтобы связать это решение с.
3. Дважды щелкните файл __Package.appxmanifest.xml__ и перейдите на вкладку __Упаковка__, чтобы убедиться, что игра связана правильно.

Если вы связали решение с опубликованной игрой, активной и доступной в Магазине, у вашего решения будет активная лицензия; это значит, что вы на один шаг ближе к созданию надстроек для своей игры. Подробнее см. в статье [Создание пакетов приложений](https://msdn.microsoft.com/windows/uwp/packaging/index).

#### <a name="create-an-add-on-in-the-store"></a>Создание надстройки в Магазине

При создании надстроек следите за тем, чтобы они связывались с правильной отправкой игры. Подробнее о том, как настроить связанную с надстройкой информацию, см. в статье [Отправка надстроек](https://msdn.microsoft.com/windows/uwp/publish/add-on-submissions).

1. Перейдите к [центра партнеров](https://partner.microsoft.com/dashboard) и войдите в систему.
2. На странице __Обзор панели мониторинга__ или __Все приложения__ щелкните приложение, для которого требуется создать надстройку.
3. На странице __Обзор приложения__ в разделе __Надстройки__ выберите __Создание новой надстройки__.
4. Выберите тип продукта для надстройки: __developer-managed consumable__ (потребляемая управляемая разработчиком), __store-managed consumable__ (потребляемая управляемая магазином) или __durable__ (длительного пользования).
5. Введите уникальный код продукта, которой будет использоваться в виде строковой переменной при интеграции этой надстройки в программный код вашей игры. Пользователям этот код виден не будет. Подробнее см. в статье [Установка типа и кода продукта для надстройки](https://msdn.microsoft.com/windows/uwp/publish/set-your-add-on-product-id).

К другим настраиваемым параметрам надстроек относятся:
* [Свойства](https://msdn.microsoft.com/windows/uwp/publish/enter-add-on-properties)
* [Цены и доступность](https://msdn.microsoft.com/windows/uwp/publish/set-add-on-pricing-and-availability)
* [Листинг Store](https://msdn.microsoft.com/windows/uwp/publish/create-add-on-store-listings)

Если игры есть надстройки, вы их можно создать программным способом с помощью __API отправки Microsoft Store__. Дополнительные сведения см. в разделе [Создание и управление отправкой, с помощью служб Microsoft Store](https://msdn.microsoft.com/windows/uwp/monetize/create-and-manage-submissions-using-windows-store-services).

## <a name="display-ads-in-your-game"></a>Показ рекламы в игре

Библиотеки и средства, входящие в состав Microsoft Advertising SDK, позволяют настроить в игре службу для получения рекламы из рекламной сети. Вашим игроки будет показываться динамическая реклама, и вы будете получать деньги от рекламодателей всякий раз, когда игрок просматривает рекламу или взаимодействует с ней.
Дополнительные сведения см. в статье [Показ рекламы в приложениях](../monetize/display-ads-in-your-app.md).

### <a name="ad-formats"></a>Форматы рекламы

С помощью Microsoft Advertising SDK можно показывать рекламу нескольких типов.

* Рекламные баннеры &mdash;рекламные объявления, которые занимают часть экрана игры и обычно размещаются внутри игры.
* Промежуточная видеореклама &mdash; полноэкранные рекламные объявления, которые могут быть очень эффективными при показе между уровнями игры. При правильной реализации такие объявления могут быть менее навязчивыми, чем баннеры.
* Собственные объявления — это формат на основе рекламных компонентов, где каждая часть рекламного объявления (например, заголовок, изображение, описание и призыв к действию) доставляется приложение в виде отдельного элемента, который можно встроить в приложение.

### <a name="which-ads-are-displayed"></a>Какая реклама будет показываться?

По умолчанию приложение будет отображать рекламу из сети платной рекламы корпорации Майкрософт. Чтобы максимально увеличить доход от рекламы, можно использовать рекламный посредник для группы объявлений в целях показа рекламы из дополнительных платных рекламных сетей. Подробнее о предложениях, имеющихся на данный момент, см. руководстве по использованию [рекламных посредников](../publish/in-app-ads.md#mediation).

### <a name="which-markets-allow-ads-to-be-displayed"></a>На каких рынках разрешено показывать рекламу?

Полный список стран и регионов, которые поддерживают рекламу, см. в статье [Поддерживаемые рынки для рекламных сетей](../publish/in-app-ads.md#network-markets).

### <a name="apis-for-displaying-ads"></a>API-интерфейсы для показа рекламы

Классы [AdControl](https://msdn.microsoft.com/library/windows/apps/microsoft.advertising.winrt.ui.adcontrol.aspx), [InterstitialAd](https://msdn.microsoft.com/library/windows/apps/microsoft.advertising.winrt.ui.interstitialad.aspx) и [NativeAd](https://msdn.microsoft.com/library/windows/apps/microsoft.advertising.winrt.ui.nativead.aspx) в Microsoft Advertising SDK позволяют отображать рекламу в играх.

Для начала работы с ними скачайте и установите [Microsoft Advertising SDK](https://aka.ms/ads-sdk-uwp) с Visual Studio 2015 или более поздней версией. Подробнее см. в статье об [установке Microsoft Advertising SDK](../monetize/install-the-microsoft-advertising-libraries.md).

#### <a name="implementation-guides"></a>Пошаговые руководства

В этих руководствах показано, как реализовать рекламу с использованием классов __AdControl__, __InterstitialAd__ и __NativeAd__:

* [Создать рекламные объявления в XAML и .NET](https://msdn.microsoft.com/windows/uwp/monetize/adcontrol-in-xaml-and--net)
* [Создать рекламные объявления в HTML5 и JavaScript](https://msdn.microsoft.com/windows/uwp/monetize/adcontrol-in-html-5-and-javascript)
* [Создание вставки рекламы](https://msdn.microsoft.com/windows/uwp/monetize/interstitial-ads)
* [Создание собственного рекламы](https://msdn.microsoft.com/windows/uwp/monetize/native-ads)

В процессе разработки можно использовать [тестовые значения группы объявлений](../monetize/test-mode-values.md), чтобы увидеть, как отображается реклама. Эти же значения используются в пошаговых руководствах выше.

Ниже приведены некоторые рекомендации, которые помогут вам в процессе проектирования и реализации.

* [Рекомендации по рекламные объявления](https://msdn.microsoft.com/windows/uwp/monetize/ui-and-user-experience-guidelines)
* [Рекомендации для промежуточной видеорекламы](https://msdn.microsoft.com/windows/uwp/monetize/ui-and-user-experience-guidelines#interstitialbestpractices10)

Способы решения распространенных проблем, возникающих при разработке (реклама не отображается, «черный ящик» моргает и исчезает, реклама не обновляется и т. п.) см. в [руководствах по устранению неполадок](https://msdn.microsoft.com/windows/uwp/monetize/troubleshooting-guides).

### <a name="prepare-for-release-by-replacing-ad-unit-test-values"></a>Подготовка к выпуску путем замены тестовых значений рекламных блоков

Когда вы будете готовы переходить к тестированию в реальных условиях или к показу рекламы в опубликованных играх, вы должны заменить тестовые значения рекламных блоков на реальные значения, предоставленные для вашей игры. О том, как создать рекламные блоки для вашей игры, см. в статье [Настройка рекламных блоков в приложении](https://msdn.microsoft.com/windows/uwp/monetize/set-up-ad-units-in-your-app).

### <a name="other-ad-networks"></a>Другие рекламные сети

Существуют и другие рекламные сети, которые представляют пакеты SDK для показа рекламы в приложениях и играх UWP.

#### <a name="vungle"></a>Vungle

SDK Vungle для Windows обеспечивает возможность показа видеорекламы в приложениях и играх. Загрузить этот SDK можно [здесь](https://v.vungle.com/sdk).

#### <a name="smaato"></a>Smaato

Smaato позволяет включать в игры и приложения UWP рекламные баннеры. Скачать SDK можно [здесь](https://www.smaato.com/resources/sdks/); более подробные сведения см. в [документации](https://wiki.smaato.com/display/SPX/Windows+Phone).

#### <a name="adduplex"></a>AdDuplex

AdDuplex можно использовать для реализации баннеров или промежуточной видеорекламы в играх.

Подробнее узнать об интеграции AdDuplex непосредственно в проект Windows 10 XAML можно на веб-сайте AdDuplex:
* Рекламные объявления: [Windows 10 SDK для XAML](https://adduplex.zendesk.com/hc/en-us/articles/204849031-Windows-10-SDK-for-XAML-apps-installation-and-usage)
* Вставки рекламы: [Windows 10 XAML AdDuplex вставки Ad установкой и использованием](https://adduplex.zendesk.com/hc/en-us/articles/204849091-Windows-10-XAML-AdDuplex-Interstitial-Ad-Installation-and-Usage)

Подробнее об интеграции SDK AdDuplex в игры UWP для Windows 10, созданные с помощью Unity см. в статье [Windows 10 SDK for Unity apps installation and usage](https://adduplex.zendesk.com/hc/en-us/articles/207279435-Windows-10-SDK-for-Unity-apps-installation-and-usage).

## <a name="maximize-your-games-potential-through-ad-campaigns"></a>Увеличение потенциала вашей игры посредством рекламных кампаний

Сделайте следующий шаг в продвижении своей игры — используйте рекламу. Когда вы [создаете рекламную кампанию](https://msdn.microsoft.com/windows/uwp/publish/create-an-ad-campaign-for-your-app) для своей игры, в других приложениях и играх будет отображаться реклама вашей игры.

Предусмотрено несколько типов кампаний, которые помогут вам увеличить свою базу игроков.

|Тип кампании             | Где отображается реклама вашей игры                                                                                                                                                                   |
|--------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|Платная                      |В приложениях, соответствующих устройству или категории вашей игры.                                                                                                                                                   |
|Бесплатная от сообщества            |В приложениях, опубликованных другими разработчиками, которые также согласились участвовать в рекламных кампаниях сообщества. Подробнее см. в статье [О рекламе от сообщества](https://msdn.microsoft.com/windows/uwp/publish/about-community-ads).|
|Бесплатная собственная                |Только в приложениях, которые опубликовали вы сами. Подробнее см. в статье [О собственной рекламе](https://msdn.microsoft.com/windows/uwp/publish/about-house-ads).                                                            |

## <a name="related-links"></a>Дополнительные ссылки

* [Получение платежей](https://msdn.microsoft.com/windows/uwp/publish/getting-paid-apps)
* [Типы учетных записей, расположений и оплате](https://msdn.microsoft.com/windows/uwp/publish/account-types-locations-and-fees)
* [Аналитика](https://msdn.microsoft.com/windows/uwp/publish/analytics)
* [Глобализация и локализация](https://msdn.microsoft.com/windows/uwp/globalizing/globalizing-portal)
* [Реализуйте пробную версию приложения](https://msdn.microsoft.com/windows/uwp/monetize/implement-a-trial-version-of-your-app)
* [Запустите приложение экспериментов с A / B-тестирование](https://msdn.microsoft.com/windows/uwp/monetize/run-app-experiments-with-a-b-testing)
