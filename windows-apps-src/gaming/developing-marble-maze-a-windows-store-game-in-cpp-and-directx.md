---
title: Разработка *мрамора лабиринта* &mdash; универсальная платформа Windows (UWP), созданная с помощью C++ для DirectX
description: В этом разделе документации описывается, как использовать DirectX и C++ для создания игры 3D универсальная платформа Windows (UWP).
ms.assetid: 43f1977a-7e1d-614c-696e-7669dd8a9cc7
ms.date: 08/10/2017
ms.topic: article
keywords: windows 10, uwp, игры, пример, directx, трехмерный
ms.localizationpriority: medium
ms.openlocfilehash: d2c0c630090c178a54a0452ab3cc430ffee4a176
ms.sourcegitcommit: 20969781aca50738792631f4b68326f9171a3980
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/26/2020
ms.locfileid: "85409503"
---
# <a name="developing-marble-mazemdasha-universal-windows-platform-uwp-game-built-with-c-for-directx"></a>Разработка *мрамора лабиринта* &mdash; универсальная платформа Windows (UWP), созданная с помощью C++ для DirectX

В этом разделе описывается, как использовать DirectX и C++ для создания игры 3D универсальная платформа Windows (UWP). Игра, именуемая *лабиринтом мрамора*, охватывает несколько форм, таких как планшеты, традиционные настольные ПК и Ноутбуки.

> [!NOTE]
> Чтобы скачать исходный код *лабиринта для мраморов* , см. [пример на сайте GitHub](https://github.com/microsoft/Windows-appsample-marble-maze).

> [!IMPORTANT]
> *Лабиринт мрамора* иллюстрирует шаблоны проектирования, которые мы будем рассматривать как рекомендации по созданию игр UWP. Многие особенности этой реализации вы сможете приспособить к собственной практике и требованиям той игры, которую вы разрабатываете. Вы можете без колебаний пользоваться другими методиками или библиотеками, если они лучше отвечают вашим потребностям. (Но обязательно позаботьтесь о том, чтобы ваш код успешно проходил тестирование с использованием [комплекта сертификации приложений для Windows](https://docs.microsoft.com/windows/uwp/debug-test-perf/windows-app-certification-kit).) Когда мы полагаем, что реализация тех или иных аспектов в игре Marble Maze имеет первостепенное значение для успешной разработки игр, мы подчеркиваем это в руководстве.

## <a name="introducing-marble-maze"></a>Знакомство с *лабиринтом мрамора*

Мы решили *мрамор лабиринта* , так как он относительно простой, но по-прежнему демонстрирует широкий спектр функций, которые можно найти в большинстве игр. Она показывает работу с графикой, обработку ввода и воспроизведение звука. Кроме того, она демонстрирует игровую механику, в частности правила и цели.

*Лабиринт в виде мрамора* напоминает лабиринс игру «таблица-верхняя», которая обычно создается на основе прямоугольника, содержащего отверстия и стальной или стеклянный мрамор. Цель *лабиринта мрамора* та же, что и для таблицы — верхняя версия: раснаклонить лабиринт, чтобы попытаться создать на мраморе с начала до конца лабиринта как можно меньшее время, не позволяя мрамору попасть в любые отверстия. *Лабиринт мрамора* добавляет концепцию контрольных точек. Если шарик падает в отверстие, игра перезапускается из последней контрольной точки, над которой прошел шарик.

*Лабиринт мрамора* предлагает несколько способов взаимодействия пользователя с игровой доской. Если у вас имеется устройство с сенсорным экраном или акселерометром, вы можете пользоваться ими для перемещения игровой доски. Можно управлять игрой при помощи контроллера Xbox One или мыши.

![Снимок экрана игры Marble Maze.](images/marblemaze-2.png)

## <a name="prerequisites"></a>Предварительные требования

-   Windows 10 Creators Update
-   [Microsoft Visual Studio 2017](https://visualstudio.microsoft.com/downloads/)
-   Умение программировать на C++
-   Знание основ и терминологии DirectX
-   Знание основ COM

## <a name="who-should-read-this"></a>Для кого предназначена эта статья?

Если вы заинтересованы в создании трехмерных игр или других ресурсоемких приложений для Windows 10, это предназначено для вас. Надеемся, что вы воспользуетесь изложенными здесь принципами и методиками для создания собственной игры UWP. Опыт программирования на C++ с использованием DirectX или сильный интерес к этой тематике поможет вам понять большую часть этого руководства. Даже если у вас нет опыта работы с DirectX, вам все равно пригодится это руководство, если вы уже имели дело с подобными языками программирования трехмерной графики.

В документе [Пошаговое руководство. Создание простой игры UWP с DirectX](tutorial--create-your-first-uwp-directx-game.md) . описание другого примера, в котором реализована базовая игра по трехмерной графике с помощью DirectX и C++.

## <a name="what-this-documentation-covers"></a>Что входит в руководство?

Это руководство научит вас следующим приемам.

-   Использование API среды выполнения Windows и DirectX для создания игры UWP.
-   Используйте [Direct3D](https://docs.microsoft.com/windows/desktop/direct3d11/atoc-dx-graphics-direct3d-11) и [Direct2D](https://docs.microsoft.com/windows/desktop/Direct2D/direct2d-portal) для работы с визуальным содержимым, например моделями, текстурами, шейдерами вершин и пикселей, а также 2D-наложений.
-   Встраивать механизмы ввода, такие как сенсорный ввод, акселерометр и контроллер Xbox One.
-   Использовать [XAudio2](https://docs.microsoft.com/windows/desktop/xaudio2/xaudio2-apis-portal) для встраивания музыки и звуковых эффектов.

## <a name="what-this-documentation-does-not-cover"></a>Что не входит в руководство?

В этом руководстве не рассматриваются перечисленные ниже аспекты разработки игр, которым посвящены дополнительные ресурсы.

-   Принципы проектирования трехмерных игр.
-   Основы программирования на C++ и DirectX.
-   Создание ресурсов, таких как текстуры, модели и звуки.
-   Диагностика и устранение проблем, связанных с логикой работы и производительностью игры.
-   Подготовка игры для использования в других регионах мира.
-   Сертификация и публикация игры в Microsoft Store.

*Лабиринт мрамора* также использует библиотеку [директксмас](https://docs.microsoft.com/windows/desktop/dxmath/directxmath-portal) для работы с трехмерной геометрией и выполнения физических вычислений, таких как конфликты. DirectXMath не рассматривается подробно в этом разделе. Дополнительные сведения о том, как *лабиринт мрамора* использует директксмас, см. в исходном коде.

Хотя *лабиринт мрамора* предоставляет множество многократно используемых компонентов, это не полная инфраструктура разработки игр. Когда мы рассмотрим компонент *лабиринта мрамора* для использования в игре, мы подчеркните его в документации.

## <a name="next-steps"></a>Следующие шаги

Мы рекомендуем приступить к работе с [примерами лабиринта](marble-maze-sample-fundamentals.md) , чтобы узнать структуру *лабиринта мраморов* и некоторые рекомендации по написанию кода и стилю, которые следует использовать в исходном коде *лабиринта мраморов* . Документы, перечисленные в этом разделе, сведены в таблицу ниже, чтобы вам было удобнее к ним обращаться.

## <a name="in-this-section"></a>Содержание раздела

| Заголовок                                                                                                                    | Описание                                                                                                                                                                                                                                        |
|--------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [Основные характеристики образца кода Marble Maze](marble-maze-sample-fundamentals.md)                                                   | Обзор структуры игры, а также некоторых соглашений о приемах программирования и стиле, которые соблюдаются в коде.                                                                                                                                 |
| [Структура приложения Marble Maze](marble-maze-application-structure.md)                                               | Описывает, как структурирован код приложения *лабиринта мрамора* и как структура приложения UWP для DirectX отличается от структуры традиционного классического приложения.                                                                                    |
| [Добавление визуального содержимого в образец Marble Maze](adding-visual-content-to-the-marble-maze-sample.md)                   | Здесь излагаются некоторые важные рекомендации, которые следует иметь в виду при работе с Direct3D и Direct2D, Также описывается, как *лабиринты в мраморе* применяют эти методики к визуальному содержимому.                                                                           |
| [Добавление ввода и интерактивной функциональности в образец Marble Maze](adding-input-and-interactivity-to-the-marble-maze-sample.md) | Описание работы *лабиринта мрамора* с акселерометр, сенсорным входом и одним контроллером Xbox для предоставления пользователям возможности навигации по меню и взаимодействию с игровой доской. Излагаются также некоторые важные рекомендации, которые следует иметь в виду при работе с вводом. |
| [Добавление звука в пример Marble Maze](adding-audio-to-the-marble-maze-sample.md)                                     | Описание работы *лабиринта мрамора* с аудио для добавления музыки и звуковых эффектов в среду игры.                                                                                                                                                  |
