---
title: Математические аспекты освещения
description: Модель освещения в Direct3D включает в себя фоновое, рассеянное, отраженное и излучаемое освещение. Это обеспечивает достаточную гибкость для решения широкого спектра вопросов освещения. Общая сумма света в сцене называется глобальной освещенностью.
ms.assetid: D0521F56-050D-4EDF-9BD1-34748E94B873
keywords:
- Математические аспекты освещения
ms.date: 02/08/2017
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: d21f60694c55edacc7a5723e7ed470c37af992ab
ms.sourcegitcommit: 9031a51f9731f0b675769e097aa4d914b4854e9e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/29/2019
ms.locfileid: "58618431"
---
# <a name="mathematics-of-lighting"></a>Математические аспекты освещения

Модель освещения в Direct3D включает в себя фоновое, рассеянное, отраженное и излучаемое освещение. Это обеспечивает достаточную гибкость для решения широкого спектра вопросов освещения. Общая сумма света в сцене называется *глобальной освещенностью*.

Глобальная освещенность вычисляется следующим образом:

```cpp
global_illumination = ambient_lighting + diffuse_lighting + specular_lighting + emissive_lighting;
```

[Фоновое освещение](ambient-lighting.md) — это постоянное освещение. Внешнее освещение является константой во всех направлениях и окрашивает все пиксели объекта одинаково. Вычислить такое освещение очень быстро, однако объекты выглядят плоскими и нереалистичными.

[Рассеянное освещение](diffuse-lighting.md) зависит и от направления света, и от нормали поверхности объекта. Рассеянное освещение различается на разных участках поверхности объекта в результате изменения направления света и изменения числового вектора поверхности. Для расчета рассеянного света требуется больше времени, поскольку он различается для каждой вершины объекта, однако преимущество его использования заключается в том, что он придает объектам оттенки и трехмерную глубину.

[Отраженное освещение](specular-lighting.md) определяет яркие блики, которые возникают когда свет падает на поверхность объекта и отражается обратно в сторону камеры. Отраженное освещение более интенсивно, чем рассеянный свет, и быстрее ослабевает на поверхности объекта. На расчет отраженного освещения уходит больше времени чем на рассеянное освещение, однако его применение добавляет поверхности больше заметных деталей.

[Излучаемое освещение](emissive-lighting.md) — это свет, излучаемый объектом, например, свечение. Излучаемое освещение делает отрисованный объект светящимся. Излучение влияет на цвет объекта и может, например, сделать темный материал ярче и частично перенять излучаемый цвет.

Реалистичного освещения можно достичь путем применения каждого из этих типов освещения в трехмерных сценах. Значения, рассчитанные для фонового, излучаемого и рассеянного компонентов, выводятся как рассеянный цвет вершины, а значение для отраженного компонента освещения выводится как отраженный цвет вершины. Значения фонового, рассеянного и отраженного освещения могут меняться в зависимости от коэффициента затухания и узкой направленности источника. См. раздел [Коэффициент затухания и вспышки](attenuation-and-spotlight-factor.md).

Для достижения более реалистичного эффекта освещения добавляют дополнительные источники света, однако это влечет увеличение времени отрисовки сцены. Для достижения всех требуемых разработчику эффектов в некоторых играх используется больше вычислительной мощности процессора, чем обычно предоставляется. В этом случае обычно уменьшают число операций расчета освещения до минимума с помощью карт освещения и среды, чтобы добавить освещение сцены при одновременном использовании текстур.

Освещение вычисляется в пространстве камеры. См. раздел [Преобразования пространства камеры](camera-space-transformations.md). Оптимизированное освещение может быть рассчитано в пространстве модели, если выполняются особые условия: векторы нормалей уже нормализованы, наложение вершин не требуется, а матрицы преобразования ортогональны.

Все вычисления освещения выполняются в пространстве модели путем преобразования положения и направления источника света и положения камеры для моделирования пространства с использованием обратной матрицы мира. В результате, если матрицы мира или представления привносят неоднородное масштабирование, полученное освещение может быть неточным.

## <a name="span-idin-this-sectionspanin-this-section"></a><span id="in-this-section"></span>В этом разделе


<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Раздел</th>
<th align="left">Описание</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p><a href="ambient-lighting.md">Внешним освещением</a></p></td>
<td align="left"><p>Внешнее освещение предоставляет постоянное освещение для сцены. Оно освещает все вершины объекта одинаково, потому что не зависит ни от каких других факторов освещения, таких как нормали вершины, направление света, положение света, диапазон или затухание. Внешнее освещение является константой во всех направлениях и окрашивает все пиксели объекта одинаково. Вычислить такое освещение очень быстро, однако объекты выглядят плоскими и нереалистичными.</p></td>
</tr>
<tr class="even">
<td align="left"><p><a href="diffuse-lighting.md">Рассеянное освещение</a></p></td>
<td align="left"><p><em>Рассеянное освещение</em> зависит и от направления света, и от нормали поверхности объекта. Рассеянное освещение различается на разных участках поверхности объекта в результате изменения направления света и изменения числового вектора поверхности. Для расчета рассеянного света требуется больше времени, поскольку он различается для каждой вершины объекта, однако преимущество его использования заключается в том, что он придает объектам оттенки и трехмерную глубину.</p></td>
</tr>
<tr class="odd">
<td align="left"><p><a href="specular-lighting.md">Отраженное освещение</a></p></td>
<td align="left"><p><em>Отраженное освещение</em> определяет яркие блики, которые возникают когда свет падает на поверхность объекта и отражается обратно в сторону камеры. Отраженное освещение более интенсивно, чем рассеянный свет, и быстрее ослабевает на поверхности объекта. На расчет отраженного освещения уходит больше времени чем на рассеянное освещение, однако его применение добавляет поверхности больше заметных деталей.</p></td>
</tr>
<tr class="even">
<td align="left"><p><a href="emissive-lighting.md">Эмиссионный освещения</a></p></td>
<td align="left"><p><em>Излучаемое освещение</em> — это свет, излучаемый объектом, например, свечение. Излучаемое освещение делает отрисованный объект светящимся. Излучение влияет на цвет объекта и может, например, сделать темный материал ярче и частично перенять излучаемый цвет.</p></td>
</tr>
<tr class="odd">
<td align="left"><p><a href="camera-space-transformations.md">Преобразования пространства камеры</a></p></td>
<td align="left"><p>Вершины в пространстве камеры вычисляются путем преобразования вершин объекта с помощью матрицы представления реального мира.</p></td>
</tr>
<tr class="even">
<td align="left"><p><a href="attenuation-and-spotlight-factor.md">Коэффициент затухания и spotlight</a></p></td>
<td align="left"><p>Компоненты рассеянного и зеркального света глобального уравнения света содержат термины, описывающие затухание света и конус вспышки.</p></td>
</tr>
</tbody>
</table>

 

## <a name="span-idrelated-topicsspanrelated-topics"></a><span id="related-topics"></span>Связанные разделы


[Источники света и материалы](lights-and-materials.md)

 

 




