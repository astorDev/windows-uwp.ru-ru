---
title: Билинейная фильтрация текстур
description: Билинейная фильтрация вычисляет средневзвешенное значение 4 текселей, которые расположены ближе всего к точке выборки.
ms.assetid: 0851AD28-8246-4547-A663-47884DDDFC3E
keywords:
- Билинейная фильтрация текстур
author: michaelfromredmond
ms.author: mithom
ms.date: 02/08/2017
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: 48e16162a76b1a599c1a43e763243be4348810af
ms.sourcegitcommit: cbe7cf620622a5e4df7414f9e38dfecec1cfca99
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/20/2018
ms.locfileid: "7430261"
---
# <a name="bilinear-texture-filtering"></a>Билинейная фильтрация текстур


*Билинейная фильтрация* вычисляет средневзвешенное значение 4 текселей, которые расположены ближе всего к точке выборки. Этот способ фильтрации является более точным и распространенным, чем фильтрация по ближайшим точкам. Это эффективный способ, поскольку он реализован в современном графическом оборудовании.


## <a name="span-idexamplespanspan-idexamplespanspan-idexamplespanexample"></a><span id="Example"></span><span id="example"></span><span id="EXAMPLE"></span>Пример.


Текстуры всегда линейно описываются от (0,0, 0,0) в верхнем левом углу до (1,0, 1,0) в нижнем правом углу. Линейное описание текстуры показано на следующем рисунке.

![Иллюстрация текстуры 4x4 со сплошными блоками цвета](images/bilinear-fig7a.png)

Обычно текстуры представляются как состоящие из сплошных блоков цвета, однако правильнее воспринимать текстуры так же, как растровые дисплеи: каждый тексель определяется точно по центру ячейки сетки, как показано на следующем рисунке.

![Иллюстрация текстуры 4x4 с текселями, определенными в центре ячеек сетки](images/bilinear-fig7b.png)

Если запросить у инструмента "пипетка" UV-координаты этого цвета текстуры (0,375, 0,375), вы получите однотонный красный (255, 0, 0). Это логично, поскольку центр ячейки красного текселя находится в UV (0,375, 0,375). А что если с помощью пипетки определить цвет текстуры на UV (0,25, 0,25)? Это непросто, поскольку точка UV (0,25, 0,25) лежит точно на углах 4 текселей.

Проще всего просто вернуть цвет ближайшего текселя с помощью пипетки; это называется точечной фильтрацией (см. раздел [Выборка с ближайших точек](nearest-point-sampling.md)), однако использовать ее не рекомендуется из-за зернистости и неточности результатов. Точечная выборка нашей текстуры в точке UV (0,25, 0,25) показывает еще одну скрытую проблему с фильтрацией по ближайшим точкам: в этой точке четыре равноудаленных от точки выборки текселя, поэтому выбрать один ближайший тексель невозможно. Один из этих четырех текселей будет выбран в качестве возвращенного цвета, однако выбор зависит от округления координаты, а это, в свою очередь, может привести к разрывам артефактов (см. статью "Выборка с ближайших точек" в SDK).

Чуть более точная и распространенная схема фильтрации заключается в том, что необходимо вычислить средневзвешенное значение 4 текселей, которые находятся ближе всего к точке выборки; это называется *билинейной фильтрацией*. Как правило, на дополнительную нагрузку на вычислительные ресурсы в связи с билинейной фильтрацией не обращают внимания, поскольку процедура реализована в современном графическом оборудовании. Вот какие цвета мы получим в разных точках выборки, используя билинейную фильтрацию:

```
UV: (0.5, 0.5)
```

Эта точка находится точно на границе между красным, зеленым, синим и белым текселями. Инструмент "пипетка" возвращает серый цвет:

```
  0.25 * (255, 0, 0)
  0.25 * (0, 255, 0) 
  0.25 * (0, 0, 255) 
## + 0.25 * (255, 255, 255) 
------------------------
= (128, 128, 128)
```

```
UV: (0.5, 0.375)
```

Эта точка находится в середине границы между красным и зеленым текселями. Пипетка возвращает желто-серый цвет (обратите внимание, что влияние синего и белого текселей равно 0):

```
  0.5 * (255, 0, 0)
  0.5 * (0, 255, 0) 
  0.0 * (0, 0, 255) 
## + 0.0 * (255, 255, 255) 
------------------------
= (128, 128, 0)
```

```
UV: (0.375, 0.375)
```

это адрес красного текселя, возвращенного цвета (все остальные тексели в вычислении фильтрации имеют нулевой вес):

```
  1.0 * (255, 0, 0)
  0.0 * (0, 255, 0) 
  0.0 * (0, 0, 255) 
## + 0.0 * (255, 255, 255) 
------------------------
= (255, 0, 0)
```

Сравните эти вычисления на следующем рисунке, который показывает, что произойдет, если вычисление билинейной фильтрации выполняется в каждом адресе текстуры 4x4.

![иллюстрация текстуры 4x4 с выполненной в каждом адресе текстуры билинейной фильтрацией](images/bilinear-fig7c.jpg)

## <a name="span-idrelated-topicsspanrelated-topics"></a><span id="related-topics"></span>Статьи по теме


[Фильтрация текстур](texture-filtering.md)

 

 




