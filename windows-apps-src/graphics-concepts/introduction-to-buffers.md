---
title: Вводные сведения о буферах
description: Буферный ресурс — это коллекция полностью распределенных по типам данных, сгруппированных в элементы.
ms.assetid: 494FDF57-0FBE-434C-B568-06F977B40263
keywords:
- Вводные сведения о буферах
author: michaelfromredmond
ms.author: mithom
ms.date: 02/08/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
ms.localizationpriority: medium
ms.openlocfilehash: 677eea4757220320bc364fef20bf5a5c8d4daaa2
ms.sourcegitcommit: 897a111e8fc5d38d483800288ad01c523e924ef4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/13/2018
ms.locfileid: "1044343"
---
# <a name="introduction-to-buffers"></a>Вводные сведения о буферах


Буферный ресурс — это коллекция полностью распределенных по типам данных, сгруппированных в элементы. Буферы хранят данные, например координаты текстур в *буфере вершин*, индексы в *буфере индексов*, данные констант шейдера в *буфере констант*, векторы положений, векторы нормалей и состояния устройства.

Элемент буфера состоит из компонентов от 1 до 4. Элементы буфера могут включать в себя упакованные значения данных (например, значения поверхности R8G8B8A8), единичные 8-разрядные целые числа или четыре 32-разрядных значения с плавающей запятой.

Буфер создается как неструктурированный ресурс. Поскольку неструктурированных, буфер не может содержать любые наряду с уровнями, не могут получить отфильтровано при чтении и не может быть многовыборочной.

## <a name="span-idbuffertypesspanspan-idbuffertypesspanspan-idbuffertypesspanbuffer-types"></a><span id="Buffer_Types"></span><span id="buffer_types"></span><span id="BUFFER_TYPES"></span>Типы буфера


Ниже приведены типы ресурсов буфера, поддерживаемые Direct3D 11.

-   [Буфер вершин](#vertex-buffer)
-   [Буфер индексов](#index-buffer)
-   [Константы буфера](#shader-constant-buffer)

### <a name="span-idvertexbufferspanspan-idvertexbufferspanspan-idvertexbufferspanspan-idvertex-bufferspanvertex-buffer"></a><span id="Vertex_Buffer"></span><span id="vertex_buffer"></span><span id="VERTEX_BUFFER"></span><span id="vertex-buffer"></span>Буфер вершин

Буфер вершин содержит данные вершин, используемые для определения вашего геометрии. К данным вершин относятся координаты положения, данные цвета, данные координат текстуры, данные нормали и т. д.

Простой пример буфер вершин — содержит только позиции данных. Его можно изобразить, как на следующем рисунке.

![иллюстрация буфера вершин, который содержит данные положения](images/d3d10-resources-single-element-vb2.png)

Чаще всего буфер вершин содержит все данные, необходимые для полного описания трехмерных вершин. Примером этого может быть буфер вершин, который содержит положение, нормаль и координаты текстуры для каждой вершины. Эти данные обычно упорядочены в виде наборов элементов для каждой вершины, как показано на следующем рисунке.

![иллюстрация буфера вершин, который содержит данные положения, нормали и текстуры](images/d3d10-vertex-buffer-element.png)

В этом буфер вершин содержит данные повершинное; Каждая вершина сохранение трех элементов (положение normal и координаты текстуры). Положение и нормаль обычно задаются с помощью трех 32-разрядных значений с плавающей запятой, а координаты текстуры — с помощью двух 32-разрядных значений с плавающей запятой.

Для доступа к данным из буфера вершин необходимо знать, какие вершины доступа, а также следующие параметры буфера:

-   Offset — число байтов от начала буфера до данных для первой вершины;
-   BaseVertexLocation — количество байтов от смещения до первой вершины, используемой с помощью соответствующего вызова рисования.

Прежде чем создать буфер узла, необходимо определить его структуры. После создания объекта ввода макета можно привязку к [стадии ввода Assembler (IA)](input-assembler-stage--ia-.md).

### <a name="span-idindexbufferspanspan-idindexbufferspanspan-idindexbufferspanspan-idindex-bufferspanindex-buffer"></a><span id="Index_Buffer"></span><span id="index_buffer"></span><span id="INDEX_BUFFER"></span><span id="index-buffer"></span>Буфер индексов

Буферы индексов содержится значение смещения целое число в буферы вершин и используются для повышения эффективности обработки примитивов. Буфер индексов содержит последовательный набор 16-разрядных или 32-разрядных индексов; каждый индекс используется для идентификации вершины в буфере вершин. Буфер индексов можно изобразить, как на следующем рисунке.

![иллюстрация буфера индексов](images/d3d10-index-buffer.png)

Последовательные индексы, хранящиеся в буфере индексов, обнаруживаются по следующим параметрам:

-   Смещение - число байтов из базовый адрес буфер индексов.
-   StartIndexLocation - указывает первый элемент буфера индекса из базовый адрес и смещение. Расположение начала представляет первый индекс для отображения.
-   IndexCount — число индексов для отрисовки.

Начало буфер индексов = индекс буфера базовый адрес + смещение (в байтах) + StartIndexLocation \ * ElementSize (в байтах);

В этой формуле ElementSize — размер каждого элемента буфера индекса, который является байт два или четыре.

### <a name="span-idshaderconstantbufferspanspan-idshaderconstantbufferspanspan-idshaderconstantbufferspanspan-idshader-constant-bufferspanconstant-buffer"></a><span id="Shader_Constant_Buffer"></span><span id="shader_constant_buffer"></span><span id="SHADER_CONSTANT_BUFFER"></span><span id="shader-constant-buffer"></span>Константы буфера

Константы буфера позволяет эффективно предоставить данные константы построитель текстуры в конвейере. Константы буфера можно использовать для хранения результатов уровень вывода потока. Концептуально буфера констант выглядит так же, как буфер вершин одного элемента, как показано на следующем рисунке.

![иллюстрация буфера констант шейдера](images/d3d10-shader-resource-buffer.png)

Каждый элемент хранит определяемую форматом данных константу с числом компонентов от 1 до 4.

Константы буфера можно использовать только флаг одной привязки, который нельзя использовать вместе с другими флаг привязки.

Для чтения буфера константу построитель текстуры из построитель текстуры, используйте функцию HLSL нагрузки. На каждом этапе шейдера можно определить до 15 буферов констант шейдера, причем каждый буфер может содержать до 4096 констант.

## <a name="span-idrelated-topicsspanrelated-topics"></a><span id="related-topics"></span>Статьи по теме


[Буферы вершин и индексов](vertex-and-index-buffers.md)

 

 




