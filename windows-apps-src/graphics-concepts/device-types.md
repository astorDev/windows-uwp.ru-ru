---
title: Типы устройств
description: Типы устройств Direct3D включают устройства слоя абстрагирования оборудования (слой HAL) и средство программной прорисовки.
ms.assetid: 64084B23-10C0-4541-8E93-FB323385D2F0
keywords:
- Типы устройств
author: michaelfromredmond
ms.author: mithom
ms.date: 02/08/2017
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: cbf7d984226984391da340c74791dad4a6c0d8fb
ms.sourcegitcommit: 3257416aebb5a7b1515e107866806f8bd57845a8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/17/2018
ms.locfileid: "7156149"
---
# <a name="device-types"></a>Типы устройств


Типы устройств Direct3D включают устройства слоя абстрагирования оборудования (слой HAL) и средство программной прорисовки.

## <a name="span-idhaldevicespanspan-idhaldevicespanspan-idhaldevicespanhal-device"></a><span id="HAL_Device"></span><span id="hal_device"></span><span id="HAL_DEVICE"></span>Устройство слоя HAL


Устройство слоя HAL— основной тип устройств. Оно поддерживает растеризацию с аппаратным ускорением, а также аппаратную и программную обработку вершин. Если компьютер, на котором запущено приложение, оснащен видеоадаптером с поддержкой Direct3D, приложение должно использовать его для операций Direct3D. Устройства слоя HAL Direct3D полностью или целиком реализовывают модули преобразования, освещения или растеризации в оборудовании.

Приложения не обращаются к видеоадаптерам напрямую. Они вызывают функции и методы Direct3D. Direct3D обращается к оборудованию через слой HAL. Если компьютер, на котором запущено приложение, поддерживает слой HAL, максимальной производительности на нем можно достичь с помощью устройства слоя HAL.

## <a name="span-idreferencedevicespanspan-idreferencedevicespanspan-idreferencedevicespanreference-device"></a><span id="Reference_Device"></span><span id="reference_device"></span><span id="REFERENCE_DEVICE"></span>Эталонное устройство


Direct3D поддерживает дополнительный тип устройств— эталонное устройство или средство программной прорисовки. В отличие от программного устройства, средство программной прорисовки поддерживает все компоненты Direct3D. Это устройство предназначено для отладки, а потому доступно только на компьютерах с установленным пакетом SDK DirectX. Поскольку эти компоненты реализованы программно и в большей степени для высокой точности, а не скорости, получение результатов— процесс небыстрый. Средство программной прорисовки использует особые инструкции ЦП при любой возможности, но оно не предназначено для розничных приложений. Средство программной прорисовки следует использовать только для тестирования компонентов или демонстрации.

## <a name="span-idhalvsrefspanspan-idhalvsrefspanspan-idhalvsrefspanhal-vs-ref-devices"></a><span id="HAL_vs_REF"></span><span id="hal_vs_ref"></span><span id="HAL_VS_REF"></span>Устройства слоя HAL и устройства средства программной прорисовки


Устройства слоя абстрагирования оборудования (HAL) и устройства средства программной прорисовки (REF)— это два основных типа устройств Direct3D. Первый тип основан на поддержке оборудования и отличается высокой производительностью, но может не поддерживать некоторые компоненты. Второй тип не использует аппаратное ускорение, а потому работает медленно, но гарантированно поддерживает весь набор компонентов Direct3D без каких-либо отклонений. Как правило, вам потребуется использовать только устройства слоя HAL, но если вы используете расширенные возможности, не поддерживаемые вашим графическим адаптером, возможно, придется обратиться к средству программной прорисовки.

Вам также может потребоваться использовать средство программной прорисовки, если устройство слоя HAL выдает неверные результаты, то есть вы уверены в правильности кода, но результат не соответствует ожидаемому. Поведение устройства средства программной прорисовки гарантированно будет верным, поэтому есть смысл проверить приложение на этом устройстве и посмотреть, останутся ли ошибки в поведении. Если ошибки исчезли, то либо (а) приложение считает, что видеоадаптер поддерживает возможности, которые он на самом деле не поддерживает, либо (б) ошибка связана с драйверами. Если приложение не работает даже с устройством средства программной прорисовки, ошибка кроется в самом приложении.

## <a name="span-idhardwarevssoftwarespanspan-idhardwarevssoftwarespanspan-idhardwarevssoftwarespanhardware-vs-software-vertex-processing"></a><span id="Hardware_vs_Software"></span><span id="hardware_vs_software"></span><span id="HARDWARE_VS_SOFTWARE"></span>Аппаратная и программная обработка вершин


Фактически, аппаратная и программная обработка вершин применима только к устройствам слоя HAL. При продвижении вершин по конвейеру их необходимо преобразовывать (с помощью матриц мира, представления и проекции поочередно) и освещать (с помощью встроенных источников света D3D). Этот этап обработки известен как T&L (преобразование и освещение). Аппаратная обработка вершин выполняется оборудованием, если оно поддерживает такой вид обработки. Следовательно, программная обработка вершин выполняется программным обеспечением. Рекомендуется сначала попробовать создать устройство аппаратного преобразования и освещения. В случае неудачи следует попробовать создать смешанное устройство, а если это также не удастся, попробуйте создать средство программной обработки. (Если последний вариант не увенчается успехом, завершите работу с ошибкой.)

## <a name="span-idrelated-topicsspanrelated-topics"></a><span id="related-topics"></span>Статьи по теме


[Устройства](devices.md)

 

 




