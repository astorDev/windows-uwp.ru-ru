---
title: Видовое преобразование
description: Видовое преобразование определяет положение наблюдателя в мировом пространстве и обеспечивает преобразование вершин в пространство камеры.
ms.assetid: DA4C2051-4C28-4ABF-8C06-241C8CB87F2F
keywords:
- Видовое преобразование
author: michaelfromredmond
ms.author: mithom
ms.date: 02/08/2017
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: 40f9312b4b85e9f6e54a8bf02c6d07df35b8b626
ms.sourcegitcommit: e814a13978f33654d8e995584f4b047cb53e0aef
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/06/2018
ms.locfileid: "6049648"
---
# <a name="view-transform"></a>Видовое преобразование


*Видовое преобразование* определяет положение наблюдателя в мировом пространстве и обеспечивает преобразование вершин в пространство камеры. В пространстве камеры камера, или наблюдатель, находится в начале координат и смотрит в направлении положительной полуоси Z. Видовая матрица переносит объекты в мировом пространстве относительно положения камеры — начала координат пространства камеры — и ориентации камеры. В Direct3D используется левовинтовая система координат, поэтому положительная полуось Z направлена внутрь сцены.

Существует множество способов создания видовой матрицы. Во всех случаях камера имеет некоторые логическое положение и ориентацию в мировом пространстве, которые используются в качестве начальной точки для создания видовой матрицы, которая будет применяться к моделям в сцене. Видовая матрица параллельно переносит и поворачивает объекты, чтобы поместить их в пространство камеры, где камера находится в начале координат. Один из способов создания видовой матрицы — это сочетание матрицы параллельного переноса с матрицами поворота для каждой оси. При таком подходе применяется следующее общее матричное уравнение.

![уравнение видового преобразования](images/viewtran.png)

В этой формуле V — это создаваемая видовая матрица, T — матрица параллельного переноса, которая перемещает объекты в мире, а Rₓ – R<sub>z</sub> — матрицы поворота, которые поворачивают объекты вокруг осей X, Y и Z. Матрицы параллельного переноса и поворота основываются на логическом положении и ориентации камеры в мировом пространстве. Таким образом, если логическое положение камеры в мире — &lt;10,20,100&gt;, задача матрицы параллельного переноса — переместить объекты на -10 единиц по оси X, на -20 единиц вдоль по Y и на -100 единиц по оси Z. Матрицы поворота в формуле основываются на ориентации камеры— на том, насколько оси пространства камеры повернуты по отношению к мировому пространству. Например, если упомянутая выше камера направлена прямо вниз, ее ось Z на 90 градусов (пи/2 радиана) повернута относительно оси Z мирового пространства, как показано на следующем рисунке.

![иллюстрация видового пространства камеры в сравнении с мировым пространством](images/camtop.png)

Матрицы поворота применяют повороты равной — но противоположной — величины к моделям в сцене. Видовая матрица для этой камеры предполагает поворот на –90 градусов вокруг оси X. Матрица поворота объединяется с параллельного переноса для создания видовой матрицы, которая корректирует положение и ориентацию объектов в сцене так, что их верх обращен к камере, создавая впечатление, что камера находится над моделью.

## <a name="span-idsettingupaviewmatrixspanspan-idsettingupaviewmatrixspanspan-idsettingupaviewmatrixspansetting-up-a-view-matrix"></a><span id="Setting_Up_a_View_Matrix"></span><span id="setting_up_a_view_matrix"></span><span id="SETTING_UP_A_VIEW_MATRIX"></span>Установка видовой матрицы


Direct3D использует мировую матрицу и видовую матрицу для конфигурирования нескольких внутренних структур данных. Каждый раз, когда вы устанавливаете новую мировую или видовую матрицу, система пересчитывает соответствующие внутренние структуры. Частая установка этих матриц занимает много вычислительного времени. Свести к минимуму количество необходимых вычислений можно путем конкатенации мировой и видовой матриц в мировую-видовую матрицу, задать ее в качестве мировой матрицы, а затем установить видовую матрицу в единичную. Сохраняйте кэшированные копии отдельных мировых и видовых матриц, чтобы вы могли изменять, объединять и сбрасывать мировую матрицу по необходимости.

## <a name="span-idrelated-topicsspanrelated-topics"></a><span id="related-topics"></span>Статьи по теме


[Преобразования](transforms.md)

 

 




