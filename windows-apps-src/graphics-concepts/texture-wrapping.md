---
title: Обтекание текстур
description: Обтекание текстур меняет базовый способ, которым Direct3D растеризует текстурированные многоугольники с помощью координат текстуры, указанных для каждой вершины.
ms.assetid: C28FB369-9A91-4D57-A96D-4A5D36484B35
keywords:
- Обтекание текстур
author: michaelfromredmond
ms.author: mithom
ms.date: 02/08/2017
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: 28dcb134b87ac136b341d5b1f349ac9d656ef642
ms.sourcegitcommit: 70ab58b88d248de2332096b20dbd6a4643d137a4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/01/2018
ms.locfileid: "5919152"
---
# <a name="texture-wrapping"></a>Обтекание текстур


Обтекание текстур меняет базовый способ, которым Direct3D растеризует текстурированные многоугольники с помощью координат текстуры, указанных для каждой вершины. Во время растеризации многоугольника система выполняет интерполяцию между координатами текстуры в каждой вершине многоугольника для определения текселя, который должен использоваться для каждого пикселя многоугольника. Как правило, система воспринимает текстуры как двухмерные плоскости, интерполируя новые тексели, используя короткий маршрут из точки А текстуры в точку Б. Если точка А представляет собой координаты на текстуре 0,8 и 0,1, а точка Б — координаты 0,1 и 0,1, то линия интерполяции выглядит так, как представлено на следующей диаграмме.

![Диаграмма линии интерполяции между двумя точками](images/interp1.png)

Обратите внимание, что кратчайший путь между точками A и B на этом рисунке проходит примерно через середину текстуры. Включение обтекания координат текстуры U или V изменяет то, каким образом Direct3D определяет кратчайший путь между координатами на текстуре в направлении U или V. По своему определению обтекание текстур заставляет средство прорисовки выбирать кратчайший путь между наборами координат текстуры, предполагая, что точки 0,0 и 1,0 совпадают. Последнее представляет сложность: можно представить, что включение обтекания текстуры в одном направлении заставляет систему обрабатывать текстуру так, будто она обернута вокруг цилиндра. В качестве примера рассмотрим следующую диаграмму.

![диаграмма текстуры с двумя точками, обернутой вокруг цилиндра](images/interp2.png)

На предыдущем рисунке показано как обтекание в направлении U влияет на то, как система интерполирует координаты текстуры. Используя те же точки, что и в примере для обычных текстур без обтекания, можно заметить, что короткий путь между точками A и B уже не проходит посередине текстуры; теперь он лежит через границу, где вместе располагаются координаты 0,0 и 1,0. Обтекание в направлении V работает аналогичным образом, за исключением того, что происходит оборачивание текстурой цилиндра, лежащего на боку. Обтекание одновременно в направлениях U и V является более сложным. В этом случае текстура представляется в виде тора или кольца.

Наиболее распространенное практическое применение обтекания текстур — сопоставление окружения. Обычно текстурированный с помощью карты окружения объект выглядит сильно отражающим и демонстрирует в зеркальном отображении окружение объекта в сцене. Для примера представьте комнату с четырьмя стенами, на каждой из который изображена одна из букв — R, G, B, Y и соответствующие буквам цвета: красный, зеленый, синий и желтый. Карта сопоставления окружения для такой простой комнаты может выглядеть как на следующем рисунке.

![изображение вертикальных полос красного, зеленого, синего и желтого цветов](images/envmap.png)

Представьте, что потолок комнаты поддерживается четырехгранной колонной с полностью отражающей поверхностью. Сопоставить текстуру карты окружения колонне просто, а сделать так, чтобы колонна выглядела так, будто она отражает буквы и цвета — сложнее. На следующей схеме показана каркасная модель колонны с применимыми координатами текстуры, указанными рядом с вершинами в верхней части колонны. Шов в месте, где обтекание пересекает края текстуры, показан пунктирной линией.

![изображение прямоугольника, разделенного пунктирной линией](images/seam.png)

При включенном обтекании в направлении U на текстурированной колонне правильно отображаются цвета и символы карты сопоставления окружения, а в месте шва в передней части текстуры средство программной прорисовки надлежащим образом выбирает кратчайший маршрут между координатами текстуры с учетом того, что координаты U 0,0 и 1,0 расположены в одном и том же месте. Текстурированная колонна выглядит как на следующем рисунке.

![изображение колонны, состоящий из красного, зеленого, синего и желтого квадрантов](images/tex-seam.png)

Если обтекание текстуры не включено, средство программной прорисовки не производит интерполяцию в направлении, необходимом для создания правдоподобного отраженного изображения. Вместо этого область в передней части колонны содержит сжатую по горизонтали версия текселей между координатами U 0,175 и 0,875, так как они проходят через центр текстуры. Эффект обтекания не проявляется.

Не следует путать обтекание текстур с режимами адресации текстур с аналогичным названием. Обтекание текстур выполняется до адресации текстуры. Убедитесь, что данные обтекания текстуры не содержат координат текстуры за пределами диапазона \[0,0–1,0\], так как это приведет к неопределенным результатам. Дополнительные сведения об адресации текстур см. в статье [Режимы адресации текстур](texture-addressing-modes.md).

## <a name="span-iddisplacementmapwrappingspanspan-iddisplacementmapwrappingspanspan-iddisplacementmapwrappingspandisplacement-map-wrapping"></a><span id="Displacement_Map_Wrapping"></span><span id="displacement_map_wrapping"></span><span id="DISPLACEMENT_MAP_WRAPPING"></span>Обтекание картами смещения


Карты смещения интерполируются движком тесселяции. Поскольку режим обтекания для движка тесселяции указать невозможно, обтекание текстуры невозможно выполнить с помощью карт смещения. Приложение может использовать набор вершин, который обеспечивает интерполяцию для обтекания в любом направлении. В приложении также можно указать, чтобы интерполяция производилась простым линейным способом.

## <a name="span-idrelated-topicsspanrelated-topics"></a><span id="related-topics"></span>Статьи по теме


[Текстуры](textures.md)

 

 




