---
title: Графический конвейер
description: Графический конвейер Direct3D предназначен для создания графики для игр, действие в которых разворачивается в реальном времени. Данные поступают с устройств ввода на устройства вывода, проходя через все настраиваемые или программируемые этапы.
ms.assetid: C9519AD0-5425-48BD-9FF4-AED8959CA4AD
keywords:
- Графический конвейер
- Этапы конвейера
author: michaelfromredmond
ms.author: mithom
ms.date: 02/08/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
ms.localizationpriority: medium
ms.openlocfilehash: 6cb50af5facdbf4271c9911f0e1f536dead0b8b8
ms.sourcegitcommit: 897a111e8fc5d38d483800288ad01c523e924ef4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/13/2018
ms.locfileid: "1044913"
---
# <a name="graphics-pipeline"></a>Графический конвейер


Графический конвейер Direct3D предназначен для создания графики для игр, действие в которых разворачивается в реальном времени. Данные поступают с устройств ввода на устройства вывода, проходя через все настраиваемые или программируемые этапы.

Все этапы можно настроить с помощью API Direct3D. Этапы с использованием общих ядер шейдеров (прямоугольные блоки со скругленными краями) можно программировать с помощью языка программирования [HLSL](https://msdn.microsoft.com/library/windows/desktop/bb509561). Это обеспечивает высочайшую гибкость и адаптивность конвейера.

Наиболее распространены этапы шейдера вершин (VS) и построителя текстуры (PS). Если не предоставить даже эти этапы шейдеров, используются холостая команда по умолчанию, сквозной шейдер вершин и построитель текстуры.

![схема потока данных в программируемом конвейере direct3d 11](images/d3d11-pipeline-stages.jpg)

## <a name="input-assembler-stage"></a>Этап сборщика входных данных

|-|-| | Цель | [Этап Input Assembler (IA)](input-assembler-stage--ia-.md) питания простые и соседство данных в конвейер, например треугольники, линии и точки, в том числе семантика идентификаторы, чтобы обеспечить более эффективный текстур за счет уменьшения обработки для примитивов, которые еще не были уже обработать. | | Входные данные | Простые данные (треугольники, строки или точки), от пользователя, заполненные буферов памяти. А также, возможно, данные смежности. Треугольник равен 3 вершины каждого из них и возможно 3 вершин для соседство данные на один треугольник. | | Выходные данные | Примитивы вложенные сгенерированное системой значения (например, как простые идентификатор, идентификатор экземпляра или идентификатор вершины). |

## <a name="vertex-shader-stage"></a>Этап шейдера вершин

|-|-| | Цель | На [стадии вершинный построитель текстуры (VS)](vertex-shader-stage--vs-.md) обрабатывает вершин, обычно для выполнения операции, такие как преобразования, выбор обложки и освещения. Шейдер вершин принимает одну входную вершину и создает одну выходную вершину. Операции, отдельных вершин, такие как преобразования, Skinning, Morphing и повершинное освещение. | | Входные данные | Один узел, VertexID и идентификатор экземпляра значения сгенерированное системой. Входной вершины каждого вершинный построитель текстуры может состоять из до 16 векторов 32-разрядная версия (до 4 компоненты каждого). | | Выходные данные | Один узел. Каждой вершины вывода может состоять из до 16 32-разрядная версия 4-компонент векторов. |
 
## <a name="hull-shader-stage"></a>Этап шейдера поверхностей
 
|-|-| | Цель | На [стадии построитель текстуры оболочка (HS)](hull-shader-stage--hs-.md) — это один из этапов мозаики, которые эффективно разбить одной поверхности модели в много треугольники. Шейдер поверхностей вызывается единожды для каждого участка и преобразует входные контрольные точки, определяющие поверхность низкого порядка, в контрольные точки, формирующие участок. Он также выполняет некоторые вычисления на исправление для предоставления данных рабочей области Tessellator (служб Терминалов), а в рабочую область домена построитель текстуры (доменных служб Active Directory). | | Входные данные | От 1 до 32 ввода контрольные точки которого определяют поверхность низкого приоритета. | | Выходные данные | От 1 до 32 контрольные точки выходных данных, которой составляющих исправления. Построитель текстуры оболочка объявляет состояние для этапа Tessellator (служб Терминалов), включая количество контрольных точек, тип лицевой исправлений и тип секционирования для использования при tessellating. |

## <a name="tessellator-stage"></a>Этап тесселяции

|-|-| | Цель | [Этап Tessellator (TS)](tessellator-stage--ts-.md) создает шаблон выборки домена, который представляет исправление геометрии и создает набор объектов меньшего размера (треугольники, точки или строки), которые подключаются в этих примерах. | | Входные данные | Tessellator один раз работает на исправлений с помощью факторы мозаики (которые определяют, насколько будет tessellated домена) и тип секционирования (который задает алгоритм, используемый для slice копирование исправления), которые передаются в из сцены построитель текстуры оболочка. | | Выходные данные | Tessellator выводит uv (и при необходимости w) координаты и контактной топологии в рабочую область домена shader. |

## <a name="domain-shader-stage"></a>Этап шейдера доменов

|-|-| | Цель | На [стадии домена построитель текстуры (доменных служб Active Directory)](domain-shader-stage--ds-.md) вычисляет позицию вершины подразделяется на группу точки исправление выходных данных; вычисляется позицию вершины, соответствующий пример каждого домена. Домен shader выполняется после каждого tessellator стадии вывода точка имеет доступ только для чтения к shader оболочка вывода исправлений и вывода константы исправлений и рабочей области tessellator вывода UV-координаты. | | Входные данные | Домен shader использует контрольные точки выходные данные из [рабочей области построитель текстуры оболочка (HS)](hull-shader-stage--hs-.md). Выходные данные шейдера доменов включают контрольные точки, данные констант участков и факторы тесселяции (факторы тесселяции могут включать значения, используемые тесселятором с фиксированными функциями, а также необработанные значения— перед округлением с помощью целочисленной тесселяции,— например для упрощения геоморфизма). Домен shader вызывается один раз за координата выходные данные из [рабочей области Tessellator (служб Терминалов)](tessellator-stage--ts-.md). | | Выходные данные | В рабочую область домена построитель текстуры (доменных служб Active Directory) выводит позицию вершины подразделяется на группу точки в выходных данных исправлений. |

## <a name="geometry-shader-stage"></a>Этап шейдера геометрии

|-|-| | Цель | [Построитель текстуры геометрия (GS) стадии](geometry-shader-stage--gs-.md) обрабатывает всей примитивы: треугольники, линии и точки, а также их соседних вершин. Он поддерживает усложнение и упрощение геометрии. Он полезен для таких алгоритмов, как расширение спрайтов точек, динамические системы частиц, создание меха/"плавников", создание объемных теней, однопроходная отрисовка с использованием кубической карты, замена материалов по примитивам и настройка материалов по примитивам, включая создание барицентрических координат в качестве данных примитива, чтобы построитель текстуры мог выполнить настраиваемую интерполяцию атрибутов. | | Входные данные | В отличие от построителя текстуры, которые работают с одного узла построитель текстуры геометрии входными значениями являются грани для полного простой (три вершин треугольников, два вершин линий или одной вершины точки). | | Выходные данные | В рабочей области геометрии построитель текстуры (GS) способен вывод нескольких вершин форматы одной выбранной топологии. Доступны следующие выходные топологии шейдера геометрии: <strong>tristrip</strong>, <strong>linestrip</strong> и <strong>pointlist</strong>. Количество сгенерированных примитивов может свободно меняться при каждом вызове шейдера геометрии, но максимальное количество генерируемых вершин необходимо объявить статически. Длина полосы создается для вызова построитель текстуры геометрии может быть произвольной и новых лент можно создать с помощью функции [RestartStrip](https://msdn.microsoft.com/library/windows/desktop/bb509660) HLSL. |

## <a name="stream-output-stage"></a>Этап потокового вывода

|-|-| | Цель | [Выходные данные потока (т) стадии](stream-output-stage--so-.md) постоянно выводит (или отправляет) данных вершин из предыдущей активной рабочей области для одного или нескольких буферов памяти. Данные в потоковом режиме передается в работе в памяти можно recirculated обратно в конвейере как входные данные или чтение обратной из ЦП. | | Входные данные | Данные вершин из предыдущей стадии конвейер. | | Выходные данные | Стадии выходные данные потока (т) постоянно выводит (или отправляет) данных вершин из предыдущей active сцены, такие как сцены построитель текстуры геометрия (GS) для одного или нескольких буферов памяти. Если стадии построитель текстуры геометрия (GS) неактивных и стадии выходные данные потока (т) является активным, его постоянно вывода вершин из сцены домена построитель текстуры (доменных служб Active Directory) в буферов памяти (если доменных служб Active Directory также неактивных из сцены вершинный построитель текстуры (VS)). |

## <a name="rasterizer-stage"></a>Этап растеризации

|-|-| | Цель | Примитивы картинки [стадии прорисовки (RS)](rasterizer-stage--rs-.md) , которых нет в представлении подготавливает примитивы рабочей области построителя текстуры (PS) и определяет, как вызывать текстур пикселей. Преобразует векторной сведения (состоит из фигур или примитивы) в изображение растровых изображений (состоять из пикселей) для отображения в режиме реального времени 3D graphics. | | Входные данные | Вершин (x, y, z, w) поступающих в средство прорисовки стадии предполагается, что в однородных картинок пространства. В этом координат ось X указывает вправо, Y указывает и Z указывает от камеры. | | Выходные данные | Фактические пикселей, которые должны быть отображены. Включает в себя некоторые атрибуты вершин для использования в интерполяции с текстуры. |

## <a name="pixel-shader-stage"></a>Этап построителя текстуры
 
|-|-| | Цель | На [стадии построителя текстуры (PS)](pixel-shader-stage--ps-.md) получает интерполированные данные для простой и создает на точку данные, такие как цвет. | | Входные данные | При настройке конвейер без shader геометрии построитель текстуры ограничено 16, 32-разрядная версия, 4-компонент входные данные. В противном случае шейдер пикселей может принимать до 32 32-разрядных, 4-компонентных входных данных. Входные данные шейдера пикселей включают атрибуты вершин (которые можно интерполировать с коррекцией перспективы или без нее) или могут рассматриваться как константы примитивов. Входные данные шейдера пикселей интерполируются на основе атрибутов вершин растеризуемого примитива в зависимости от объявленного режима интерполяции. Если примитив обрезается до растеризации, режим интерполяции также учитывается в процессе обрезки. | | Выходные данные | Построитель текстуры можно вывода до 8, 32-разрядная версия, 4-компонент цвета или нет цвет Если отброшенного пикселя. Должен быть объявлен пиксель построитель текстуры register компонентами, прежде чем их можно будет использовать; Каждый регистр разрешено четкие маска и записи выходных данных. |

## <a name="output-merger-stage"></a>Этап слияния вывода
 
|-|-| | Цель | [Стадии слияния вывода (OM)](output-merger-stage--om-.md) объединяет различные типы выходные данные (построитель текстуры пикселов, сведения о число уровней и набор элементов) с содержимое буферов глубины/набор элементов и цели визуализации для создания результата окончательный конвейер. | | Входные данные | Исходные данные слияния выходные данные являются состояния конвейера, создания точек данных текстур пикселей, содержимое целевые визуализации и содержимое буферов глубины/набор элементов. | | Выходные данные | Итоговая отображаемая цвет пикселя. |

## <a name="related-topics"></a>Статьи по теме

- [Обучающее руководство по графике Direct3D](index.md)

- [Конвейер вычислений](compute-pipeline.md)
