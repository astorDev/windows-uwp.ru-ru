---
author: TerryWarwick
title: Объекты устройств PointOfService
description: Сведения о создании объектов устройств PointOfService
ms.author: jken
ms.date: 06/19/2018
ms.topic: article
keywords: Windows 10, UWP, точка обслуживания, POS
ms.localizationpriority: medium
ms.openlocfilehash: 31af943ab4a9231f58fb2e3d5489e9ae80d8d565
ms.sourcegitcommit: e38b334edb82bf2b1474ba686990f4299b8f59c7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/15/2018
ms.locfileid: "6837160"
---
# <a name="pointofservice-device-objects"></a>Объекты устройств PointOfService

## <a name="creating-a-device-object"></a>Создание объекта устройства
После определения устройства PointOfService, которое вы хотите использовать из нового перечисления или хранимого идентификатора устройства, просто вызовите метод [**FromIdAsync**](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.barcodescanner.fromidasync) в [**DeviceID**](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation.id), который вы выбрали программным способом или который пользователь выбрал для создания объекта POS-устройства.

В этом примере осуществляется создание нового объекта BarcodeScanner с FromIdAsync с помощью идентификатора устройства. В случае сбоя при создании объекта регистрируется сообщение об отладке.

```Csharp

    BarcodeScanner barcodeScanner = await BarcodeScanner.FromIdAsync(DeviceId);

    if(barcodeScanner != null)
    {
        // after successful creation, claim the scanner for exclusive use and enable it to exchange data
    }
    else
    {
        Debug.WriteLine("Failure to create barcodeScanner object");
    }
    
```

После создания объекта устройства можно осуществлять доступ к методам, свойствам и событиям устройства.  

## <a name="device-object-lifecycle"></a>Жизненный цикл объекта устройства
До выпуска Windows 8 у приложений был простой жизненный цикл. Приложения Win32 и .NET выполнялись или не выполнялись, и периферийные устройства PointOfService, как правило, присваивались для всего жизненного цикла приложения. Когда пользователь сворачивал их или переключался на другие задачи, они продолжали работу. Этого было достаточно, пока портативные устройства и управление питанием не стали играть более важную роль.

В Windows 8 была представлена новая модель приложений — приложения UWP. На высоком уровне было добавлено новое приостановленное состояние. Приложение UWP приостанавливается вскоре после того, как пользователь свернет его или переключится на другое приложение. Это означает, что потоки приложения будут остановлены, а приложение останется в памяти, если операционной системе не потребуется освободить ресурсы, и любые объекты устройств, представляющие периферийные устройства PointOfService, будут автоматически закрыты, чтобы разрешить доступ к периферийным устройствам для других приложений. Когда пользователь возвращается к приложению, его можно быстро перевести в состояние выполнения, а также восстановить подключения периферийных устройств PointOfService при условии, что они по-прежнему доступны при возобновлении работы.

Вы можете определить, когда объект закрывается по любой причине с помощью <DeviceObject>. Затем обработчик закрытого события регистрирует код устройства, чтобы можно было восстановить подключение в будущем.   Кроме того, вы можете обработать это событие при получении уведомления о приостановке приложения, чтобы сохранить код устройства для восстановления подключений устройств при получении уведомления о возобновлении работы приложения.  Убедитесь, что вы не удвоили обработчики событий и повторяющиеся действия для объекта устройства при получении уведомлений <DeviceObject>.Closed (Закрыто) и "Приостановка приложения".

> [!TIP]
> Дополнительные сведения о жизненном цикле приложения универсальной платформы Windows (для Windows 10) см. в следующих разделах:
> - [Жизненный цикл приложения универсальной платформы Windows (UWP) для Windows 10](../launch-resume/app-lifecycle.md)
> - [Обработка приостановки работы приложения](../launch-resume/suspend-an-app.md)
> - [Обработка возобновления работы приложения](../launch-resume/resume-an-app.md)
