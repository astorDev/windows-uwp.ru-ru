---
author: mcleblanc
ms.assetid: 5A47301A-2291-4FC8-8BA7-55DB2A5C653F
title: Базы данных SQLite
description: SQLite – это бессерверное встраиваемое ядро СУБД. В этой статье описано, как использовать библиотеку SQLite, входящую в состав пакета SDK, а также как упаковывать собственную библиотеку SQLite в универсальном приложении для Windows или выполнять ее сборку из источника.
---
# Базы данных SQLite

\[ Обновлено для приложений UWP в Windows 10. Статьи о Windows 8.x см. в [архиве](http://go.microsoft.com/fwlink/p/?linkid=619132) \]


SQLite – это бессерверное встраиваемое ядро СУБД. В этой статье описано, как использовать библиотеку SQLite, входящую в состав пакета SDK, а также как упаковывать собственную библиотеку SQLite в универсальном приложении для Windows или выполнять ее сборку из источника.

## Описание и назначение SQLite

SQLite представляет собой встраиваемую бессерверную базу данных с открытым исходным кодом. С годами она стала основной использующейся на стороне устройства технологией для хранения данных на многих платформах и устройствах. Универсальная платформа Windows (UWP) поддерживает работу с базой данных SQLite, которую, в частности, рекомендуется использовать в качестве локального хранилища на всех устройствах под управлением Windows 10.

SQLite лучше всего подходит для работы с приложениями для телефона, встраиваемыми приложениями для Windows 10 IoT Базовая (IoT Core), а также в качестве кэша для данных сервера реляционных баз данных предприятия (RDBS). Эта база данных позволяет удовлетворить большую часть требований, предъявляемых к процессу локального доступа к данным, кроме тех случаев, когда необходимо выполнять большой объем параллельных операций записи или сценарии масштабирования больших массивов данных, что является маловероятным при работе с большинством приложений.

В приложениях для воспроизведения мультимедиа и игровых приложениях SQLite можно также использовать в качестве формата файлов для хранения каталогов или других ресурсов, таких как уровни игры, которые можно скачать с веб-сервера в их исходном виде.

## Добавление SQLite в проект приложения UWP

Существует три способа добавления SQLite в проект приложения UWP.

1.  [Использование SDK SQLite](#using-the-sdk-sqlite)
2.  [Добавление SQLite в пакет приложения](#including-sqlite-in-the-app-package)
3.  [Создание SQLite из источника в Visual Studio](#building-sqlite-from-source-in-visual-studio)

### Использование SDK SQLite

Библиотеку SQLite, входящую в состав UWP SDK, можно использовать для уменьшения размера пакета приложения и позволить платформе выполнять периодическое обновление библиотеки. С помощью SDK SQLite также можно повысить производительность, например, сократить время запуска приложений при условии, что библиотека SQLite ранее уже была загружена в память для использования с системными компонентами.

Чтобы создать ссылку на SDK SQLite, добавьте в свой проект следующий заголовок. Заголовок также содержит версию SQLite, поддерживаемую платформой.

`#include <winsqlite/winsqlite3.h>`

Настройте привязку проекта к winsqlite3.lib. В **Обозревателе решений** щелкните правой кнопкой мыши ваш проект и выберите **Свойства** &gt; **Компоновщик** &gt; **Ввод**, а затем добавьте winsqlite3.lib в **Дополнительные зависимости**.

### 2. Добавление SQLite в пакет приложения

Иногда может потребоваться упаковать собственную библиотеку вместо использования библиотеки SDK. К примеру, может возникнуть необходимость в использовании определенной версии библиотеки в ваших кроссплатформенных клиентах, отличной от версии SQLite, входящей в пакет SDK.

Установите библиотеку SQLite на расширение Visual Studio для универсальной платформы Windows, доступное на веб-сайте SQLite.org, или с помощью средства "Расширения и обновления".

![Экран «Расширения и обновления»](./images/extensions-and-updates.png)

После установки расширения создайте ссылку на следующий файл заголовка в коде.

`#include <sqlite3.h>`

### 3. Создание SQLite из источника в Visual Studio

Иногда может потребоваться выполнить компиляцию собственной двоичной библиотеки SQLite для использования [различных параметров компилятора](http://www.sqlite.org/compile.html) с целью уменьшения размера файла, настройки производительности библиотеки или подстройки ее набора функций под ваше приложение. SQLite предоставляет возможности для настройки платформы, установки значений параметров по умолчанию, задания ограничений размера, управления рабочими характеристиками, включения функций, которые обычно отключены, отключения функции, которые обычно включены, исключения функций, активации механизмов анализа и отладки, а также управления процессом выделения памяти в Windows.

*Добавление источника в проект Visual Studio*

Исходный код SQLite можно скачать на [странице скачивания веб-сайта SQLite.org](https://www.sqlite.org/download.html). Добавьте этот файл в проект Visual Studio приложения, в котором требуется использовать SQLite.

*Настройте препроцессоры*

В дополнение к любым другим [параметрам времени компиляции](http://www.sqlite.org/compile.html) всегда используйте параметр SQLITE\_OS\_WINRT и SQLITE\_API=\_\_declspec(dllexport).

![Экран страниц свойств SQLite](./images/property-pages.png)

## Управление базой данных SQLite

Базы данных SQLite можно создавать, обновлять и удалять с помощью API-интерфейсов SQLite C. Сведения об API-интерфейсе SQLite C см. на странице веб-сайта SQLite.org [Введение в интерфейс SQLite C/C++](http://www.sqlite.org/cintro.html).

Чтобы лучше разобраться в работе SQLite, начнем с главной задачи любой базы данных на основе SQL – выполнения инструкций SQL. Следует помнить о двух объектах:

-   [Маркер подключения к базе данных](https://www.sqlite.org/c3ref/sqlite3.html)
-   [Подготовленный объект оператора](https://www.sqlite.org/c3ref/stmt.html)

Существует шесть интерфейсов для выполнения операций с базами данных на этих объектах:

-   [sqlite3\_open()](https://web.archive.org/web/20141228070025/http:/www.sqlite.org/c3ref/open.html)
-   [sqlite3\_prepare()](https://web.archive.org/web/20141228070025/http:/www.sqlite.org/c3ref/prepare.html)
-   [sqlite3\_step()](https://web.archive.org/web/20141228070025/http:/www.sqlite.org/c3ref/step.html)
-   [sqlite3\_column()](https://web.archive.org/web/20141228070025/http:/www.sqlite.org/c3ref/column_blob.html)
-   [sqlite3\_finalize()](https://web.archive.org/web/20141228070025/http:/www.sqlite.org/c3ref/finalize.html)
-   [sqlite3\_close()](https://web.archive.org/web/20141228070025/http:/www.sqlite.org/c3ref/close.html)

 

 






<!--HONumber=May16_HO2-->


