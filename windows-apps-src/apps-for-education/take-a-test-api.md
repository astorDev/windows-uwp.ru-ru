---
Description: API JavaScript для приложения Microsoft «Тестирование» позволяет проводить безопасное тестирование. Приложение "Тестирование" предоставляет защищенный браузер, не позволяющий учащимся использовать другие ресурсы компьютера или интернет-ресурсы во время теста.
title: API JavaScript для приложения "Тестирование".
ms.assetid: 9bff6318-504c-4d0e-ba80-1a5ea45743da
ms.date: 08/08/2018
ms.topic: article
keywords: Windows 10, uwp, для образовательных учреждений
ms.localizationpriority: medium
ms.openlocfilehash: bee8a04e3b4d57caf7da3e21f2be3c789d83be90
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57627599"
---
# <a name="take-a-test-javascript-api"></a>API JavaScript для приложения "Тестирование"

[Выполнить тест](https://technet.microsoft.com/edu/windows/take-tests-in-windows-10) такое тестирование приложения универсальной платформы Windows на основе веб-обозревателя, выполняющий визуализацию тестирование через Интернет заблокированное устройство для тестирования ответственного, что позволяет преподавателям сосредоточиться на оценке содержимого, а не как для обеспечения безопасности среды. Для этого используется API-интерфейс JavaScript, который может применять любое веб-приложение. API-интерфейс приложения "Тестирование" поддерживает [стандарт API для браузеров SBAC](https://www.smarterapp.org/documents/SecureBrowserRequirementsSpecifications_0-3.pdf), который будет полезен во время важных тестов по обязательным элементам программы.

Дополнительные сведения о самом приложении см. в [техническом справочнике по приложению "Тестирование"](https://technet.microsoft.com/edu/windows/take-a-test-app-technical?f=255&MSPPError=-2147217396). Справку по устранению неполадок см. в разделе [Устранение неполадок приложения "Тестирование" с помощью средства просмотра событий](troubleshooting.md).

## <a name="reference-documentation"></a>Справочная документация
API-интерфейс приложения "Тестирование" размещен в следующих пространствах имен. Обратите внимание, что все API-интерфейсы зависят от глобального объекта `SecureBrowser`.

| Пространство имен | Описание |
|-----------|-------------|
|[пространство имен безопасности](#security-namespace)|Содержит API-интерфейсы, которые позволяют заблокировать устройство для тестирования и активировать среду тестирования. |

### <a name="security-namespace"></a>Пространство имен security

Пространство имен безопасности позволяет заблокировать устройство, проверьте список пользовательских и системных процессов, получения MAC и IP-адресов и очистить кэшированные веб-ресурсов.

| Метод | Описание   |
|--------|---------------|
|[Блокировки](#lockDown) | Блокирует устройство для тестирования. |
|[isEnvironmentSecure](#isEnvironmentSecure) | Определяет, применяется ли по-прежнему на устройстве контекст блокировки. |
|[getDeviceInfo](#getDeviceInfo) | Получает сведения о платформе, на которой выполняется приложение тестирования. |
|[examineProcessList](#examineProcessList)|Получает список выполняемых процессов пользователя и системы.|
|[Закрыть](#close) | Закрывает браузер и разблокирует устройство. |
|[getPermissiveMode](#getPermissiveMode)|Проверяет, включен или выключен разрешающей режим.|
|[setPermissiveMode](#setPermissiveMode)|Включение или выключение разрешающего режима.|
|[emptyClipBoard](#emptyClipBoard)|Очищает системный буфер обмена.|
|[getMACAddress](#getMACAddress)|Получает список MAC-адресов устройства.|
|[getStartTime](#getStartTime) | Возвращает время запуска приложения тестирования. |
|[getCapability](#getCapability) | Запрашивает информацию о том, включена ли возможность. |
|[setCapability](#setCapability)|Включает или отключает определенную возможность.| 
|[isRemoteSession](#isRemoteSession) | Проверяет, регистрируется ли текущий сеанс удаленно. |
|[isVMSession](#isVMSession) | Проверяет, запущен ли текущий сеанс на виртуальной машине. |

---

<span id="lockDown"/>

### <a name="lockdown"></a>lockDown
Блокирует устройство. Также используется, чтобы разблокировать устройство. Веб-приложение для тестирования вызывает этот метод, перед тем как разрешить учащимся начать тест. Разработчику необходимо выполнить все действия, необходимые для защиты среды тестирования. Действия, предпринимаемые для защиты среды являются устройства, определенных и в примере, включают аспекты, такие как снимки экрана, выключение, отключение разговора в безопасном режиме, очистка буфера обмена системы, введя в полноэкранном режиме, отключение пробелы в OSX 10.7 + устройства и т. д. Приложение тестирования будет включить блокировки, прежде чем оценка начинается и отключит блокировку, когда учащийся выполнила оценки и выходит за пределы безопасной теста.

**Синтаксис**  
`void SecureBrowser.security.lockDown(Boolean enable, Function onSuccess, Function onError);`

**Параметры**  
* `enable` - **значение true,** запустите приложение Take a теста поверх экрана блокировки и применение политик, обсуждаемых в данной [документа](https://technet.microsoft.com/edu/windows/take-a-test-app-technical?f=255&MSPPError=-2147217396). **false**: выполняемое на экране блокировки приложение "Тестирование" останавливается и закрывается, если приложение не заблокировано. В противном случае ничего не происходит.  
* `onSuccess` -[необязательно] функция, вызываемая после блокировки была успешно включена или отключена. Она должен указана быть в форме `Function(Boolean currentlockdownstate)`.  
* `onError` -[необязательно] функция, вызываемая в случае сбоя операции блокировки. Она должен указана быть в форме `Function(Boolean currentlockdownstate)`.  

**Требования к**  
Windows 10 версии 1709

---

<span id="isEnvironmentSecure" />

### <a name="isenvironmentsecure"></a>isEnvironmentSecure
Определяет, применяется ли по-прежнему на устройстве контекст блокировки. Веб-приложение для тестирования вызывает этот метод, перед тем как разрешить учащимся начать тест, и периодически во время теста.

**Синтаксис**  
`void SecureBrowser.security.isEnvironmentSecure(Function callback);`

**Параметры**  
* `callback` -Функция, вызываемая при завершении этой функции. Она должна быть указана в форме `Function(String state)`, где `state` — это строка в формате JSON, содержащая два поля. Первое из них — это поле `secure`, в котором `true` отображается, только если включены все необходимые блокировки (или отключены функции) для активации безопасной среды тестирования и ни одна из них не была скомпрометирована с тех пор, как приложение перешло в режим блокировки. Другое поле, `messageKey`, содержит другие сведения, зависящие от поставщика. Оно используется, чтобы позволить поставщикам размещать дополнительную информацию, которая дополняет логический флаг `secure`:

```JSON
{
    'secure' : "true/false",
    'messageKey' : "some message"
}
```

**Требования к**  
Windows 10 версии 1709

---

<span id="getDeviceInfo" />

### <a name="getdeviceinfo"></a>getDeviceInfo
Получает сведения о платформе, на которой выполняется приложение тестирования. Используется для дополнения любых сведений, которые точно были получены от агента пользователя.

**Синтаксис**  
`void SecureBrowser.security.getDeviceInfo(Function callback);`

**Параметры**  
* `callback` -Функция, вызываемая при завершении этой функции. Она должна быть указана в форме `Function(String infoObj)`, где `infoObj` — это строка в формате JSON, содержащая несколько полей. Должны поддерживаться следующие поля.
    * `os` Представляет тип операционной системы (например: Windows, macOS, Linux, iOS, Android, и т.д.)
    * `name` представляет имя выпуска ОС, в том случае, если он существует (например: Сьерра, Ubuntu).
    * `version` представляет версию операционной системы (например: 10.1, 10 pro и т. д.)
    * `brand` Представляет безопасный браузера фирменной символики (например: OAKS, ЦС, SmarterApp т. д.)
    * `model` Представляет модель устройства для мобильных устройств. значение /не используется для браузеров настольных компьютеров.

**Требования к**  
Windows 10 версии 1709

---

<span id="examineProcessList" />

### <a name="examineprocesslist"></a>examineProcessList
Получает список всех процессов, запущенных на компьютере клиента, принадлежащих пользователю. Приложение тестирования вызывает этот метод, чтобы изучить список и сравнить его со списком процессов, которые добавлены в список блокировок во время цикла тестирования. Этот метод следует вызвать в начале теста и периодически во время выполнения теста. При обнаружении процесса из списка блокировок процесса тест необходимо остановить для сохранения целостности.

**Синтаксис**  
`void SecureBrowser.security.examineProcessList(String[] blacklistedProcessList, Function callback);`

**Параметры**  
* `blacklistedProcessList` -Список процессов, которые приложение тестирования в списке блокировок.  
`callback` — Вызываемая функция когда найдете активных процессов. Она должна быть указана в форме `Function(String foundBlacklistedProcesses)`, где `foundBlacklistedProcesses` имеет следующий вид: `"['process1.exe','process2.exe','processEtc.exe']"`. Значение будет пустым, если не найден ни один процесс из списка блокировок. Если оно равно null, в исходном вызове функции произошла ошибка.

**Примечание.** Список не включает системные процессы.

**Требования к**  
Windows 10 версии 1709

---

<span id="close"/>

### <a name="close"></a>close
Закрывает браузер и разблокирует устройство. Приложение тестирования должно вызывать эту функцию, если пользователь решает выйти из браузера.

**Синтаксис**  
`void SecureBrowser.security.close(restart);`

**Параметры**  
* `restart` — Этот параметр учитывается, но должно быть указано.

**Примечания.** В Windows 10 версии 1607 сначала необходимо заблокировать устройство. В более поздних версиях этот метод закрывает браузер независимо от того, заблокировано ли устройство.

**Требования к**  
Windows 10 версии 1709

---

<span id="getPermissiveMode" />

### <a name="getpermissivemode"></a>getPermissiveMode
Веб-приложение тестирования должно вызывать эту функцию, чтобы определить, включен или выключен разрешающий режим. Разрешающей режим браузера ослабляет некоторые механизмы безопасности, чтобы разрешить специальным возможностям работать с защищенным браузером. Например, браузеры, которые активно блокируют отображение интерфейсов других приложений поверх них, могут ослабить это требование в разрешающем режиме. 

**Синтаксис**  
`void SecureBrowser.security.getPermissiveMode(Function callback)`

**Параметры**  
* `callback` -Функция, вызываемый после завершения этого вызова. Она должна быть указана в форме `Function(Boolean permissiveMode)`, где `permissiveMode` определяет, находится ли браузер в настоящее время в разрешающем режиме. Если значение не определено или равно null, в операции get произошла ошибка.

**Требования к**  
Windows 10 версии 1709

---

<span id="setPermissiveMode" />

### <a name="setpermissivemode"></a>setPermissiveMode
Веб-приложение тестирования должно вызывать эту функцию, чтобы включить или выключить разрешающий режим. Разрешающей режим браузера ослабляет некоторые механизмы безопасности, чтобы разрешить специальным возможностям работать с защищенным браузером. Например, браузеры, которые активно блокируют отображение интерфейсов других приложений поверх них, могут ослабить это требование в разрешающем режиме. 

**Синтаксис**  
`void SecureBrowser.security.setPermissiveMode(Boolean enable, Function callback)`

**Параметры**  
* `enable` — Логическое значение, указывающее состояние предполагаемого широкие режим.  
* `callback` -Функция, вызываемый после завершения этого вызова. Она должна быть указана в форме `Function(Boolean permissiveMode)`, где `permissiveMode` определяет, находится ли браузер в настоящее время в разрешающем режиме. Если значение не определено или равно null, в операции set произошла ошибка.

**Требования к**  
Windows 10 версии 1709

---

<span id="emptyClipBoard"/>

### <a name="emptyclipboard"></a>emptyClipBoard
Очищает системный буфер обмена. Приложение тестирования должно вызывать эту функцию, чтобы принудительного очистить любые данные, которые могут храниться в системном буфере обмена. Функция **[lockDown](#lockDown)** также выполняет эту операцию.

**Синтаксис**  
`void SecureBrowser.security.emptyClipBoard();`

**Требования к**  
Windows 10 версии 1709

---

<span id="getMACAddress" />

### <a name="getmacaddress"></a>getMACAddress
Получает список MAC-адресов устройства. Приложение тестирования должно вызывать эту функцию для диагностики. 

**Синтаксис**  
`void SecureBrowser.security.getMACAddress(Function callback);`

**Параметры**  
* `callback` -Функция, вызываемый после завершения этого вызова. Она должна быть указана в форме `Function(String addressArray)`, где `addressArray` имеет следующий вид: `"['00:11:22:33:44:55','etc']"`.

**"Примечания"**  
Исходные IP-адреса не позволяют отличать компьютеры конечных пользователей на серверах тестирования, так как брандмауэры, устройства NAT или прокси-серверы часто используются в учебных заведениях. MAC-адреса позволяют приложению отличать клиентские компьютеры за общим брандмауэром для диагностики.

**Требования к**  
Windows 10 версии 1709

---

<span id="getStartTime" />

### <a name="getstarttime"></a>getStartTime
Возвращает время запуска приложения тестирования.

**Синтаксис**  
`DateTime SecureBrowser.settings.getStartTime();`

**вернуть**  
Объект DateTime, указывающий время запуска приложения тестирования.

**Требования к**  
Windows 10 версии 1709

---

<span id="getCapability"/>

### <a name="getcapability"></a>getCapability
Запрашивает информацию о том, включена ли возможность. 

**Синтаксис**  
`Object SecureBrowser.security.getCapability(String feature)`

**Параметры**  
`feature` -Строка, чтобы определить, какой механизм следует запрос. Допустимые строки возможности: "screenMonitoring", "printing" и "textSuggestions" (с учетом регистра).

**Возвращаемое значение**  
Эта функция возвращает объект JavaScript или литерал в следующей форме: `{<feature>:true|false}`. **true**, если запрошенная возможность включена; **false**, если возможность не включена или строка возможности является недопустимой.

**Требования** Windows 10 версии 1703

---

<span id="setCapability"/>

### <a name="setcapability"></a>setCapability
Включает или отключает определенную возможность браузера.

**Синтаксис**  
`void SecureBrowser.security.setCapability(String feature, String value, Function onSuccess, Function onError)`

**Параметры**  
* `feature` -Строка, чтобы определить, какой механизм следует задать. Допустимые строки возможности: `"screenMonitoring"`, `"printing"` и `"textSuggestions"` (с учетом регистра).  
* `value` -Желаете включить параметр для функции. Значением должно быть `"true"` или `"false"`.  
* `onSuccess` -[необязательно] функция, вызываемая после успешного завершения операции set. Она должна быть указана в форме `Function(String jsonValue)`, где *jsonValue* имеет следующий вид: `{<feature>:true|false|undefined}`.  
* `onError` -[необязательно] функция, вызываемая, если происходит сбой операции set. Она должна быть указана в форме `Function(String jsonValue)`, где *jsonValue* имеет следующий вид: `{<feature>:true|false|undefined}`.

**"Примечания"**  
Если целевой компонент не известен браузеру, эта функция передает значение `undefined` функции обратного вызова.

**Требования** Windows 10 версии 1703

---

<span id="isRemoteSession"/>

### <a name="isremotesession"></a>isRemoteSession
Проверяет, регистрируется ли текущий сеанс удаленно.

**Синтаксис**  
`Boolean SecureBrowser.security.isRemoteSession();`

**Возвращаемое значение**  
Значение **true**, если текущий сеанс является удаленным; в противном случае — значение **false**.

**Требования к**  
Windows 10 версии 1709

---

<span id="isVMSession"/>

### <a name="isvmsession"></a>isVMSession
Проверяет, запущен ли текущий сеанс на виртуальной машине.

**Синтаксис**  
`Boolean SecureBrowser.security.isVMSession();`

**Возвращаемое значение**  
Значение **true**, если текущий сеанс выполняется на виртуальной машине; в противном случае — значение **false**.

**"Примечания"**  
Эта проверка API может обнаружить только сеансы ВМ, которые выполняются в определенных низкоуровневых оболочках, которые реализуют соответствующие API-интерфейсы

**Требования к**  
Windows 10 версии 1709

---