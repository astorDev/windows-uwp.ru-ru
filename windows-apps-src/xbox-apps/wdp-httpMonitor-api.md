---
title: Портал устройств — справочник по API для мониторинга HTTP
description: Узнайте, как осуществлять доступ к HTTP-трафику из приложения в фокусе на Xbox.
ms.localizationpriority: medium
ms.topic: article
ms.date: 02/08/2017
ms.openlocfilehash: 1e7c07c92c1671cd9051393586e1e8562fa756d0
ms.sourcegitcommit: bad7ed6def79acbb4569de5a92c0717364e771d9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2019
ms.locfileid: "59244100"
---
# <a name="http-monitor-api-reference"></a>Справочник по API для мониторинга HTTP   
Трафик HTTP в режиме реального времени доступен для приложения в фокусе через этот API, если на консоли Xbox был включен монитор HTTP (для этого нужно установить соответствующий флажок в Dev Home).

## <a name="get-if-the-http-monitor-is-enabled"></a>Как узнать, что монитор HTTP включен

**Запрос**

Узнать, включен ли монитор HTTP, можно в Dev Home.

Метод      | Универсальный код ресурса (URI) запроса
:------     | :-----
GET | /ext/httpmonitor/sessions

**Параметры универсального кода ресурса (URI)**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**   
Объект JSON с перечисленными ниже полями.

* Включен: (логическое значение) показывает, включен ли монитор HTTP на консоли Xbox путем установки флажка в Dev Home.

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | Запрос выполнен успешно
4XX | Коды ошибок
5XX | Коды ошибок

## <a name="get-http-traffic-from-the-focused-app"></a>Получение трафика HTTP от приложения в фокусе

**Запрос**

Вы можете получать трафик HTTP от приложения в фокусе на Xbox (кроме системных приложений) в режиме реального времени, если монитор HTTP включен в Dev Home.

Метод      | Универсальный код ресурса (URI) запроса
:------     | :-----
WebSocket | /ext/httpmonitor/sessions

**Параметры универсального кода ресурса (URI)**

- Нет

**Заголовки запроса**

- Нет

**Тело запроса**

- Нет

**Ответ**   
Объект JSON с перечисленными ниже полями.

* Сессии
    * RequestHeaders: (объект JSON) заголовки запроса из запроса HTTP.
    * RequestContentHeaders: (объект JSON) заголовки содержимого запроса из запроса HTTP.
    * RequestURL: (строка) URL-адрес запроса.
    * RequestMethod: (строка) метод запроса.
    * RequestMessage: (строка) сообщение запроса, которое в настоящее время поддерживает только JSON и текстовое содержимое.
    * ResponseHeaders: (объект JSON) заголовки запроса из запроса HTTP.
    * ResponseContentHeaders: (объект JSON) заголовки содержимого запроса из запроса HTTP.
    * StatusCode: (число) код состояния отклика.
    * ReasponsePhrase: (строка) фраза, обозначающая причину отклика.
    * ResponseMessage: (строка) сообщение отклика, которое в настоящее время поддерживает только JSON и текстовое содержимое.

**Код состояния**

Этот API имеет следующие предполагаемые коды состояния.

Код состояния HTTP      | Описание
:------     | :-----
200 | Запрос выполнен успешно
4XX | Коды ошибок
403 | Монитор HTTP отключен, его необходимо включить в Dev Home
5XX | Коды ошибок


**Доступные семейства устройств**

* Windows Xbox