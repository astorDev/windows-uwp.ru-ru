---
author: Mtoepke
title: Вводные сведения о многопользовательских приложениях
description: Простые вводные сведения общего характера о многопользовательской модели Xbox.
ms.author: scotmi
ms.date: 02/08/2017
ms.topic: article
keywords: windows 10, uwp
ms.assetid: 2dde6ed3-7f53-48a6-aebe-2605230decb8
ms.localizationpriority: medium
ms.openlocfilehash: 7534b6764bc98c415b557d100d869df186453626
ms.sourcegitcommit: cbe7cf620622a5e4df7414f9e38dfecec1cfca99
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/20/2018
ms.locfileid: "7424291"
---
# <a name="introduction-to-multi-user-applications"></a>Введение в многопользовательские приложения

В этом разделе кратко представлены общие сведения о многопользовательской модели Xbox.

Модель пользователя Xbox One разработана с учетом требований игровой консоли, которая поддерживает совместное использование одного устройства несколькими игроками. Она позволяет нескольким пользователям выполнить вход со своих контроллеров и использовать консоль одновременно в ходе одного интерактивного сеанса. Это отличается от других устройств с Windows. Пример:
* **Настольные компьютеры с Windows** позволяют нескольким пользователям использовать одно и то же устройство, но у каждого пользователя открыт свой собственный интерактивный сеанс и каждый сеанс совершенно независим от других сеансов на устройстве.
* **Телефоны с Windows** позволяют использовать устройство только одному пользователю. Этот единственный пользователь определяется в ходе запуска при первом включении и не может выйти из системы. Фактически, если другой пользователь захочет использовать устройство, придется выполнить сброс устройства. 
* **Xbox One** позволяет нескольким пользователям выполнить вход и использовать устройство одновременно в ходе одного интерактивного сеанса.

Каждому пользователю в модели пользователя Xbox One соответствует локальная учетная запись пользователя. Эта локальная запись пользователя связана с учетной записью Xbox Live (а значит, и учетной записью Майкрософт). Таким образом, существует однозначное соответствие между учетной записью пользователя Xbox, учетной записью Xbox Live и учетной записью Майкрософт.

## <a name="single-user-applications"></a>Однопользовательские приложения
По умолчанию приложения универсальной платформы Windows (UWP) выполняются в контексте пользователя, запустившего приложение. Этим *однопользовательским приложениям (SUA)* известно только о соответствующем пользователе. Они выполняются в режиме, совместимом с моделью пользователя на других устройствах с Windows. Модель пользователя Xbox решает, какой пользователь связан с приложением, и проверяет при запуске приложения, выполнил ли пользователь вход. В этой модели авторам приложений и игр UWP не нужно ничего специально предпринимать для работы в Xbox. 

## <a name="multi-user-applications"></a>Многопользовательские приложения
Игры UWP могут использовать многопользовательскую модель Xbox One. Эти *многопользовательские приложения* (MUA) выполняются в контексте учетной записи системы (т. н. учетной записи по умолчанию) и могут использовать все преимущества и гибкость модели пользователя Xbox One. Для таких игр модель пользователя Xbox не решает, какой пользователь связан с игрой, и даже не требует, чтобы пользователь вошел для запуска игры. Это означает, что при их написании необходимо недвусмысленно указать требования к пользователям и обеспечить возможность управления таковыми: обязателен ли вход пользователя в систему, используется ли концепция текущего пользователя, возможен ли одновременный ввод данных двумя пользователями и т. д.
   
Активация многопользовательской модели.   
1. Откройте проект в Visual Studio.   
2. Выберите файл package.appxmanifest.xml.   
3. Щелкните по нему правой кнопкой мыши и выберите пункт **Перейти к коду**.   
4. Добавьте следующую строку в раздел `<Properties></Properties>`:

```
<uap:SupportedUsers>multiple</uap:SupportedUsers>
```

### <a name="identifying-users-and-inputs"></a>Идентификация пользователей и типов ввода
Разработчики могут использовать объект KeyRoutedEventArgs.DeviceId, используемый перенаправленными событиями KeyUp и KeyDown, для дифференциации событий, которые создаются разными типами ввода.
Метод Windows.System.UserDeviceAssociation.FindUserFromDeviceId поможет идентифицировать пользователя, связанного с конкретным типом ввода.

См. дополнительные сведения в разделе [KeyRoutedEventArgs.DeviceId](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.input.keyroutedeventargs.deviceid).


## <a name="guidance-on-which-model-to-choose"></a>Руководство по выбору модели
Все приложения UWP и большинство однопользовательских игр можно написать в формате SUA. Рекомендуется рассматривать применение многопользовательской модели Xbox One только при разработке коллективных многопользовательских игр.

## <a name="see-also"></a>См. также
- [UWP на Xbox One](index.md)
