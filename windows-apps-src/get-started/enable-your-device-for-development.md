---
ms.assetid: 54973C62-9669-4988-934E-9273FB0425FD
title: Подготовка устройства к разработке
description: Настройте свое устройство Windows 10 для разработки и отладки.
keywords: Начало работы Лицензия разработчика Visual Studio, лицензия разработчика подготовка устройства
ms.date: 04/09/2019
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: a2d1719379302dd8e996c37e05d7ddaf35a0cf18
ms.sourcegitcommit: b52ddecccb9e68dbb71695af3078005a2eb78af1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/20/2019
ms.locfileid: "74258421"
---
# <a name="enable-your-device-for-development"></a>Подготовка устройства к разработке

## <a name="activate-developer-mode-sideload-apps-and-access-other-developer-features"></a>Активация режима разработчика, загрузка неопубликованных приложений и другие возможности для разработчиков.

![Подготовка устройств к разработке](images/developer-poster.png)

Если вы используете компьютер для повседневных занятий, таких как игры, просмотр веб-страниц, электронной почты или работы с приложениями Office, вам *не* требуется и на самом деле не следует активировать режим разработчика. Остальная часть сведений на этой странице не относится к вам, и вы можете вернуться к своим делам. Спасибо, что заглянули к нам!

Однако если вы создаете программное обеспечение в Visual Studio на компьютере впервые, вам *потребуется* включить режим разработчика на компьютере для разработки и на всех устройствах, которые будут использоваться для тестирования кода. Если открыть проект UWP при выключенном режиме разработчика, то либо откроется страница параметров **Для разработчиков**, либо в Visual Studio отобразится следующее диалоговое окно.

![Диалоговое окно «Включите режим разработчика», которое отображается в Visual Studio](images/latestenabledialog.png)

При отображении этого диалогового окна щелкните ссылку на **раздел параметров для разработчиков**, чтобы открыть страницу параметров **Для разработчиков**.

> [!NOTE]
> Режим разработчика можно в любой момент включить или отключить, перейдя на страницу **Для разработчиков**: просто введите "для разработчиков" в поле поиска Кортаны на панели задач.

## <a name="accessing-settings-for-developers"></a>Доступ к параметрам для разработчиков

Чтобы включить режим разработчика или получить доступ к другим параметрам, сделайте следующее.

1.  В диалоговом окне параметров **Для разработчиков** выберите требуемый уровень доступа.
2.  Прочитайте заявление об ответственности за изменения в системе при выборе данного значения параметра, затем щелкните **Да**, чтобы принять изменения.

> [!NOTE]
> Для включения режима разработчика требуется доступ с правами администратора. Если устройство принадлежит организации, этот параметр может быть недоступен.

Ниже показана страница параметров для семейства компьютеров.

![Чтобы просмотреть параметры, перейдите в раздел «Параметры», выберите пункт «Обновление и безопасность», затем пункт «Для разработчиков».](images/devmode-pc-options.png)

## <a name="which-setting-should-i-choose-sideload-apps-or-developer-mode"></a>Какое значение выбрать: загрузку неопубликованных приложений или режим разработчика

> [!NOTE]
> Начиная с программы предварительной оценки Windows версии 18956 возможность загрузки неопубликованных приложений отключена, а режим разработчика теперь включается с помощью переключателя. Подробнее о загрузке неопубликованных приложений см. в следующем разделе.

 Вы можете включить на устройстве как функции разработчика, так и просто функцию загрузки неопубликованных приложений.

-   Параметр по умолчанию — *Приложения Microsoft Store*. Если вы не разрабатываете приложения или не используете специальные внутренние приложения своей компании, не отключайте этот параметр.
-   *Загрузка неопубликованных приложений* — это установка и запуск или тестирование приложения, которое еще не сертифицировано Microsoft Store. Например, это может быть приложение, используемое только внутри компании.
-   В *режиме разработчика* вы можете загружать неопубликованные приложения, а также запускать приложения из Visual Studio в режиме отладки.

По умолчанию из Microsoft Store можно устанавливать только приложения универсальной платформы Windows. Если вы измените эти параметры, чтобы использовать функции разработчика, это может повлиять на уровень безопасности вашего устройства. Не устанавливайте приложения из непроверенных источников.

### <a name="sideload-apps"></a>Загрузка неопубликованных приложений

> [!NOTE]
> Начиная с программы предварительной оценки Windows версии 18956 возможность загрузки неопубликованных приложений включена по умолчанию. Теперь вы можете развернуть подписанный пакет MSIX на устройстве без специальной настройки.

Параметр "Загрузка неопубликованных приложений" обычно используется компаниями или учебными заведениями, которым необходимо устанавливать пользовательские приложения на управляемых устройствах, не используя Microsoft Store. Этот параметр также может потребоваться пользователям, которые запускают приложения не от корпорации Майкрософт. В этом случае организации обычно применяют политику, отключающую параметр *Приложения UWP*, как показано выше на изображении страницы параметров. Кроме того, организация предоставляет необходимый сертификат и расположение установки для загрузки неопубликованных приложений. Дополнительные сведения см. в статьях TechNet [Загрузка неопубликованных приложений в Windows 10](https://docs.microsoft.com/windows/deploy/sideload-apps-in-windows-10) и [Начало работы по развертыванию приложений в Microsoft Intune](https://docs.microsoft.com/intune/deploy-use/add-apps).

Сведения, предназначенные для определенных семейств устройств

-   Для семейства настольных устройств Вы можете установить пакет приложения (APPX-файл) и любой сертификат, необходимый для запуска приложения, выполнив сценарий Windows PowerShell, созданный с использованием пакета (Add-AppDevPackage.ps1). Дополнительные сведения см. в разделе [Формирование пакетов приложений UWP](/windows/msix/package/packaging-uwp-apps).

-   Для семейства мобильных устройств Если необходимый сертификат уже установлен, вы можете коснуться файла, чтобы установить любой APPX-файл, отправленный вам по электронной почте или на SD-карте.


**Загрузка неопубликованных приложений** — более безопасный вариант, чем режим разработчика, так как вы не сможете устанавливать на устройство приложения без доверенного сертификата.

> [!NOTE]
> При загрузке неопубликованных приложений по-прежнему необходимо следить, чтобы они были получены из надежных источников. При установке неопубликованного приложения, еще не сертифицированного Microsoft Store, вы соглашаетесь, что получили все необходимые права для загрузки этого приложения и несете всю ответственность за любые убытки, которые могут возникнуть в результате установки и запуска приложения. См. раздел "Windows &gt; Microsoft Store" данного [заявления о конфиденциальности](https://privacy.microsoft.com/privacystatement).


### <a name="developer-mode"></a>Режим разработчика

Режим разработчика заменяет требования Windows 8.1 на наличие лицензии разработчика.  Помимо возможностей, предоставляемых функцией загрузки неопубликованных приложений, режим разработчика позволяет выполнять отладку и использовать дополнительные варианты развертывания. Сюда входит запуск службы SSH, чтобы разрешить развертывание на данное устройство. Чтобы остановить эту службу, необходимо отключить режим разработчика.

При включении режима разработчика на компьютере устанавливается пакет компонентов, в том числе:
- Портал устройств Windows. Установка портала устройств и настройка для него правил брандмауэра производятся только в том случае, если включен параметр **Включение портала устройств**.
- Устанавливаются и настраиваются правила брандмауэра для служб SSH, которые разрешают удаленную установку приложений. Включение параметра **Обнаружение устройств** приводит к включению сервера SSH.


## <a name="additional-developer-mode-features"></a>Дополнительные возможности режима разработчика

Для каждого семейства устройств могут быть доступны дополнительные функциональные возможности разработчика. Эти функциональные возможности доступны только в том случае, если режим разработчика включен на устройстве, и могут зависеть от версии ОС.

На этом рисунке представлены возможности разработчика для Windows 10.

![Параметры режима разработчика](images/devmode-mob-options.png)

### <a name="span-iddevice-discovery-and-pairingspandevice-portal"></a><span id="device-discovery-and-pairing"></span>Портал устройств

Дополнительные сведения о портале устройств см. в разделе [Обзор портала устройства с Windows](../debug-test-perf/device-portal.md).

Конкретные инструкции по настройке устройства см. в следующих разделах:
- [Портал устройств для компьютера](https://docs.microsoft.com/windows/uwp/debug-test-perf/device-portal-desktop)
- [Портал устройств для HoloLens](https://docs.microsoft.com/windows/mixed-reality/using-the-windows-device-portal)
- [Портал устройств для Интернета вещей](https://developer.microsoft.com/windows/iot/docs/DevicePortal)
- [Портал устройств для мобильных устройств](../debug-test-perf/device-portal-mobile.md)
- [Портал устройств для Xbox](../xbox-apps/device-portal-xbox.md)

Если у вас возникают проблемы с включением режима разработчика или порталом устройств, посетите форум [Known Issues](https://social.msdn.microsoft.com/Forums/en-US/home?forum=Win10SDKToolsIssues&sort=relevancedesc&brandIgnore=True&searchTerm=%22device+portal%22), чтобы найти способы устранения этих проблем, или изучите раздел [Сбой установки пакета режима разработчика](#failure-to-install-developer-mode-package), чтобы получить дополнительные сведений и узнать больше о том, какие обновления WSUS помогут разблокировать пакет режима разработчика.

### <a name="ssh"></a>SSH

Службы SSH включаются при включении параметра "Обнаружение устройств" на устройстве.  Они используются, если устройство является удаленной целью развертывания для приложений UWP.   Службы называются «SSH Server Broker» и «SSH Server Proxy».

> [!NOTE]
> Это реализация OpenSSH (не Microsoft), которую можно найти на [GitHub](https://github.com/PowerShell/Win32-OpenSSH).  

Чтобы воспользоваться преимуществами служб SSH, можно включить функцию обнаружения устройств для разрешения связывания с помощью PIN-кода. Если планируется запускать другую службу SSH, можно настроить ее с другим портом или отключить службы SSH режима разработчика. Чтобы отключить службы SSH, отключите функцию "Обнаружение устройств".  

Вход с помощью SSH осуществляется с учетной записью DevToolsUser с соответствующим паролем для прохождения аутентификации.  Этот пароль — это PIN-код, отображаемый на устройстве после нажатия кнопки "Связать", и он действует, только пока отображается PIN-код.  Подсистема SFTP также включается для ручного управления папкой DevelopmentFiles, в которую устанавливаются файлы свободного развертывания из Visual Studio.

#### <a name="caveats-for-ssh-usage"></a>Предупреждения об использовании SSH
Сервер SSH, используемый в Windows, еще не удовлетворяет требованиям протокола, поэтому использование клиента SFTP или SSH может потребовать дополнительной настройки.  В частности, подсистема SFTP выполняется в версии 3 или более поздней версии, поэтому любой подключаемый клиент должен быть настроен таким образом, чтобы он смог работать со старым сервером.  Сервер SSH на более старых устройствах использует `ssh-dss` для аутентификации с помощью открытого ключа, что не рекомендовалось при использовании OpenSSH.  Для подключения к таким устройствам клиент SSH необходимо вручную настроить для приема `ssh-dss`.  

### <a name="device-discovery"></a>Обнаружение устройств

При включении обнаружения устройства вы разрешаете, чтобы устройство было видимым для других устройств в сети через mDNS.  Эта функция также позволяет получить PIN-код сервера SSH для связывания с этим устройством нажатием кнопки "Связать", отображающейся после включения обнаружения устройств.  Это окно для PIN-кода должно отобразиться на экране, чтобы вы могли завершить первое развертывание Visual Studio на целевом устройстве.  

![Связывание по PIN-коду](images/devmode-pc-pinpair.PNG)

Обнаружение устройства следует включать только в том случае, если устройство будет являться целью развертывания. Например если вы используете портал устройств для развертывания приложения на телефоне для тестирования, необходимо включить функцию обнаружения устройств на телефоне, но не на компьютере разработчика.

### <a name="optimizations-for-windows-explorer-remote-desktop-and-powershell-desktop-only"></a>Оптимизация для проводника Windows, удаленного рабочего стола и PowerShell (только на ПК)

 Для семейства настольных устройств на странице параметров **Для разработчиков** имеются ссылки на параметры, которые можно использовать для оптимизации компьютера под задачи разработки. Для каждого параметра можно установить флажок и нажать кнопку **Применить** или нажать ссылку **Показать параметры**, чтобы открыть страницу параметров для этого варианта.


## <a name="notes"></a>Заметки
В ранних версиях Windows 10 Mobile параметр "Аварийные дампы" был задан предварительно в меню "Параметры разработчика".  Он был перемещен на [портал устройств](../debug-test-perf/device-portal.md), чтобы его можно было использовать удаленно, а не только через USB-порт.  

Существует ряд средств, которые вы можете использовать для развертывания приложения с компьютера с Windows 10 на мобильном устройстве с Windows 10. Оба устройства должны быть подключены к одной подсети с помощью проводного или беспроводного подключения или соединены друг с другом через USB. При использовании любого из указанных способов будет установлен только пакет приложения (.appx/.appxbundle); сертификаты установлены не будут.

-   Используйте средство развертывания приложений для Windows 10 (WinAppDeployCmd). Узнайте больше о [средстве WinAppDeployCmd](https://docs.microsoft.com/previous-versions/windows/apps/mt203806(v=vs.140)).
-   Вы можете использовать [портал устройств](../debug-test-perf/device-portal.md) для развертывания из браузера на мобильном устройстве с Windows 10 версии 1511 или более поздней версии. Используйте страницу **[Приложения](../debug-test-perf/device-portal.md#apps-manager)** портала устройств для отправки пакета приложения (APPX-файл) и установки его на устройство.

## <a name="failure-to-install-developer-mode-package"></a>Сбой установки пакета режима разработчика
Иногда из-за проблем с сетью или административных конфликтов пакет режима разработчика может установиться неправильно. Пакет режима разработчика требуется для **удаленного** развертывания на этом компьютере для включения SSH с помощью портала устройств из браузера или обнаружения устройств, но не для локальной разработки.  Даже столкнувшись с этими проблемами, вы все равно сможете развернуть приложение локально с помощью Visual Studio или с этого устройства на другом.

Пути обхода этих проблем и другую информацию см. на форуме [Известные проблемы](https://social.msdn.microsoft.com/Forums/en-US/home?forum=Win10SDKToolsIssues&sort=relevancedesc&brandIgnore=True&searchTerm=%22device+portal%22).

> [!NOTE]
> Если режим разработчика не устанавливается правильно, мы рекомендуем отправить нам отзыв. В приложении **Центр отзывов** выберите **Добавить новый отзыв**, затем выберите категорию **Платформа разработки** и подкатегорию **Режим разработчика**. Отправка отзыва поможет корпорации Майкрософт устранить проблему, с которой вы столкнулись.

### <a name="failed-to-locate-the-package"></a>Сбой поиска пакета

"В Центре обновления Windows пакет режима разработчика не найден. Код ошибки 0x80004005. Подробнее".   

Эта ошибка может возникать из-за проблемы сетевого подключения, неверной настройки корпоративных параметров или из-за отсутствия пакета.

Устранение проблемы:

1. Убедитесь, что компьютер подключен к Интернету.
2. Если вы работаете на компьютере, подсоединенном к домену, обратитесь к своему сетевому администратору. Пакет режима разработчика, как и все компоненты по требованию, блокируется по умолчанию в службах WSUS.
2.1. Чтобы разблокировать пакет режима разработчика в текущих и предыдущих выпусках, следует разрешить следующие обновления WSUS: 4016509, 3180030 и 3197985.  
3. Проверьте наличие обновлений Windows в разделе "Параметры" > "Обновления и безопасность" > "Обновления Windows".
4. Убедитесь, что пакет режима разработчика для Windows находится в разделе "Параметры" > "Система" > "Приложения и возможности" > "Управление дополнительными возможностями" > "Добавить возможность". Если его там нет, Windows не удастся найти правильный пакет для вашего компьютера.

После выполнения любого из описанных шагов отключите, а затем повторно включите режим разработчика, чтобы проверить его исправность.


### <a name="failed-to-install-the-package"></a>Сбой установки пакета

«Не удалось установить пакет режима разработчика. Код ошибки 0x80004005. Подробнее".

Эта ошибка может возникать из-за наличия несовместимостей между вашей сборкой Windows и пакетом режима разработчика

Устранение проблемы:

1. Проверьте наличие обновлений Windows в разделе "Параметры" > "Обновления и безопасность" > "Обновления Windows".
2. Перезагрузите компьютер, чтобы убедиться, что все обновления были применены.


## <a name="use-group-policies-or-registry-keys-to-enable-a-device"></a>Использование групповых политик или разделов реестра для подготовки устройства

Большинство разработчиков будут использовать приложение «Параметры», чтобы включить в устройстве возможность отладки. В некоторых сценариях, таких как автоматизированные тесты, можно использовать другие способы подготовки компьютера с Windows 10 для разработки.  Следует помнить, что в ходе этих действий не выполняется включение сервера SSH и не предоставляется разрешение устройству на удаленное развертывание на нем или проведение отладки.

С помощью файла gpedit.msc можно включить режим разработчика на устройстве, используя групповые политики (кроме случая выпуска Windows 10 Домашняя). Если у вас Windows 10 Домашняя, то, чтобы напрямую настроить разделы реестра для включения режима разработчика на устройстве, необходимо использовать программу regedit или команды PowerShell.

**Включение режима разработчика на устройстве с помощью команды gpedit**

1.  Выполните команду **Gpedit.msc**.
2.  Последовательно выберите элементы Политика локального компьютера &gt; Конфигурация компьютера &gt; Административные шаблоны &gt; Компоненты Windows &gt; Развертывание пакета приложений
3.  Чтобы разрешить загрузку неопубликованных приложений, измените политики, чтобы включить параметр:

    -   **Разрешить установку всех доверенных приложений**.

    - ИЛИ -

    Чтобы включить режим разработчика, измените политики, чтобы включить следующие параметры:

    -   **Разрешить установку всех доверенных приложений**.
    -   **Разрешить разработку приложений UWP и их установку из интегрированной среды разработки (IDE)** .

4.  Перезагрузите компьютер.

**Используйте команду regedit, чтобы включить режим разработчика на устройстве.**

1.  Выполните команду **regedit**.
2.  Чтобы разрешить загрузку неопубликованных приложений, присвойте этому параметру типа DWORD значение 1:

    -   `HKLM\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\AppModelUnlock\\AllowAllTrustedApps`

    - ИЛИ -

    Чтобы включить режим разработчика, присвойте этому параметру типа DWORD значение 1:

    -   `HKLM\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\AppModelUnlock\\AllowDevelopmentWithoutDevLicense`

**Включение режима разработчика на устройстве с помощью PowerShell**

1.  Запустите PowerShell с правами администратора.
2.  Чтобы разрешить загрузку неопубликованных приложений, выполните следующую команду:

    -   `PS C:\\WINDOWS\\system32&gt; reg add "HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\AppModelUnlock" /t REG\_DWORD /f /v "AllowAllTrustedApps" /d "1"`

    - ИЛИ -

    Чтобы включить режим разработчика, выполните следующую команду:

    -   `PS C:\\WINDOWS\\system32&gt; reg add "HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\AppModelUnlock" /t REG\_DWORD /f /v "AllowDevelopmentWithoutDevLicense" /d "1"`

## <a name="upgrade-your-device-from-windows-81-to-windows-10"></a>Обновление устройства с Windows 8.1 до Windows 10

Если вы хотите создавать приложения или загружать неопубликованные приложения на устройство с Windows 8.1, необходимо установить лицензию разработчика. При обновлении устройства с Windows 8.1 до Windows 10 эта информация сохранится. Чтобы удалить эту информацию с устройства, обновленного до Windows 10, выполните указанную ниже команду. Это действие необязательно, если вы обновляете Windows 8.1 напрямую до Windows 10 версии 1511 или более поздней.

**Отмена регистрации лицензии разработчика**

1.  Запустите PowerShell с правами администратора.
2.  Выполните следующую команду: `unregister-windowsdeveloperlicense`.

После этого необходимо включить на устройстве режим разработчика, как описано в данной статье, чтобы можно было продолжить разработку на этом устройстве. Если не сделать этого, может возникнуть ошибка при отладке вашего приложения или при создании пакета для него. Ниже указан пример такой ошибки.

Ошибка: DEP0700: не удалось зарегистрировать приложение.

## <a name="see-also"></a>См. также

* [Ваше первое приложение](your-first-app.md)
* [Публикация вашего приложения UWP](https://docs.microsoft.com/windows/uwp/publish/)
* [Практические руководства по разработке приложений UWP](https://docs.microsoft.com/windows/uwp/develop/)
* [Примеры кода для разработчиков UWP](https://developer.microsoft.com/windows/samples)
* [Что такое приложение UWP?](universal-application-platform-guide.md)
* [Регистрация учетной записи Windows](sign-up.md)
