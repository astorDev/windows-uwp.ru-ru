---
author: GrantMeStrength
ms.assetid: 03A74239-D4B6-4E41-B2FA-6C04F225B844
title: "Создание приложения Hello, world (XAML)"
description: "В этом учебнике описано, как использовать XAML с C# для создания простого приложения Hello, world, предназначенного для универсальной платформы Windows (UWP) в ОС Windows 10."
translationtype: Human Translation
ms.sourcegitcommit: 344ffda398c789f82973b5f08a0e3b791fc5ad10
ms.openlocfilehash: 6cf960781862649588f361b6bfcd87605f3e8d55

---

# Создание приложения "Hello, world" (XAML)

В этом учебнике описано, как с помощью XAML и C# создать простое приложение "Hello, world", предназначенное для универсальной платформы Windows (UWP) в Windows 10. С помощью единственного проекта в Microsoft Visual Studio вы можете создать приложение, работающее на любом устройстве с Windows 10.

В этом разделе вы научитесь выполнять следующие действия.

-   Создавать новый проект **Visual Studio 2015**, предназначенный для **Windows10** и платформы **UWP**.
-   Писать код XAML, чтобы изменить пользовательский интерфейс на начальной странице.
-   Запускать проект на локальном ПК и на эмуляторе телефона в Visual Studio.
-   Использовать объект SpeechSynthesizer, чтобы добавить в приложение голосовую функцию, активируемую нажатием кнопки.

## Перед началом работы...

-   [Что представляет собой универсальное приложение для Windows](whats-a-uwp.md)?
-   [Что нового в Windows 10](https://dev.windows.com/whats-new-windows-10-dev-preview)?
-   Для работы с этим учебником вам потребуются Windows10 и Visual Studio2015. [Подготовка](get-set-up.md).
-   Мы также предполагаем, что в Visual Studio используется компоновка окна по умолчанию. Если макет по умолчанию изменен, его можно сбросить в меню **Window** (Окно), выбрав команду **Reset Window Layout** (Сбросить макет окна).


## Также можно ознакомиться с этим руководством, просмотрев видеозапись

<iframe src="https://channel9.msdn.com/Blogs/One-Dev-Minute/Writing-Your-First-Windows-10-App/player" width="640" height="360" allowFullScreen frameBorder="0"></iframe>

Пошаговое руководство на видеозаписи содержит тот же материал в сопровождении приятной музыки.

## Шаг 1. Создание нового проекта в Visual Studio.

1.  Запустите Visual Studio2015.

2.  В меню **Файл** выберите **Создать > Проект...**, чтобы открыть диалоговое окно *Новый проект*.

3.  В списке шаблонов слева откройте **Установленные > Шаблоны > Visual C# > Windows** и выберите **Универсальные**, чтобы увидеть список шаблонов проектов UWP.

    (Если универсальные шаблоны не отображаются, возможно, вы не установили Visual Studio 2015 или у вас нет компонентов для создания приложений UWP. Инструкции по установке необходимых средств см. в разделе [Подготовка](get-set-up.md).)

4.  Выберите шаблон **Пустое приложение (универсальные приложения для Windows)** и укажите "HelloWorld" в качестве **Имени**. Нажмите кнопку **ОК**.

    ![Окно "Новый проект"](images/win10-cs-01.png)

5.  Отобразится диалоговое окно с полями целевой/минимальной версии Windows. Параметры по умолчанию заданы правильно, поэтому нажмите кнопку **ОК**, чтобы создать проект.

    ![Окно "Обозреватель решений"](images/win10-cs-02.png)

6.  После того как откроется новый проект, его файлы будут представлены на панели **Обозреватель решений** справа. Чтобы просмотреть файлы, вместо вкладки **Свойства** можно выбрать вкладку **Обозреватель решений**.

    ![Окно "Обозреватель решений"](images/win10-cs-03.png)

Несмотря на то, что шаблон **Пустое приложение (универсальные приложения для Windows)** предоставляет минимальные возможности, он содержит несколько файлов. Эти файлы необходимы для всех приложений UWP на C#. Они имеются во всех проектах, создаваемых в Visual Studio.


### Что содержат файлы?

Для просмотра и изменения файла проекта дважды щелкните файл в **Обозревателе решений**. Разверните XAML-файл так же, как и папку, чтобы увидеть соответствующий файл кода. XAML-файлы открываются в разделенном представлении, в котором отображается как поверхность конструктора, так и редактор XAML.
> [!NOTE]
> Что такое XAML? Расширяемый язык разметки для приложений (Extensible Application Markup Language, XAML)— это язык, который используется для определения пользовательского интерфейса приложения. Код на нем можно писать вручную или создавать с помощью средств разработки Visual Studio. В XAML-файле есть файл кода программной части .xaml.cs, содержащий логику приложения. Совместно XAML и код программной части образуют полный класс. Дополнительные сведения см. в разделе [Обзор языка XAML](https://msdn.microsoft.com/library/windows/apps/Mt185595).

*Файлы App.xaml и App.xaml.cs*

-   App.xaml— это файл, в котором объявляются ресурсы, используемые по всему приложению.
-   App.xaml.cs— это файл кода программной части для App.xaml. Как и все страницы с кодом программной части, эта страница содержит конструктор, который вызывает метод `InitializeComponent`. Вам нет необходимости писать метод `InitializeComponent`. Он создается в Visual Studio, и его главной целью является инициализация элементов, объявленных в XAML-файле.
-   App.xaml.cs— это точка входа для вашего приложения.
-   App.xaml.cs также содержит методы для обработки активации и приостановки приложения.

*MainPage.xaml*

-   В файле MainPage.xaml определяется пользовательский интерфейс приложения. Добавлять элементы можно непосредственно с помощью разметки XAML или с помощью инструментов конструктора, предоставляемых Visual Studio.
-   MainPage.xaml.cs — это страница с кодом программной части для MainPage.xaml. Здесь вы добавляете логику приложения и обработчики событий.
-   Вместе эти два файла формируют новый класс, называемый `MainPage`, наследующий от [**Page**](https://msdn.microsoft.com/library/windows/apps/BR227503) в пространстве имен `HelloWorld`.

*Package.appxmanifest*
-   Файл манифеста, в котором описывается ваше приложение: его имя, описание, плитка, начальная страница и т. д.
-   Хранит список файлов, содержащихся в приложении.

*Набор изображений логотипов*
-   Файл Assets/Square150x150Logo.scale-200.png отвечает за отображение вашего приложения в меню "Пуск".
-   Файл Assets/StoreLogo.png представляет ваше приложение в Магазине Windows.
-   Файл Assets/SplashScreen.scale-200.png— это экран-заставка, отображающаяся при запуске вашего приложения.

## Шаг 2. Добавление кнопки

### Использование представления конструктора

Добавим кнопку на нашу страницу. В этом учебнике вы будете работать лишь с несколькими из перечисленных ранее файлов: App.xaml, MainPage.xaml и MainPage.xaml.cs.

1.  Дважды щелкните файл **MainPage.xaml**, чтобы открыть его в представлении конструктора.

    В верхней части экрана будет отображаться графическое представление, а под ним представление кода XAML. Изменения можно внести в любое представление, но сейчас мы будем использовать графическое представление.

    ![Окно "Обозреватель решений"](images/win10-cs-04.png)

2.  Выберите вертикальную вкладку **Панель элементов** слева, чтобы открыть список элементов управления пользовательского интерфейса (чтобы эта вкладка отображалась постоянно, можно щелкнуть значок закрепления в строке заголовка вкладки).

    ![Окно "Обозреватель решений"](images/win10-cs-05.png)

3.  Разверните группу **Типовые элементы управления XAML** и перетащите **Кнопку** в центр полотна проектирования.

    ![Окно "Обозреватель решений"](images/win10-cs-06.png)

    Если вы посмотрите на окно кода XAML, то увидите, что "Кнопка (Button)" была добавлена и туда.

 ```XAML
<Button x:name="button" Content="Button" HorizontalAlignment="Left" Margin = "152,293,0,0" VerticalAlignment="Top"/>
 ```

4.  Измените текст кнопки.

    Установите курсор в представлении кода XAML и задайте свойству "Содержимое (Content)" значение "Hello, world!" вместо значения "Кнопка (Button)".

```XAML
<Button x:name="button" Content="Hello, world!" HorizontalAlignment="Left" Margin = "152,293,0,0" VerticalAlignment="Top"/>
```

Обратите внимание, что текст кнопки на полотне проектирования обновится.

![Окно "Обозреватель решений"](images/win10-cs-07.png)

## Шаг 3. Запуск приложения


К этому моменту вы создали очень простое приложение. Этот этап подходит для сборки, развертывания и запуска приложения, а также его просмотра. Вы можете выполнить отладку приложения на локальном компьютере, симуляторе или эмуляторе, а также на удаленном устройстве. Меню целевого устройства в Visual Studio.

![Раскрывающийся список целевых устройств для отладки приложения](images/uap-debug.png)

### Запуск приложения на настольном ПК

По умолчанию приложение запускается на локальном компьютере. Меню целевого устройства предоставляет ряд возможностей для отладки приложения на устройствах с настольного ПК.

-   **Симулятор**
-   **Локальный компьютер**
-   **Удаленный компьютер**

**Запуск отладки на локальном компьютере**

1.  Убедитесь, что в меню целевого устройства (![Меню запуска отладки](images/startdebug-full.png)) на панели инструментов **Стандартная** выбран параметр **Локальный компьютер**. (Этот параметр выбран по умолчанию.)
2.  Нажмите кнопку **Начать отладку** (![Кнопка запуска отладки](images/startdebug-sm.png)) на панели инструментов.

   либо

   В меню **Отладка** выберите команду **Начать отладку**.

   либо

   Нажмите клавишу F5.

Приложение откроется в новом окне и сначала отобразится экран-заставка по умолчанию. Экран-заставка определяется изображением (SplashScreen.png) и цветом фона (указанным в манифесте приложения).

После исчезновения экрана-заставки появится ваше приложение. Оно выглядит следующим образом.

![Начальный экран приложения](images/win10-cs-08.png)

Нажмите клавишу Windows, чтобы открыть меню **Пуск**, и выберите пункт «Все программы». Обратите внимание, что при локальном развертывании приложения его плитка добавляется в меню **Пуск**. Чтобы снова запустить приложение (не в режиме отладки) нажмите или щелкните соответствующую плитку в меню **Пуск**.

Ваше приложение пока что умеет не много, но все равно поздравляем — вы создали свое первое приложение UWP!

**Остановка отладки**

   Нажмите кнопку **Остановить отладку** (![Кнопка остановки отладки](images/stopdebug.png)) на панели инструментов.

   либо

   В меню **Отладка** выберите команду **Остановить отладку**.

   либо

   Закройте окно приложения.

### Запуск приложения в эмуляторе мобильного устройства

Ваше приложение работает на любом устройстве с Windows 10, поэтому давайте посмотрим, как оно выглядит в Windows Phone.

Помимо возможности отладки на настольном ПК Visual Studio предоставляет возможность развертывания и отладки приложения на физическом мобильном устройстве, подключенном к компьютеру, или на эмуляторе мобильного устройства. Вы можете выбрать эмулятор для устройств с теми или иными параметрами памяти и экрана.

-   **устройство;**
-   **Эмулятор <SDK version> WVGA, 4дюйма, 512МБ**
-   **Эмулятор <SDK version> WVGA, 4дюйма, 1ГБ**
-   и т. д. (различные эмуляторы с другими конфигурациями).

Эмуляторы не отображаются? См. раздел [Подготовка](get-set-up.md), чтобы убедиться, что у вас установлены средства разработки универсальных приложений для Windows.

**Запуск отладки в эмуляторе мобильного устройства**

1.  Рекомендуется протестировать приложение на устройстве с маленьким экраном и ограниченным объемом оперативной памяти, поэтому в меню целевого устройства (![Меню запуска отладки](images/startdebug-full.png)) на панели инструментов **Стандартные** выберите параметр **Эмулятор 10.0.14393.0 WVGA, 4дюйма, 512МБ**.

2.  Нажмите кнопку **Начать отладку** (![Кнопка запуска отладки](images/startdebug-sm.png)) на панели инструментов.

   либо

   В меню **Отладка** выберите команду **Начать отладку**.

   либо

   Нажмите клавишу F5.

Visual Studio запускает выбранный эмулятор и затем развертывает и запускает приложение. Этот процесс может занять некоторое время при первом запуске. В эмуляторе мобильного устройства приложение выглядит следующим образом.

![Начальный экран приложения на мобильном устройстве](images/win10-cs-09.png)

Если у вас Windows Phone под управлением Windows 10, этот телефон можно также подключить к компьютеру, а затем развернуть и запустить приложение непосредственно на нем (однако сначала придется [включить режим разработчика](enable-your-device-for-development.md)).


## Шаг 3. Обработчики событий

Термин "обработчик событий" звучит непонятно, однако это просто еще одно имя кода, который вызывается при возникновении события (например, когда пользователь нажимает кнопку).

1.  Остановите приложение, если вы еще не сделали этого.

2.  Дважды щелкните элемент управления "Кнопка (Button)" на полотне проектирования, чтобы среда Visual Studio создала обработчик событий для вашей кнопки.

  Также вы можете создать код вручную. Либо можно щелкнуть кнопку, чтобы выбрать ее, и посмотреть сведения в окне **Свойства** в нижнем правом углу. Перейдя на панель **События** (с изображением молнии), вы сможете задать имя для обработчика событий.

3.  Измените код обработчика событий в файле *MainPage.xaml.cs* на странице с кодом программной части. Это самый интересный этап. Код обработчика событий по умолчанию выглядит следующим образом.

```C#
private void button_Click(object sender, RouteEventArgs e)
{

}
```

  Давайте изменим его, чтобы он выглядел следующим образом.

```C#
private async void button_Click(object sender, RoutedEventArgs e)
        {
            MediaElement mediaElement = new MediaElement();
            var synth = new Windows.Media.SpeechSynthesis.SpeechSynthesizer();
            Windows.Media.SpeechSynthesis.SpeechSynthesisStream stream = await synth.SynthesizeTextToStreamAsync("Hello, World!");
            mediaElement.SetSource(stream, stream.ContentType);
            mediaElement.Play();
        }
```

Обязательно добавьте ключевое слово **async**. Если этого не сделать, приложение выдаст ошибку при попытке его запуска.

### Что нам удалось сделать?

В этом коде используются некоторые API-интерфейсы Windows для создания объекта синтеза речи, которому передается определенный текст для его озвучивания. Дополнительные сведения по использованию объекта SpeechSynthesis см. в документации по[Пространству имен SpeechSynthesis](https://msdn.microsoft.com/library/windows/apps/windows.media.speechsynthesis.aspx).

Если вы запустите приложение и нажмете кнопку, ваш компьютер (или телефон) воспроизведет фразу "Hello, World!".


## Резюме


Поздравляем! Вы создали свое первое приложение для Windows 10 и платформы UWP. Готовы к [следующему шагу](learn-more.md)?



<!--HONumber=Nov16_HO1-->


