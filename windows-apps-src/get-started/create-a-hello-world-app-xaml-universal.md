---
ms.assetid: 03A74239-D4B6-4E41-B2FA-6C04F225B844
title: Создание приложения "Hello, world" на XAML
description: Использовать расширяемого приложения разметки языка (XAML) с C# для создания простого Hello, world приложение, предназначенное универсальной платформы Windows (UWP) в Windows 10.
ms.date: 03/06/2017
ms.topic: article
keywords: windows 10, uwp, первое приложение, hello world
ms.localizationpriority: medium
ms.openlocfilehash: d9a7f0302dfdc9f9fa980f0fe93a3371328f9e5c
ms.sourcegitcommit: ac7f3422f8d83618f9b6b5615a37f8e5c115b3c4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/29/2019
ms.locfileid: "66367437"
---
# <a name="create-a-hello-world-app-xaml"></a>Создание приложения "Hello, world" (XAML)

Этот учебник поможет способы использования XAML и C# для создания простого «Hello, world» приложения для универсальной Windows платформы (UWP) в Windows 10. С помощью одного проекта в Microsoft Visual Studio можно создавать приложения, которое запускается на любом устройстве Windows 10.

В этом разделе вы научитесь выполнять следующие действия.

-   Создайте новый **Visual Studio** проектом, нацеленным **Windows 10** и **UWP**.
-   Писать код XAML, чтобы изменить пользовательский интерфейс на начальной странице.
-   Запускать проект на локальном компьютере в Visual Studio.
-   Использовать объект SpeechSynthesizer, чтобы добавить в приложение голосовую функцию, активируемую нажатием кнопки.


## <a name="before-you-start"></a>Перед началом работы...

-   [Что такое приложение универсальной Windows?](universal-application-platform-guide.md)
-   [Скачать Visual Studio 2017 (и Windows 10)](https://developer.microsoft.com/windows/downloads). Если вам требуется помощь, узнайте, как [выполнить настройку](get-set-up.md).
-   Мы также предполагаем, что в Visual Studio используется компоновка окна по умолчанию. Если макет по умолчанию изменен, его можно сбросить в меню **Window** (Окно), выбрав команду **Reset Window Layout** (Сбросить макет окна).

> [!NOTE]
> В этом учебнике используется Visual Studio Community 2017. Если вы используете другую версию Visual Studio, она может выглядеть иначе.

## <a name="video-summary"></a>Видео с кратким описанием

<iframe src="https://channel9.msdn.com/Blogs/One-Dev-Minute/Writing-Your-First-Windows-10-App/player" width="640" height="360" allowFullScreen frameBorder="0"></iframe>



## <a name="step-1-create-a-new-project-in-visual-studio"></a>Шаг 1. Создайте новый проект в Visual Studio.

1.  Запустите Visual Studio.

2.  Из **файл** меню, выберите **Создать > проект** открыть *новый проект* диалоговое окно.

3.  Из списка шаблонов слева выберите **установленные > Visual C# > Windows универсальной** для просмотра списка шаблонов проектов универсальной платформы Windows.

    (Если универсальные шаблоны не отображаются, возможно, у вас нет компонентов для создания приложений UWP. Вы можете повторить процесс установки и добавить поддержку UWP. Для этого нажмите **Открыть установщик Visual Studio** в диалоговом окне *Новый проект*. См. в разделе [настройки](get-set-up.md).)

    ![Как повторить установку](images/win10-cs-install.png)

4.  Выберите шаблон **Пустое приложение (универсальные приложения для Windows)** и укажите "HelloWorld" в качестве **Имени**. Нажмите кнопку **ОК**.

    ![Окно "Новый проект"](images/win10-cs-01.png)

> [!NOTE]
> Если вы пользуетесь Visual Studio впервые, может открыться диалоговое окно с запросом включить **Режим разработчика**. Режим разработчика — это специальный параметр, включающий определенные функции, например разрешение на непосредственный запуск приложений, а не только через Магазин. Подробнее см. в разделе [Подготовка устройства к разработке](enable-your-device-for-development.md). Чтобы продолжить работу с этим руководством, выберите **Режим разработчика**, нажмите **Да** и закройте диалоговое окно.

 ![Диалоговое окно "Включение режима разработчика"](images/win10-cs-00.png)

5.  Отобразится диалоговое окно с полями целевой/минимальной версии Windows. Параметры по умолчанию для этого учебника заданы правильно, поэтому нажмите кнопку **ОК**, чтобы создать проект.

    ![Окно "Обозреватель решений"](images/win10-cs-02.png)

6.  После того как откроется новый проект, его файлы будут представлены на панели **Обозреватель решений** справа. Чтобы просмотреть файлы, вместо вкладки **Свойства** можно выбрать вкладку **Обозреватель решений**.

    ![Окно "Обозреватель решений"](images/win10-cs-03.png)

Несмотря на то, что шаблон **Пустое приложение (универсальные приложения для Windows)** предоставляет минимальные возможности, он содержит несколько файлов. Эти файлы необходимы для всех приложений UWP на C#. Они имеются во всех проектах, создаваемых в Visual Studio.


### <a name="whats-in-the-files"></a>Что содержат файлы?

Для просмотра и изменения файла проекта дважды щелкните файл в **Обозревателе решений**. Разверните XAML-файл так же, как и папку, чтобы увидеть соответствующий файл кода. XAML-файлы открываются в разделенном представлении, в котором отображается как поверхность конструктора, так и редактор XAML.
> [!NOTE]
> Что такое XAML? Расширяемый язык разметки для приложений (Extensible Application Markup Language, XAML) — это язык, который используется для определения пользовательского интерфейса приложения. Код на нем можно писать вручную или создавать с помощью средств разработки Visual Studio. В XAML-файле есть файл кода программной части .xaml.cs, содержащий логику приложения. Совместно XAML и код программной части образуют полный класс. Дополнительные сведения см. в разделе [Обзор языка XAML](https://docs.microsoft.com/windows/uwp/xaml-platform/xaml-overview).

*Файл app.XAML и App.xaml.cs*

-   App.xaml — это файл, в котором объявляются ресурсы, используемые по всему приложению.
-   App.xaml.cs — это файл кода программной части для App.xaml. Как и все страницы с кодом программной части, эта страница содержит конструктор, который вызывает метод `InitializeComponent`. Вам нет необходимости писать метод `InitializeComponent`. Он создается в Visual Studio, и его главной целью является инициализация элементов, объявленных в XAML-файле.
-   App.xaml.cs — это точка входа для вашего приложения.
-   App.XAML.cs также содержит методы для обработки [активации](../launch-resume/activate-an-app.md) и [приостановки](../launch-resume/suspend-an-app.md) приложения.

*MainPage.xaml*

-   В файле MainPage.xaml определяется пользовательский интерфейс приложения. Добавлять элементы можно непосредственно с помощью разметки XAML или с помощью инструментов конструктора, предоставляемых Visual Studio.
-   MainPage.xaml.cs — это страница с кодом программной части для MainPage.xaml. Здесь вы добавляете логику приложения и обработчики событий.
-   Вместе эти два файла формируют новый класс, называемый `MainPage`, наследующий от [**Page**](https://docs.microsoft.com/uwp/api/Windows.UI.Xaml.Controls.Page) в пространстве имен `HelloWorld`.

*Package.appxmanifest*
-   Файл манифеста, в котором описывается ваше приложение: его имя, описание, плитка, начальная страница и т. д.
-   Содержит список зависимостей, ресурсов и файлов, содержащихся в приложении.

*Набор изображения логотипа*
-   Assets/Square150x150Logo.scale-200.png и Wide310x150Logo.scale 200.png представления приложения (средний или расширенных размер) в меню "Пуск".
-   Assets/Square44x44Logo.png представляет приложение в списке приложений в меню "Пуск", панели задач и диспетчер задач.
-   Файл Assets/StoreLogo.png представляет ваше приложение в Microsoft Store.
-   Файл Assets/SplashScreen.scale-200.png — это экран-заставка, отображающаяся при запуске вашего приложения.
-   Assets/LockScreenLogo.scale-200.png можно использовать для представления приложения на экране блокировки, если система заблокирована.

## <a name="step-2-adding-a-button"></a>Шаг 2. Добавление кнопки

### <a name="using-the-designer-view"></a>Использование представления конструктора

Добавим кнопку на нашу страницу. В этом руководстве вы работаете несколько файлов, перечисленных выше: App.XAML, MainPage.xaml и MainPage.xaml.cs.

1.  Дважды щелкните файл **MainPage.xaml**, чтобы открыть его в представлении конструктора.

    В верхней части экрана будет отображаться графическое представление, а под ним представление кода XAML. Изменения можно внести в любое представление, но сейчас мы будем использовать графическое представление.

    ![Окно "Обозреватель решений"](images/win10-cs-04.png)

2.  Выберите вертикальную вкладку **Панель элементов** слева, чтобы открыть список элементов управления пользовательского интерфейса (чтобы эта вкладка отображалась постоянно, можно щелкнуть значок закрепления в строке заголовка вкладки).

    ![Окно "Обозреватель решений"](images/win10-cs-05.png)

3.  Разверните группу **Типовые элементы управления XAML** и перетащите **Кнопку** в центр полотна проектирования.

    ![Окно "Обозреватель решений"](images/win10-cs-06.png)

    Если вы посмотрите на окно кода XAML, то увидите, что "Кнопка (Button)" была добавлена и туда.

 ```XAML
<Button x:name="button" Content="Button" HorizontalAlignment="Left" Margin = "152,293,0,0" VerticalAlignment="Top"/>
 ```

4.  Измените текст кнопки.

    Установите курсор в представлении кода XAML и задайте свойству "Содержимое (Content)" значение "Hello, world!" вместо значения "Кнопка (Button)".

```XAML
<Button x:name="button" Content="Hello, world!" HorizontalAlignment="Left" Margin = "152,293,0,0" VerticalAlignment="Top"/>
```

Обратите внимание, что текст кнопки на полотне проектирования обновится.

![Окно "Обозреватель решений"](images/win10-cs-07.png)

## <a name="step-3-start-the-app"></a>Шаг 3. Запустите приложение


К этому моменту вы создали очень простое приложение. Этот этап подходит для сборки, развертывания и запуска приложения, а также его просмотра. Вы можете выполнить отладку приложения на локальном компьютере, симуляторе или эмуляторе, а также на удаленном устройстве. Меню целевого устройства в Visual Studio.

![Раскрывающийся список целевых устройств для отладки приложения](images/uap-debug.png)

### <a name="start-the-app-on-a-desktop-device"></a>Запуск приложения на настольном ПК

По умолчанию приложение запускается на локальном компьютере. Меню целевого устройства предоставляет ряд возможностей для отладки приложения на устройствах с настольного ПК.

-   **Симулятор**
-   **Локальный компьютер**
-   **Удаленный компьютер**

**Чтобы начать отладку на локальном компьютере**

1.  Убедитесь, что в меню целевого устройства (![Меню запуска отладки](images/startdebug-full.png)) на панели инструментов **Стандартная** выбран параметр **Локальный компьютер**. (Этот параметр выбран по умолчанию.)
2.  Нажмите кнопку **Начать отладку** (![Кнопка запуска отладки](images/startdebug-sm.png)) на панели инструментов.

   –или–

   В меню **Отладка** выберите команду **Начать отладку**.

   –или–

   Нажмите клавишу F5.

Приложение откроется в новом окне и сначала отобразится экран-заставка по умолчанию. Экран-заставка определяется изображением (SplashScreen.png) и цветом фона (указанным в манифесте приложения).

После исчезновения экрана-заставки появится ваше приложение. Процесс выглядит следующим образом.

![Начальный экран приложения](images/win10-cs-08.png)

Нажмите клавишу Windows, чтобы открыть меню **Пуск**, и выберите пункт «Все программы». Обратите внимание, что при локальном развертывании приложения его плитка добавляется в меню **Пуск**. Чтобы снова запустить приложение (не в режиме отладки) нажмите или щелкните соответствующую плитку в меню **Пуск**.

Ваше приложение пока что умеет не много, но все равно поздравляем — вы создали свое первое приложение UWP!

**Чтобы остановить отладку**

   Нажмите кнопку **Остановить отладку** (![Кнопка остановки отладки](images/stopdebug.png)) на панели инструментов.

   –или–

   В меню **Отладка** выберите команду **Остановить отладку**.

   –или–

   Закройте окно приложения.

## <a name="step-4-event-handlers"></a>Шаг 4. Обработчики событий

Термин "обработчик событий" звучит непонятно, однако это просто еще одно имя кода, который вызывается при возникновении события (например, когда пользователь нажимает кнопку).

1.  Остановите приложение, если вы еще не сделали этого.

2.  Дважды щелкните элемент управления "Кнопка (Button)" на полотне проектирования, чтобы среда Visual Studio создала обработчик событий для вашей кнопки.

  Также вы можете создать код вручную. Либо можно щелкнуть кнопку, чтобы выбрать ее, и посмотреть сведения в окне **Свойства** в нижнем правом углу. Перейдя на панель **События** (с изображением молнии), вы сможете задать имя для обработчика событий.

3.  Измените код обработчика событий в файле *MainPage.xaml.cs* на странице с кодом программной части. Это самый интересный этап. Код обработчика событий по умолчанию выглядит следующим образом.

```cs
private void Button_Click(object sender, RoutedEventArgs e)
{

}
```

  Давайте изменим его, чтобы он выглядел следующим образом.

```cs
private async void Button_Click(object sender, RoutedEventArgs e)
{
    MediaElement mediaElement = new MediaElement();
    var synth = new Windows.Media.SpeechSynthesis.SpeechSynthesizer();
    Windows.Media.SpeechSynthesis.SpeechSynthesisStream stream = await synth.SynthesizeTextToStreamAsync("Hello, World!");
    mediaElement.SetSource(stream, stream.ContentType);
    mediaElement.Play();
}
```

Убедитесь, что сигнатура метода теперь включает **async** ключевое слово, или вы получите ошибку при попытке запустить приложение.

### <a name="what-did-we-just-do"></a>Что нам удалось сделать?

В этом коде используются некоторые API-интерфейсы Windows для создания объекта синтеза речи, которому передается определенный текст для его озвучивания. Дополнительные сведения по использованию объекта SpeechSynthesis см. в документации по[Пространству имен SpeechSynthesis](https://docs.microsoft.com/uwp/api/windows.media.speechsynthesis).

Если вы запустите приложение и нажмете кнопку, ваш компьютер (или телефон) воспроизведет фразу "Hello, World!".


## <a name="summary"></a>Сводка

Поздравляем, вы создали свое первое приложение для Windows 10 и UWP.

Чтобы узнать, как использовать XAML для размещения элементов управления, которые будут использоваться в вашем приложении, изучите [учебник по сетке](../design/layout/grid-tutorial.md) или сразу перейдите к [следующему шагу](learn-more.md).

## <a name="see-also"></a>См. также

* [Ваше первое приложение](your-first-app.md)
* [Публикация вашего приложения UWP](https://developer.microsoft.com/store/publish-apps).
* [Статьи с инструкциями по разработке приложений универсальной платформы Windows](https://developer.microsoft.com/windows/apps/develop)
* [Образцы кода для разработчиков универсальной платформы Windows](https://developer.microsoft.com/windows/samples)
* [Что такое приложение универсальной Windows?](universal-application-platform-guide.md)
* [Регистрация учетной записи Windows](sign-up.md)
