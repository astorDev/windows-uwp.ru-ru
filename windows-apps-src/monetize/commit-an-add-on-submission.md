---
ms.assetid: AC74B4FA-5554-4C03-9683-86EE48546C05
description: Используйте этот метод в интерфейсе API отправки Microsoft Store для сохранения Отправка новых или обновленных надстройку для центра партнеров.
title: Подтверждение отправки надстройки
ms.date: 04/17/2018
ms.topic: article
keywords: Windows 10, UWP, API отправки Microsoft Store, фиксация отправки надстройки, продукт внутри приложения, IAP
ms.localizationpriority: medium
ms.openlocfilehash: c748d2e8544a27e8cca58fd8aa96154319f77b47
ms.sourcegitcommit: 6a7dd4da2fc31ced7d1cdc6f7cf79c2e55dc5833
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/21/2019
ms.locfileid: "58334614"
---
# <a name="commit-an-add-on-submission"></a>Подтверждение отправки надстройки

Используйте этот метод в интерфейсе API отправки Microsoft Store для сохранения отправку новых или обновленных надстройки (также известная как app продукта или IAP), чтобы центра партнеров. Фиксации действия оповещения центра партнеров, отправки будут переданы данные (включая все соответствующие значки). В ответ центра партнеров фиксирует изменения данных отправки для приема и публикации. После успешного завершения операции фиксации изменения отправки отображаются в центре партнеров.

Дополнительные сведения о роли операции фиксации в процессе отправки надстройки с помощью API отправки Microsoft Store см. в разделе [Управление отправками надстроек](manage-add-on-submissions.md).

## <a name="prerequisites"></a>предварительные требования

Для использования этого метода сначала необходимо сделать следующее:

* Если вы еще не сделали этого, выполните все [необходимые условия](create-and-manage-submissions-using-windows-store-services.md#prerequisites) для API отправки в Microsoft Store.
* [Получите маркер доступа Azure AD](create-and-manage-submissions-using-windows-store-services.md#obtain-an-azure-ad-access-token), который будет использоваться в заголовке запроса этого метода. После получения токена доступа у вас будет 60 минут, чтобы использовать его до окончания его срока действия. После истечения срока действия токена можно получить новый токен.
* [Создайте отправку надстройки](create-an-add-on-submission.md), а затем [обновите отправку](update-an-add-on-submission.md), внеся в ее данные необходимые изменения.

## <a name="request"></a>Запрос

У этого метода следующий синтаксис. Примеры использования и описание текста заголовка и запроса приведены в следующих разделах.

| Метод | Универсальный код ресурса (URI) запроса                                                      |
|--------|------------------------------------------------------------------|
| ПОМЕСТИТЬ    | `https://manage.devcenter.microsoft.com/v1.0/my/inappproducts/{inAppProductId}/submissions/{submissionId}/commit` |


### <a name="request-header"></a>Заголовок запроса

| Header        | Тип   | Описание                                                                 |
|---------------|--------|-----------------------------------------------------------------------------|
| Authorization | строка | Обязательный. Маркер доступа Azure AD в форме **носителя** &lt; *маркера*&gt;. |


### <a name="request-parameters"></a>Параметры запроса

| Имя        | Тип   | Описание                                                                 |
|---------------|--------|-----------------------------------------------------------------------------|
| inAppProductId | строка | Обязательный. Код продукта в Магазине, принадлежащий надстройке, которая содержит отправку для фиксации. Идентификатор Store доступен в центре партнеров, и она включена в данные ответа для запросов к [получение всех надстроек](get-all-add-ons.md) и [создать надстройку](create-an-add-on.md). |
| submissionId | строка | Обязательный. Идентификатор отправки, которую необходимо зафиксировать. Этот идентификатор добавляется в данные ответов для запросов на [создание отправки надстройки](create-an-add-on-submission.md). Для отправки, который был создан в центре партнеров этот идентификатор также доступна в URL-АДРЕСЕ для отправки страницы в центре партнеров.  |


### <a name="request-body"></a>Тело запроса

Предоставлять текст запроса для этого метода не требуется.

### <a name="request-example"></a>Пример запроса

В следующем примере показано, как выполнять фиксацию отправки надстройки.

```json
POST https://manage.devcenter.microsoft.com/v1.0/my/inappproducts/9NBLGGH4TNMP/submissions/1152921504621230023/commit HTTP/1.1
Authorization: Bearer <your access token>
```

## <a name="response"></a>Ответ

В следующем примере представлен текст ответа JSON в случае успешного вызова этого метода. Дополнительные сведения о значениях, которые могут содержаться в теле ответа, см. в следующих разделах.

```json
{
  "status": "CommitStarted"
}
```

### <a name="response-body"></a>Тело ответа

| Значение      | Тип   | Описание                                                                                                                                                                                                                                                                         |
|------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| status           | строка  | Состояние отправки. Может принимать одно из следующих значений. <ul><li>Нет</li><li>Canceled (Отменено)</li><li>PendingCommit (Ожидание фиксации)</li><li>CommitStarted (Фиксация запущена)</li><li>CommitFailed (Сбой фиксации)</li><li>PendingPublication (Ожидание публикации)</li><li>Publishing (Выполняется публикация)</li><li>Published (Опубликовано)</li><li>PublishFailed (Сбой публикации)</li><li>PreProcessing (Предварительная обработка)</li><li>PreProcessingFailed (Сбой предварительной обработки)</li><li>Certification (Сертификация)</li><li>CertificationFailed (Сбой сертификации)</li><li>Выпуск</li><li>ReleaseFailed (Сбой выпуска)</li></ul>  |

## <a name="error-codes"></a>Коды ошибок

Если запрос не удается выполнить, ответ будет содержать один из следующих кодов ошибок HTTP.

| Код ошибки |  Описание   |
|--------|------------------|
| 400  | Недопустимые параметры запроса. |
| 404  | Не удалось найти указанную отправку. |
| 409  | Обнаружен указанный отправки, но его не удалось зафиксировать в ее текущем состоянии или надстройка использует возможности центра партнеров, [в настоящее время не поддерживается API отправки Microsoft Store](create-and-manage-submissions-using-windows-store-services.md#not_supported). |

## <a name="related-topics"></a>См. также

* [Создание и управление отправкой, с помощью служб Microsoft Store](create-and-manage-submissions-using-windows-store-services.md)
* [Получить отправки надстройки](get-an-add-on-submission.md)
* [Создайте надстройку отправки](create-an-add-on-submission.md)
* [Обновление надстройки отправки](update-an-add-on-submission.md)
* [Удалить надстройку отправки](delete-an-add-on-submission.md)
* [Получение сведений о состоянии отправки надстройки](get-status-for-an-add-on-submission.md)
