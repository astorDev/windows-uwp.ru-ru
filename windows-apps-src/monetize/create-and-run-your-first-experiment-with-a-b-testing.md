---
author: Xansky
Description: In this walkthrough, you will create, run, and manage your first experiment with A/B testing.
title: Создание и запуск первого эксперимента
ms.assetid: 16A2B129-14E1-4C68-86E8-52F1BE58F256
ms.author: mhopkins
ms.date: 02/08/2017
ms.topic: article
keywords: Windows 10, uwp, Microsoft Store Services SDK, A/B-тесты, эксперименты
ms.localizationpriority: medium
ms.openlocfilehash: e5a4c3607486a7163648c7aa5a0e1d03d37e421f
ms.sourcegitcommit: e2fca6c79f31e521ba76f7ecf343cf8f278e6a15
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/16/2018
ms.locfileid: "6992441"
---
# <a name="create-and-run-your-first-experiment"></a>Создание и запуск первого эксперимента

В этом пошаговом руководстве вы сделаете следующее:
* Создание [проекта](run-app-experiments-with-a-b-testing.md#terms) с помощью экспериментов в центре партнеров, которая определяет несколько удаленных переменных, отвечающих за текст и цвет кнопки приложения.
* Создание приложения с кодом, который извлекает значения удаленных переменных, использует эти данные для изменения фонового цвета кнопки и вести журнал представления и преобразования событий данные обратно в центр партнеров.
* Создадите эксперимент в проекте, чтобы выяснить, увеличится ли количество нажатий кнопки приложения после изменения ее фонового цвета.
* Запустите приложение для сбора данных эксперимента.
* Результаты эксперимента в центре партнеров, выберите вариант для включения для всех пользователей приложения и завершите эксперимент.

Общие сведения об A / b-тестирования с помощью центра партнеров, см. в разделе [Проведение экспериментов с A / b-тестирования](run-app-experiments-with-a-b-testing.md).

## <a name="prerequisites"></a>Необходимые условия

Чтобы пройти это пошаговое руководство, необходимо иметь учетную запись центра партнеров и необходимо настроить компьютер разработчика, как описано в [Проведение экспериментов с A / b-тестирования](run-app-experiments-with-a-b-testing.md).

## <a name="create-a-project-with-remote-variables-in-partner-center"></a>Создание проекта с удаленными переменными в центре партнеров

1. Войдите в [Центр партнеров](https://partner.microsoft.com/dashboard).
2. Если у вас уже есть приложение в центре партнеров, которые вы хотите использовать для создания эксперимента, выберите это приложение в центре партнеров. Если вы еще не приложения в центре партнеров, [Создание приложения посредством резервирования имени](../publish/create-your-app-by-reserving-a-name.md) и затем выберите это приложение в центре партнеров.
3. В области навигации нажмите **Службы**, а затем **Эксперименты**.
4. В разделе **Проекты** на следующей странице нажмите кнопку **Создать проект**.
5. На странице **Новый проект** введите имя **Button Click Experiments (эксперименты нажатия кнопки)** для проекта.
6. Разверните раздел **Удаленные переменные** и нажмите кнопку **Добавить переменную** четыре раза. Теперь у вас должно быть четыре строки пустых переменных.
  * В первой строке введите **buttonText (текст кнопки)** в качестве имени переменной, а затем введите **Grey Button (серая кнопка)** в столбце **Значение по умолчанию**.
  * Во второй строке введите **r** в качестве имени переменной, а затем введите **128** в столбце **Значение по умолчанию**.
  * Во третье строке введите **g** в качестве имени переменной, а затем введите **128** в столбце **Значение по умолчанию**.
  * В четвертой строке введите **b** в качестве имени переменной, а затем введите **128** в столбце **Значение по умолчанию**.
7. Нажмите кнопку **Сохранить** и запомните [идентификатор проекта](run-app-experiments-with-a-b-testing.md#terms), который отобразится в разделе **Интеграция SDK**. В следующем разделе описано, как обновить код приложения и установить ссылку на это значение в вашем коде.

## <a name="code-the-experiment-in-your-app"></a>Написание кода для эксперимента в приложении

1. В Visual Studio создайте новый проект универсальной платформы Windows с помощью Visual C#. Назовите проект **SampleExperiment**.
2. В обозревателе решений разверните узел проекта, щелкните правой кнопкой мыши **Ссылки**, а затем— **Добавить ссылку**.
3. В диалоговом окне **Диспетчер ссылок** разверните список **Универсальная платформа Windows** и выберите **Расширения**.
4. В списке пакетов SDK установите флажок рядом с пунктом **Microsoft Engagement Framework** и нажмите кнопку **ОК**.
5. В **Обозревателе решений** дважды щелкните файл MainPage.xaml, чтобы открыть конструктор для главной страницы приложения.
6. Перетащите **кнопку** из **панели элементов** на страницу.
7. Дважды щелкните кнопку в конструкторе, чтобы открыть файл с кодом и добавить обработчик для события **Click**.  
8. Замените все содержимое файла с кодом следующим кодом. Назначение ```projectId``` переменной значение [идентификатора проекта](run-app-experiments-with-a-b-testing.md#terms) , который вы получили из центра партнеров в предыдущем разделе.
    [!code-cs[SampleExperiment](./code/StoreSDKSamples/cs/ExperimentPage.xaml.cs#SampleExperiment)]

9. Сохраните файл с кодом и создайте проект.

## <a name="create-the-experiment-in-partner-center"></a>Создание эксперимента в центре партнеров

1. Вернитесь на страницу проекта **Экспериментов щелкните кнопку** в центре партнеров.
2. В разделе **Эксперименты** нажмите кнопку **Создать эксперимент**.
3. В разделе **Сведения об эксперименте** введите имя **Optimize Button Clicks (оптимизация нажатий кнопки)** в поле **Имя эксперимента**.
4. В разделе **Событие просмотра** введите **userViewedButton** в поле **Имя события просмотра**. Обратите внимание, что это имя совпадает со строкой события просмотра, которую вы включили в код, добавленный в предыдущем разделе.
5. В разделе **Цели и события конверсии** введите следующие значения:
  * В поле **Имя цели** введите **Увеличить количество нажатий на кнопку**.
  * В поле **Имя события конверсии** введите имя **userClickedButton**. Обратите внимание, что это имя совпадает со строкой события конверсии, которую вы включили в код, добавленный в предыдущем разделе.
  * В поле **Цель** выберите **Максимизировать**.
6. В разделе **Удаленные переменные и варианты** установите флажок **Распределять равномерно**, чтобы в вашем приложении варианты распределялись равномерно.
7. Добавьте переменные в ваш эксперимент:
    1. Щелкните раскрывающийся элемент управления, выберите **buttonText** и нажмите **Добавить переменную**. Строка **Grey Button (серая кнопка)** автоматически отобразится в столбце **Вариант А** (это значение извлекается из параметров проекта). В столбце **Вариант Б** введите **Blue Button (синяя кнопка)**.
    2. Щелкните раскрывающийся элемент управления еще раз, выберите **r** и нажмите **Добавить переменную**. Строка **128** автоматически отобразится в столбце **Вариант А**. В столбце **Вариант Б** введите **1**.
    3. Щелкните раскрывающийся элемент управления еще раз, выберите **g** и нажмите **Добавить переменную**. Строка **128** автоматически отобразится в столбце **Вариант А**. В столбце **Вариант Б** введите **1**.  
    4. Щелкните раскрывающийся элемент управления еще раз, выберите **b** и нажмите **Добавить переменную**. Строка **128** автоматически отобразится в столбце **Вариант А**. В столбце **Вариант Б** введите **255**.  
8. Нажмите **Сохранить**, а затем **Активировать**.

> [!IMPORTANT]
> После активации эксперимента изменить его параметры будет невозможно, если только это не редактируемый эксперимент (при создании эксперимента вы установили флажок **Редактируемый эксперимент**). Обычно рекомендуется создать код эксперимента в приложении, прежде чем активировать эксперимент.

## <a name="run-the-app-to-gather-experiment-data"></a>Запуск приложения для сбора данных эксперимента

1. Запустите приложение **SampleExperiment**, которое вы создали ранее.
2. Убедитесь, что видите серую или синюю кнопку. Нажмите кнопку и закройте приложение.
3. Повторите указанные выше действия несколько раз на одном и том же компьютере, чтобы убедиться, что в вашем приложении отображается кнопка одного и того же цвета.

## <a name="review-the-results-and-complete-the-experiment"></a>Проверка результатов и завершение эксперимента

Подождите хотя бы несколько часов после завершения предыдущего раздела, а затем выполните следующие действия, чтобы проверить результаты эксперимента и завершить его.

> [!NOTE]
> Сразу же после активации эксперимента центр партнеров сразу же начинает собирать данные из всех приложений, которые ведут журнал для эксперимента. Тем не менее может занять несколько часов данные эксперимента появятся в центре партнеров.

1. В центре партнеров вернитесь на страницу **экспериментов** для вашего приложения.
2. В разделе **Активные эксперименты** нажмите **Optimize Button Clicks (оптимизация нажатий кнопки)**, чтобы перейти на страницу этого эксперимента.
3. Убедитесь, что результаты в разделах **Сводка по результатам** и **Подробные сведения о результатах** соответствуют вашим ожиданиям. Дополнительные сведения об этих разделах см. в разделе [Управление эксперимента в центре партнеров](manage-your-experiment.md#review-the-results-of-your-experiment).
    > [!NOTE]
    > Центр партнеров регистрирует только первое событие конверсии для каждого пользователя в течение 24 часов. Если благодаря действиям пользователя срабатывает несколько событий конверсии в вашем приложении в течение 24 часов, регистрируется только первое событие. Это позволяет предотвратить искажение результатов эксперимента для выборки пользователей из-за пользователя со множеством событий конверсии.

4. Теперь вы можете завершить эксперимент. В разделе **Сводка по результатам** в столбце **Variation B** нажмите **Переключить**. Так вы переключите всех пользователей своего приложения на синюю кнопку.
5. Нажмите кнопку **ОК**, чтобы подтвердить завершение эксперимента.
6. Запустите приложение **SampleExperiment**, созданное в предыдущем разделе.
7. Убедитесь, что видите синюю кнопку. Обратите внимание, что может пройти до двух минут, прежде чем ваше приложение получит обновленное назначение варианта.

## <a name="related-topics"></a>Связанные разделы

* [Создание проекта и определение удаленных переменных в центре партнеров](create-a-project-and-define-remote-variables-in-the-dev-center-dashboard.md)
* [Кодирование приложения для экспериментов](code-your-experiment-in-your-app.md)
* [Определение эксперимента в Центре партнеров](define-your-experiment-in-the-dev-center-dashboard.md)
* [Управление экспериментом в Центре партнеров](manage-your-experiment.md)
* [Выполнение экспериментов в приложении с использованием A/B-тестирования](run-app-experiments-with-a-b-testing.md)
