---
ms.assetid: A4C6098B-6CB9-4FAF-B2EA-50B03D027FF1
description: Используйте этот метод API целевых предложений Microsoft Store, чтобы получить целевые предложения, доступные для текущего пользователя в контексте текущего приложения.
title: Получение целевых предложений
ms.date: 10/10/2017
ms.topic: article
keywords: windows 10, uwp, службы Store, API целевых предложений Microsoft Store, получение целевых предложений
ms.localizationpriority: medium
ms.openlocfilehash: 71cd6ce3b9736b812f8ccdf4d21d35357928c63c
ms.sourcegitcommit: 89ff8ff88ef58f4fe6d3b1368fe94f62e59118ad
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/30/2018
ms.locfileid: "8210516"
---
# <a name="get-targeted-offers"></a>Получение целевых предложений

Используйте этот метод для получения целевых предложений, которые доступны для текущего пользователя, в зависимости от того, является ли пользователь частью клиентского сегмента для целевого предложения. Дополнительные сведения см. в разделе [Управление целевыми предложениями с помощью служб Магазина](manage-targeted-offers-using-windows-store-services.md).

## <a name="prerequisites"></a>Что вам понадобится

Чтобы использовать этот метод, необходимо сначала [получить маркер учетной записи Майкрософт](manage-targeted-offers-using-windows-store-services.md#obtain-a-microsoft-account-token) для текущего пользователя приложения, который выполнил вход. Необходимо передать этот маркер в заголовок запроса ```Authorization``` для этого метода. Этот маркер используется в Store для получения целевого предложения для текущего пользователя.

## <a name="request"></a>Запрос


### <a name="request-syntax"></a>Синтаксис запроса

| Метод | URI запроса                                                                |
|--------|----------------------------------------------------------------------------|
| GET    | ```https://manage.devcenter.microsoft.com/v2.0/my/storeoffers/user``` |


### <a name="request-header"></a>Заголовок запроса

| Заголовок        | Тип   | Описание  |
|---------------|--------|--------------|
| Authorization | string | Обязательный. Маркер учетной записи Майкрософт для текущего пользователя приложения, который вошел в систему, в виде маркера **Bearer**&lt;**&gt;. |


### <a name="request-parameters"></a>Параметры запроса

Этот метод не имеет параметров URI или запроса.

### <a name="request-example"></a>Пример запроса

```syntax
GET https://manage.devcenter.microsoft.com/v2.0/my/storeoffers/user HTTP/1.1
Authorization: Bearer <Microsoft Account token>
```

## <a name="response"></a>Ответ

Этот метод возвращает текст ответа в формате JSON, содержащий массив объектов со следующими полями. Каждый объект в массиве представляет целевые преимущества, которые доступны для указанного пользователя как часть сегмента конкретного клиента.

| Поле      | Тип   | Описание         |
|------------|--------|------------------|
| offers      | массив  | Массив кодов продуктов для надстроек, связанных с целевыми предложениями, доступными для текущего пользователя. Эти коды продукта указываются в странице **целевые предложения** для вашего приложения в центре партнеров.            |
| trackingId  | строка | Идентификатор GUID, который при необходимости можно использовать для отслеживания целевого предложения в коде или службах. |


### <a name="example"></a>Пример.

В следующем примере демонстрируется пример текста ответа JSON на данный запрос.

```json
[
  {
    "offers": [
      "10x gold coins",
      "100x gold coins"
    ],
    "trackingId": "5de5dd29-6dce-4e68-b45e-d8ee6c2cd203"
  }
]
```

## <a name="related-topics"></a>Статьи по теме

* [Управление целевыми предложениями с помощью служб Store](manage-targeted-offers-using-windows-store-services.md)

 

 
