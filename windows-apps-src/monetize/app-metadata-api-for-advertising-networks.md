---
author: mcleanbyron
description: "Узнайте, как использовать API REST метаданных приложения для доступа к определенных типам метаданных приложений. Этот API-интерфейс предназначен для рекламных сетей, которым необходимо получать сведения о приложениях в Магазине Windows для повышения эффективности продажи рекламного пространства рекламодателям."
title: "API метаданных приложения для рекламных сетей"
translationtype: Human Translation
ms.sourcegitcommit: 97f7d8e5ebc2df1752a182d5765b6a8b28b539e5
ms.openlocfilehash: e2b0680e62014526f684e7c1f7fd7da83a14f5d3

---

# API метаданных приложения для рекламных сетей

Рекламные сети могут использовать *API метаданных приложения*, чтобы программно получать метаданные о приложениях в Магазине Windows, в том числе описание приложения, категорию описания в Магазине и сведения о возрастном рейтинге. Доступ к этому API есть только у разработчиков, которым корпорация Майкрософт предоставила разрешение для этого API.

В этой статье показано, как запросить доступ к API с помощью [портала API метаданных приложения](https://admetadata.portal.azure-api.net/), получить ключ подписки для доступа к API и как вызвать API.

## Запрос доступа

Рекламные сети могут запросить доступ к API метаданных приложения, выполнив следующие действия.

1. Перейдите на страницу [https://admetadata.portal.azure-api.net/signup](https://admetadata.portal.azure-api.net/signup) портала API метаданных приложения.
2. Введите необходимые сведения и нажмите кнопку **Зарегистрироваться**.
3. На том же сайте откройте вкладку **Продукты** и нажмите кнопку **Сведения о приложении для рекламы**.
4. На следующей странице нажмите кнопку **Подписаться**. Ваш запрос доступа к API метаданных приложения будет отправлен корпорации Майкрософт.

После отправки запроса в течение приблизительно 24 часов вы получите сообщение с уведомлением о том, был ли ваш запрос выполнен или отклонен.

<span id="get-key" />
## Получение ключа подписки

Если вам предоставили доступ к API метаданных приложения, следуйте этим инструкциям, чтобы получить ключ подписки. Этот ключ необходимо передавать в заголовке запроса вызовов API.

1. Перейдите на страницу [https://admetadata.portal.azure-api.net/signin](https://admetadata.portal.azure-api.net/signin) портала API метаданных приложения и войдите в систему, указав электронный адрес и пароль.
2. Выберите свое имя в правом верхнем углу сайта и нажмите кнопку **Профиль**.
3. В разделе **Ваши подписки** страницы нажмите кнопку **Показать** рядом с элементом **Первичный ключ**. Это ваш ключ подписки. Скопируйте ключ, чтобы использовать его позже при вызове API.

<span id="call-the-api" />
## Вызов API

После получения ключа подписки вы можете вызывать API с помощью синтаксиса HTTP REST на языке программирования по вашему выбору. Сведения о синтаксисе API см. в разделе [Синтаксис API](#syntax) ниже. Чтобы ознакомиться с примерами кода на C#, JavaScript, Python и других языках, откройте вкладку **API** портала API метаданных приложения, щелкните **Сведения о приложении** и изучите раздел **Примеры кода** в нижней части страницы.

Кроме того, вы можете вызвать API с помощью пользовательского интерфейса, предоставляемого портала API метаданные приложения.
  1. Для этого на портале откройте вкладку **API** и нажмите кнопку **Сведения о приложении**.
  2. На следующей странице введите [идентификатор приложения](#request-parameters), для которого требуется получить метаданные, в поле **app_id** и введите ключ подписки в поле **Ocp_Apim_Subscription-Key**.
  3. Нажмите кнопку **Отправить**. Ответ появится в нижней части страницы.


<span id="syntax" />
## Синтаксис API

Для этого метода используется следующий синтаксис запроса.

| Метод | URI запроса                                                      |
|--------|------------------------------------------------------------------|
| GET   | ```https://admetadata.azure-api.net/v1/app/{app_id}``` |

<span/>
 

### Заголовок запроса

| Заголовок        | Тип   | Описание                                                                 |
|---------------|--------|-----------------------------------------------------------------------------|
| Ocp-Apim-Subscription-Key | string | Обязательный. Ключ подписки, который вы [получили с портала API метаданных приложения](#get-key).  |

<span/>

### Параметры запроса

| Имя        | Тип   | Описание                                                                 |
|---------------|--------|-----------------------|
| app_id | string | Обязательный. Идентификатор приложения, для которого требуется получить метаданные. Может принимать одно из следующих значений.<br/><br/><ul><li>Код продукта в Магазине для приложения. Пример кода продукта в Магазине: 9NBLGGH29DM8.</li><li>Код продукта (или *идентификатор приложения*) для приложения, которое первоначально было созданы для Windows 8.x или Windows Phone 8.x. Код продукта — это идентификатор GUID.</li></ul> |

<span/>

### Пример запроса

В следующем примере показано, как получить метаданные для приложения с кодом продукта в Магазине 9NBLGGH29DM8.

```syntax
GET https://admetadata.azure-api.net/v1/app/9NBLGGH29DM8 HTTP/1.1
Ocp-Apim-Subscription-Key: <subscription key>
```

### Тело ответа

В следующем примере представлен текст ответа JSON в случае успешного вызова этого метода.

```json
{
    "storeId":"9NBLGGH29DM8",
    "name":"Contoso Sports App",
    "description":"Catch the latest scores and replays using Contoso Sports App!",
    "phoneStoreGuid":"920217d7-90da-4019-99e8-46e4a6bd2594",
    "windowsStoreGuid":"d7e982e7-fbf3-42b5-9dad-72b65bd4e248",
    "storeCategory":"Sports",
    "iabCategory":"Sports",
    "iabCategoryId":"IAB17",
    "coppa":false,
    "downloadUrl":"https://www.microsoft.com/store/apps/9nblggh29dm8","isLive":true,
    "iconUrls":["//store-images.microsoft.com/image/apps.15753.13510798883747357.b6981489-6fdd-4fec-b655-a822247d5a76.33529096-a723-4204-9da9-a5dd8b328d4e"],
    "type":"App"
}
```

Дополнительные сведения о значениях, которые могут содержаться в теле ответа, см. в следующей таблице.

| Значение      | Тип   | Описание    |
|------------|--------|--------------------|
| storeId           | string  | Код продукта в Магазине для приложения. Пример кода продукта в Магазине: 9NBLGGH29DM8.     |  
| name           | string  | Имя приложения.   |
| description           | string  | Описание приложения в Магазине.  |
| phoneStoreGuid           | string  | Код продукта (Windows Phone 8.x) для приложения. Это идентификатор GUID.  |
| windowsStoreGuid           | string  | Код продукта (Windows 8.x) для приложения. Это идентификатор GUID. |
| storeCategory           | string  | Категория приложения в Магазине. Список поддерживаемых значений см. в [таблице категорий и подкатегорий](../publish/category-and-subcategory-table.md) для приложений в Магазине.  |
| iabCategory           | string  | Категория содержимого для приложения, определенная Некоммерческим партнерством содействия развитию интерактивной рекламы (IAB). Например, **Новости** или **Спорт**. Список категорий содержимого см. на странице [IAB Tech Lab Content Taxonomy](https://www.iab.com/guidelines/iab-quality-assurance-guidelines-qag-taxonomy) на веб-сайте IAB.   |
| iabCategoryId           | string  | Идентификатор категории содержимого приложения. Например, **IAB12** — это идентификатор для категории "Новости", а **IAB17** — идентификатор для категории "Спорт". Список кодов категорий содержимого см. в раздел 5.1 в [спецификации OpenRTB API](http://www.iab.com/wp-content/uploads/2015/05/OpenRTB_API_Specification_Version_2_3_1.pdf). |
| coppa           | boolean  | Значение true, если приложение предназначено для детей младше 13 лет и должно соответствовать требованиям Закона о защите личных сведений детей в Интернете (COPPA); в противном случае — значение false.  |
| downloadUrl           | string  | Ссылка на страницу с описанием приложения в Магазине. Эта ссылка имеет формат ```https://www.microsoft.com/store/apps/<Store ID>```.  |
| iconUrls           | string  |  Относительный путь к URL-адресам значков, связанных с этим приложением. Для получения значков добавьте префикс *http* или *https* к URL-адресам.  |
| type           | string  | Одна из следующих строк: **App** или **Game**.  |

<span/>



 

 



<!--HONumber=Nov16_HO1-->


