---
ms.assetid: 8C1E9E36-13AF-4386-9D0F-F9CB320F02F5
description: Используйте этот метод в интерфейсе API отправки Microsoft Store для создания рейса пакета для приложения, зарегистрированный для вашей учетной записи центра партнеров.
title: Создание тестового пакета
ms.date: 04/16/2018
ms.topic: article
keywords: Windows 10, UWP, API отправки Microsoft Store, создание тестируемой возможности
ms.localizationpriority: medium
ms.openlocfilehash: 0c71dfc05bf2f283652087620848396b731871cd
ms.sourcegitcommit: ac7f3422f8d83618f9b6b5615a37f8e5c115b3c4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/29/2019
ms.locfileid: "66371965"
---
# <a name="create-a-package-flight"></a>Создание тестового пакета

Используйте этот метод в интерфейсе API отправки Microsoft Store для создания рейса пакета для приложения, зарегистрированный для вашей учетной записи центра партнеров.

> [!NOTE]
> При использовании этого метода выполняется создание тестового пакета без отправок. Руководство по созданию отправки для тестового пакета см. в описании методов в разделе [Управление отправками тестовых пакетов](manage-flight-submissions.md).

## <a name="prerequisites"></a>предварительные требования

Для использования этого метода сначала необходимо сделать следующее:

* Если вы еще не сделали этого, выполните все [необходимые условия](create-and-manage-submissions-using-windows-store-services.md#prerequisites) для API отправки в Microsoft Store.
* [Получите маркер доступа Azure AD](create-and-manage-submissions-using-windows-store-services.md#obtain-an-azure-ad-access-token), который будет использоваться в заголовке запроса этого метода. После получения токена доступа у вас будет 60 минут, чтобы использовать его до окончания его срока действия. После истечения срока действия токена можно получить новый токен.

## <a name="request"></a>Запрос

У этого метода следующий синтаксис. Примеры использования и описание текста заголовка и запроса приведены в следующих разделах.

| Метод | Универсальный код ресурса (URI) запроса                                                      |
|--------|------------------------------------------------------------------|
| ПОМЕСТИТЬ    | ```https://manage.devcenter.microsoft.com/v1.0/my/applications/{applicationId}/flights``` |


### <a name="request-header"></a>Заголовок запроса

| Header        | Тип   | Описание                                                                 |
|---------------|--------|-----------------------------------------------------------------------------|
| Authorization | строка | Обязательный. Маркер доступа Azure AD в форме **носителя** &lt; *маркера*&gt;. |


### <a name="request-parameters"></a>Параметры запроса

| Имя        | Тип   | Описание                                                                 |
|---------------|--------|-----------------------------------------------------------------------------|
| applicationId | строка | Обязательный. Код продукта в Магазине для приложения, для которого требуется создать тестовый пакет. Подробнее о коде продукта в Магазине см. в статье [Просмотр сведений об идентификации приложений](https://docs.microsoft.com/windows/uwp/publish/view-app-identity-details).  |


### <a name="request-body"></a>Тело запроса

Текст запроса содержит следующие параметры.

|  Параметр  |  Тип  |  Описание  |  Обязательно  |
|------|------|------|------|
|  friendlyName  |  строка  |  Имя тестового пакета, указанное разработчиком.  |  Нет  |
|  groupIds  |  Массив  |  Массив строк, содержащий идентификаторы тестовых групп, которые связаны с тестовым пакетом. Дополнительные сведения о тестовых группах см. в разделе [Тестовые пакеты](https://docs.microsoft.com/windows/uwp/publish/package-flights).  |  Нет  |
|  rankHigherThan  |  строка  |  Понятное имя тестового пакета, приоритет которого на единицу ниже приоритета текущего тестового пакета. Если не настроить этот параметр, новый тестовый пакет будет иметь самый высокий приоритет среди всех тестовых пакетов. Дополнительные сведения о задании приоритетов тестовых групп см. в разделе [Тестовые пакеты](https://docs.microsoft.com/windows/uwp/publish/package-flights).    |  Нет  |


### <a name="request-example"></a>Пример запроса

В примере кода ниже показано, как создать новый тестовый пакет приложения с кодом продукта 9WZDNCRD911W в Магазине.

```syntax
POST https://manage.devcenter.microsoft.com/v1.0/my/applications/9NBLGGH4R315/flights HTTP/1.1
Authorization: Bearer eyJ0eXAiOiJKV1Q...
Content-Type: application/json
{
  "friendlyName": "myflight",
  "groupIds": [
    0
  ],
  "rankHigherThan": null
}

```

## <a name="response"></a>Ответ

В следующем примере представлен текст ответа JSON в случае успешного вызова этого метода. Дополнительные сведения о значениях, которые могут содержаться в теле ответа, см. в следующих разделах.

```json
{
  "flightId": "43e448df-97c9-4a43-a0bc-2a445e736bcd",
  "friendlyName": "myflight",
  "groupIds": [
    "0"
  ],
  "rankHigherThan": "671c2857-725e-4faf-9e9e-ea1191ef879c"
}
```

### <a name="response-body"></a>Тело ответа

| Значение      | Тип   | Описание                                                                                                                                                                                                                                                                         |
|------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| flightId            | строка  | Идентификатор для тестового пакета. Это значение предоставляется путем центра партнеров.  |
| friendlyName           | строка  | Имя тестового пакета, как указано в запросе.   |  
| groupIds           | Массив  | Массив строк, содержащий идентификаторы тестовых групп, которые связаны с тестовым пакетом, как указано в запросе. Дополнительные сведения о тестовых группах см. в разделе [Тестовые пакеты](https://docs.microsoft.com/windows/uwp/publish/package-flights).   |
| rankHigherThan           | строка  | Понятное имя тестового пакета, приоритет которого на единицу ниже приоритета текущего тестового пакета, как указано в запросе. Дополнительные сведения о задании приоритетов тестовых групп см. в разделе [Тестовые пакеты](https://docs.microsoft.com/windows/uwp/publish/package-flights).  |


## <a name="error-codes"></a>Коды ошибок

Если запрос не удается выполнить, ответ будет содержать один из следующих кодов ошибок HTTP.

| Код ошибки |  Описание   |
|--------|------------------|
| 400  | Недопустимый запрос. |
| 409  | Не удалось создать пакет полета из-за текущего состояния, или приложение использует функцию центра партнеров, которая [в настоящее время не поддерживается API отправки Microsoft Store](create-and-manage-submissions-using-windows-store-services.md#not_supported). |   


## <a name="related-topics"></a>См. также

* [Создание и управление отправкой, с помощью служб Microsoft Store](create-and-manage-submissions-using-windows-store-services.md)
* [Получить пакет рейса](get-a-flight.md)
* [Удаление пакета рейса](delete-a-flight.md)
