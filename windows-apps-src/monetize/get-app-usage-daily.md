---
ms.assetid: 99DB5622-3700-4FB2-803B-DA447A1FD7B7
description: Этот метод можно используйте в API анализа Microsoft Store для получения данных о ежедневном использовании приложения для указанного диапазона дат и другие необязательные фильтры.
title: Получение сведений о ежедневном использовании приложения
ms.date: 08/15/2018
ms.topic: article
keywords: Windows 10, uwp, службы Store, API, использование анализа Microsoft Store
ms.localizationpriority: medium
ms.openlocfilehash: d3460b61e6a9a7c36be6fd87c4dc7fcc1ab811d1
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2019
ms.locfileid: "57613109"
---
# <a name="get-daily-app-usage"></a>Получение сведений о ежедневном использовании приложения

Используйте этот метод в интерфейсе API аналитики Microsoft Store для получения приложения во время указанного диапазона дат (за последние 90 дней только) и другие необязательные фильтры собирать данные об использовании (не включая Xbox многопользовательские) в формате JSON. Эта информация также доступна в [отчет об использовании](../publish/usage-report.md) в центре партнеров.

## <a name="prerequisites"></a>Предварительные условия

Для использования этого метода сначала необходимо сделать следующее:

* Если вы еще не сделали этого, выполните все [необходимые условия](access-analytics-data-using-windows-store-services.md#prerequisites) для API аналитики для Microsoft Store.
* [Получите маркер доступа Azure AD](access-analytics-data-using-windows-store-services.md#obtain-an-azure-ad-access-token), который будет использоваться в заголовке запроса этого метода. После получения токена доступа у вас будет 60 минут, чтобы использовать его до окончания его срока действия. После истечения срока действия токена можно получить новый токен.

## <a name="request"></a>Запрос

### <a name="request-syntax"></a>Синтаксис запроса

| Метод | Универсальный код ресурса (URI) запроса                                                               |
|--------|---------------------------------------------------------------------------|
| GET    | ```https://manage.devcenter.microsoft.com/v1.0/my/analytics/usagedaily``` |


### <a name="request-header"></a>Заголовок запроса

| Заголовок        | Тип   | Описание                                                                 |
|---------------|--------|-----------------------------------------------------------------------------|
| Authorization | Строка | Обязательный. Маркер доступа Azure AD в форме **носителя** &lt; *маркера*&gt;. |


### <a name="request-parameters"></a>Параметры запроса

| Параметр     | Тип   |  Описание                                                                                                    |  Обязательно  |
|---------------|--------|-----------------------------------------------------------------------------------------------------------------|------------|
| applicationId | Строка | [Код продукта в Store](in-app-purchases-and-trials.md#store-ids) для приложения, по которому требуется получить данные об отзывах. |  Да       |
| startDate     | date   | Начальная дата диапазона дат, для которого требуется получить данные об отзывах. По умолчанию используется текущая дата.                   |  Нет        |
| endDate       | date   | Конечная дата диапазона дат, для которого требуется получить данные об отзывах. По умолчанию используется текущая дата.                     |  Нет        |
| top           | int    | Количество строк данных, возвращаемых в запросе. Максимальное значение и значение по умолчанию (если параметр не указан) — 10 000. Если в запросе содержится больше строк, то тело ответа будет содержать ссылку "Далее", которую можно использовать для запроса следующей страницы данных                          |  Нет        |
| skip          | int    | Количество строк, пропускаемых в запросе. Используйте этот параметр для постраничного перемещения по большим наборам данных. Например, при top=10000 и skip=0 извлекаются первые 10 000 строк данных; при top=10000 и skip=10000 извлекаются следующие 10 000 строк данных и т. д.                         |  Нет        |  
| filter        |Строка  | Один или несколько операторов для фильтрации строк в ответе. Каждая инструкция содержит имя поля из текста ответа и значения, которые связаны с операторами eq или ne и инструкции могут быть объединены с помощью и или или. Строковые значения должны заключаться в одинарные кавычки в параметр filter. Вы можете указать следующие поля из тела ответа: <ul><li>**на рынке**</li><li>**типа устройства**</li><li>**packageVersion**</li></ul>                                                                                                                                              | Нет         |  
| orderby       | Строка | Оператор, который определяет порядок полученных значений данных. Используется следующий синтаксис: <em>orderby=field [порядк.],field [порядк.],...</em>. Параметр <em>field</em> может быть одной из следующих строк:<ul><li>**Дата**</li><li>**Идентификатор приложения**</li><li>**ApplicationName**</li><li>**на рынке**</li><li>**packageVersion**</li><li>**типа устройства**</li><li>**SubscriptionName**</li><li>**dailySessionCount**</li><li>**engagementDurationMinutes**</li><li>**dailyActiveUsers**</li><li>**dailyActiveDevices**</li><li>**dailyNewUsers**</li><li>**monthlyActiveUsers**</li><li>**monthlyActiveDevices**</li><li>**monthlyNewUsers**</li></ul><p>Параметр <em>order</em> является необязательным и может принимать значения **asc** или **desc**, которые указывают, соответственно, порядок сортировки по возрастанию или по убыванию для каждого поля. Значение по умолчанию — **asc**.</p><p>Пример: строка <em>orderby</em>: <em>orderby=date,market</em></p>                                                                                                   |  Нет        |
| groupby       | Строка | Оператор, который применяет агрегирование данных только к указанным полям. Вы можете указать следующие поля из тела ответа: <ul><li>**ApplicationName**</li><li>**SubscriptionName**</li><li>**типа устройства**</li><li>**packageVersion**</li><li>**на рынке**</li><li>**Дата**</li></ul><p>Возвращенные строки данных будут содержать поля, указанные в параметре <em>groupby</em>, а также:</p><ul><li>**Идентификатор приложения**</li><li>**SubscriptionName**</li><li>**dailySessionCount**</li><li>**engagementDurationMinutes**</li><li>**dailyActiveUsers**</li><li>**dailyActiveDevices**</li><li>**dailyNewUsers**</li><li>**monthlyActiveUsers**</li><li>**monthlyActiveDevices**</li><li>**monthlyNewUsers**</li></ul><p>Параметр <em>groupby</em> можно использовать вместе с параметром <em>aggregationLevel</em>. Например: <em>&amp;groupby=ageGroup,market&amp;aggregationLevel=week</em></p>                                                                                                             |  Нет        |


### <a name="request-example"></a>Пример запроса

Ниже приведен пример запроса для получения данных о ежедневном использовании приложения. Замените значение *applicationId* кодом продукта в Магазине для вашего приложения.

```http
GET https://manage.devcenter.microsoft.com/v1.0/my/analytics/usagedaily?applicationId=XXXXXXXXXXXX&startDate=2018-08-10&endDate=2018-08-14 HTTP/1.1
Authorization: Bearer <your access token>
```

## <a name="response"></a>Ответ



### <a name="response-body"></a>Тело ответа

| Значение      | Тип   | Описание                                                                                                                         |
|------------|--------|-------------------------------------------------------------------------------------------------------------------------------------|
| Значение      | Массив  | Массив объектов, содержащих собирать данные об использовании. Дополнительные сведения о данных в каждом объекте см. в следующей таблице. |
| @nextLink  | Строка | При наличии дополнительных страниц данных эта строка содержит универсальный код ресурса (URI), который можно использовать для запроса следующей страницы данных. Например, это значение возвращается в том случае, если параметр **top** запроса имеет значение 10 000, но для данного запроса имеется больше 10 000 строк с информацией об отзывах.                 |
| TotalCount | int    | Общее количество строк в результирующих данных для запроса.                                                                          |

 
### <a name="usage-values"></a>Использование значений

Элементы в массиве *Value* содержат следующие значения.

| Значение                     | Тип    | Описание                                                               |
|---------------------------|---------|---------------------------------------------------------------------------|
| date                      | Строка  | Первая дата в диапазон дат для данных об использовании. Если в запросе указан один день, это значение равно соответствующей дате. Если запрос указывает неделю, месяц или другой диапазон дат, это значение равно первой дате в этом диапазоне дат        |
| applicationId             | Строка  | Идентификатор приложения, для которого извлекаются данные об использовании Store.          |
| applicationName           | Строка  | Отображаемое имя приложения.                                              |
| deviceType                | Строка  | Одно из следующих строк, указывающий тип устройства, где произошла использования:<ul><li>**ПК**</li><li>**Телефон**</li><li>**Консоль**</li><li>**Планшета**</li><li>**Интернета вещей**</li><li>**Сервер**</li><li>**Holographic**</li><li>**Неизвестный**</li></ul>                                                                                                         |
| packageVersion            | Строка  | Версия пакета, в которой происходило потребление.                          |
| market                    | Строка  | Код страны ISO 3166 рынка, где клиент использовал приложение. |
| subscriptionName          | Строка  | Указывает, была ли использование через Xbox Game Pass.                            |
| dailySessionCount         | long    | Число сеансов пользователя в этот день.                                  |
| engagementDurationMinutes | double  | Минуты, где активно используется приложение измеренное distinct период времени, начиная при запуске приложения (запуск процесса) и заканчивается при прерывании (окончание процесса) или после периода отсутствия активности пользователей.             |
| dailyActiveUsers          | long    | Число клиентов, использующих приложения в этот день.                           |
| dailyActiveDevices        | long    | Число ежедневных устройства, используемые для взаимодействия с вашим приложением, всеми пользователями.  |
| dailyNewUsers             | long    | Число клиентов, использующих приложение в первый раз этот день.    |
| monthlyActiveUsers        | long    | Число клиентов, использующих приложения этого месяца.                         |
| monthlyActiveDevices      | long    | Количество устройств, приложение запускается на различных период времени, начиная при запуске приложения (запуск процесса) и заканчивая при прерывании (окончание процесса) или после периода отсутствия активности.                                      |
| monthlyNewUsers           | long    | Число клиентов, использующих приложение в первый раз этот месяц.  |


### <a name="response-example"></a>Пример ответа

В следующем примере демонстрируется пример тела ответа JSON на данный запрос.

```json
{
  "Value": [
    {
      "date": "2018-08-10",
      "applicationId": "XXXXXXXXXXXX",
      "applicationName": "My App",
      "market": "All",
      "packageVersion": "All",
      "deviceType": "All",
      "subscriptionName": "All",
      "dailySessionCount": 17718,
      "engagementDurationMinutes": 582540.2,
      "dailyActiveUsers": 7078,
      "dailyActiveDevices": 6964,
      "dailyNewUsers": 1727,
      "monthlyActiveUsers": 123609,
      "monthlyActiveDevices": 116723,
      "monthlyNewUsers": 72271
    },
    {
      "date": "2018-08-11",
      "applicationId": "XXXXXXXXXXXX",
      "applicationName": "My App",
      "market": "All",
      "packageVersion": "All",
      "deviceType": "All",
      "subscriptionName": "All",
      "dailySessionCount": 19899,
      "engagementDurationMinutes": 655379.7,
      "dailyActiveUsers": 7877,
      "dailyActiveDevices": 7789,
      "dailyNewUsers": 2062,
      "monthlyActiveUsers": 123666,
      "monthlyActiveDevices": 116770,
      "monthlyNewUsers": 72276
    },
    {
      "date": "2018-08-12",
      "applicationId": "XXXXXXXXXXXX",
      "applicationName": "My App",
      "market": "All",
      "packageVersion": "All",
      "deviceType": "All",
      "subscriptionName": "All",
      "dailySessionCount": 21349,
      "engagementDurationMinutes": 735640.5,
      "dailyActiveUsers": 8456,
      "dailyActiveDevices": 8309,
      "dailyNewUsers": 2433,
      "monthlyActiveUsers": 124241,
      "monthlyActiveDevices": 117289,
      "monthlyNewUsers": 72732
    }
  ],
  "@nextLink": null,
  "TotalCount": 3
}
```

## <a name="related-topics"></a>Статьи по теме

* [Доступ к данным аналитики с помощью служб Microsoft Store](access-analytics-data-using-windows-store-services.md)
* [Получите ежемесячный ussage приложения](get-app-usage-monthly.md)
* [Получить приобретения приложений](get-app-acquisitions.md)
* [Получить приобретение надстройки](get-in-app-acquisitions.md)
* [Получить данные отчетов об ошибках](get-error-reporting-data.md)
