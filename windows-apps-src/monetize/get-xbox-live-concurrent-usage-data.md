---
author: Xansky
description: Используйте этот метод в API аналитики для Microsoft Store для получения данных одновременного использования Xbox Live.
title: Получение данных параллельного использования Xbox Live
ms.author: mhopkins
ms.date: 06/04/2018
ms.topic: article
keywords: Windows 10, uwp, службы Store, API аналитики для Microsoft Store, аналитика Xbox Live, одновременное использование
ms.localizationpriority: medium
ms.openlocfilehash: 4506176dcd62a4699c57343c50dfc1b0e7a40b14
ms.sourcegitcommit: e38b334edb82bf2b1474ba686990f4299b8f59c7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/15/2018
ms.locfileid: "6858649"
---
# <a name="get-xbox-live-concurrent-usage-data"></a>Получение данных параллельного использования Xbox Live


Используйте этот метод в API аналитики для Microsoft Store, чтобы получить данные в режиме близости к реальному времени (с задержкой в 5-15минут) о среднем числе пользователей, играющих в вашу [игру с поддержкой Xbox Live](../xbox-live/index.md) в каждую минуту, час или день в течение заданного интервала времени. Эта информация также доступна в [аналитический отчет Xbox](../publish/xbox-analytics-report.md) в центре партнеров.

> [!IMPORTANT]
> Этот метод поддерживает только игры для Xbox или игры, использующие службы Xbox Live. Эти игры, в том числе игры, опубликованные [партнерами Майкрософт](../xbox-live/developer-program-overview.md#microsoft-partners), и отправленные в рамках программы [ID@Xbox, должны пройти [процесс утверждения концепции](../gaming/concept-approval.md)](../xbox-live/developer-program-overview.md#id). В настоящее время этот метод не поддерживает игры, опубликованные в рамках программы [Xbox Live Creators Program](../xbox-live/get-started-with-creators/get-started-with-xbox-live-creators.md).

## <a name="prerequisites"></a>Что вам понадобится

Для использования этого метода сначала необходимо сделать следующее:

* Если вы еще не сделали этого, выполните все [необходимые условия](access-analytics-data-using-windows-store-services.md#prerequisites) для API аналитики для Microsoft Store.
* [Получите маркер доступа Azure AD](access-analytics-data-using-windows-store-services.md#obtain-an-azure-ad-access-token), который будет использоваться в заголовке запроса этого метода. После получения маркера доступа у вас будет 60минут, чтобы использовать его до окончания срока действия маркера. После истечения срока действия маркера можно получить новый маркер.

## <a name="request"></a>Запрос


### <a name="request-syntax"></a>Синтаксис запроса

| Метод | URI запроса       |
|--------|----------------------|
| GET    | ```https://manage.devcenter.microsoft.com/v1.0/my/analytics/gameanalytics``` |


### <a name="request-header"></a>Заголовок запроса

| Заголовок        | Тип   | Описание                                                                 |
|---------------|--------|-----------------------------------------------------------------------------|
| Authorization | Строка | Обязательный. Маркер доступа Azure AD в формате **Bearer** &lt;*token*&gt;. |


### <a name="request-parameters"></a>Параметры запроса


| Параметр        | Тип   |  Описание      |  Обязательный  
|---------------|--------|---------------|------|
| applicationId | строка | [Код продукта в Store](in-app-purchases-and-trials.md#store-ids) для игры, по которой требуется получить данные одновременного использования Xbox Live.  |  Да  |
| metricType | строка | Строка, определяющая тип аналитических данных Xbox Live, которые необходимо получить. Для этого метода укажите значение **concurrency**.  |  Да  |
| startDate | date | Начальная дата диапазона дат, для которого требуется получить данные одновременного использования. См. описание *aggregationLevel*, чтобы узнать поведение по умолчанию. |  Нет  |
| endDate | date | Конечная дата диапазона дат, для которого требуется получить данные одновременного использования. См. описание *aggregationLevel*, чтобы узнать поведение по умолчанию. |  Нет  |
| aggregationLevel | строка | Определяет диапазон времени, для которого требуется получить сводные данные. Можно использовать следующие строки: **minute**, **hour** или **day**. Если параметр не задан, значение по умолчанию — **day**. <p/><p/>Если вы не укажете *startDate* или *endDate*, по умолчанию в теле ответа содержится следующее: <ul><li>**minute**: последние 60 записей из доступных данных.</li><li>**hour**: последние 24 записи из доступных данных.</li><li>**day**: последние 7 записей из доступных данных.</li></ul><p/>Следующие уровни агрегирования имеют ограничения размера по количеству записей, которые могут быть возвращены. Если диапазон запрошенного времени слишком велик, записи будут усечены. <ul><li>**minute**: до 1440 записей (данные за 24 часа).</li><li>**hour**: до 720 записей (данные за 30 дней).</li><li>**day**: до 60 записей (данные за 60 дней).</li></ul>  |  Нет  |


### <a name="request-example"></a>Пример запроса

Ниже приведен пример запроса на получение данных одновременного использования для вашей игры с поддержкой Xbox Live. Этот запрос извлекает данные по каждой минуте от 1 февраля 2018 г. до 2 февраля 2018 г. Замените значение *applicationId* кодом продукта в Store для вашей игры.

```syntax
GET https://manage.devcenter.microsoft.com/v1.0/my/analytics/gameanalytics?applicationId=9NBLGGGZ5QDR&metrictype=concurrency&aggregationLevel=hour&startDate=2018-02-01&endData=2018-02-02 HTTP/1.1
Authorization: Bearer <your access token>
```

## <a name="response"></a>Ответ

Тело ответа содержит массив объектов, каждый из которых содержит один набор данных одновременного использования для заданной минуты, часа или дня. Каждый объект содержит следующие значения.

| Значение      | Тип   | Описание                  |
|------------|--------|-------------------------------------------------------|
| Количество      | число  | Среднее количество пользователей, игравших в вашу игру с поддержкой Xbox Live в заданную минуту, час или день. <p/><p/>**Примечание.**&nbsp;&nbsp;Значение 0 означает, что в определенный промежуток времени не было одновременно игравших пользователей, либо что произошел сбой в процессе сбора данных одновременного использования для игры за определенный промежуток времени. |
| Дата  | строка | Дата и время указывает минуту, час или день, к которым относятся данные одновременного использования.  |
| SeriesName | строка    | Всегда имеет значение **UserConcurrency **. |


### <a name="response-example"></a>Пример ответа

В следующем примере демонстрируется пример текста ответа JSON на данный запрос с поминутным агрегированием данных.

```json
[   {
        "Count": 418.0,
        "Date": "2018-02-02T04:42:13.65Z",
        "SeriesName": "UserConcurrency"
    }, {
        "Count": 418.0,
        "Date": "2018-02-02T04:43:13.65Z",
        "SeriesName": "UserConcurrency"
    }, {
        "Count": 415.0,
        "Date": "2018-02-02T04:44:13.65Z",
        "SeriesName": "UserConcurrency"
    }, {
        "Count": 412.0,
        "Date": "2018-02-02T04:45:13.65Z",
        "SeriesName": "UserConcurrency"
    }, {
        "Count": 414.0,
        "Date": "2018-02-02T04:46:13.65Z",
        "SeriesName": "UserConcurrency"
    }
]
```

## <a name="related-topics"></a>Статьи по теме

* [Доступ к аналитическим данным с помощью служб Microsoft Store](access-analytics-data-using-windows-store-services.md)
* [Получение аналитических данных Xbox Live](get-xbox-live-analytics.md)
* [Получение данных о достижениях в Xbox Live](get-xbox-live-achievements-data.md)
* [Получение данных работоспособности в Xbox Live](get-xbox-live-health-data.md)
* [Получение данных центра игр в Xbox Live](get-xbox-live-game-hub-data.md)
* [Получение данных клуба в Xbox Live](get-xbox-live-club-data.md)
* [Получение многопользовательских данных в Xbox Live](get-xbox-live-multiplayer-data.md)
