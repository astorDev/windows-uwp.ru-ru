---
ms.assetid: bb105fbe-bbbd-4d78-899b-345af2757720
description: Узнайте, как добавить идентификатор приложения и значения идентификатора единицы AD из центра партнеров в приложение перед отправкой приложения в магазин.
title: Настройка рекламных блоков в приложении
ms.date: 02/18/2020
ms.topic: article
keywords: Windows 10, uwp, рекламные объявления, реклама, рекламные блоки, тестирование
ms.localizationpriority: medium
ms.openlocfilehash: 37f04e8b112df23457c46e4f535309f2fe5dd847
ms.sourcegitcommit: 6af7ce0e3c27f8e52922118deea1b7aad0ae026e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/19/2020
ms.locfileid: "77463906"
---
# <a name="set-up-ad-units-in-your-app"></a>Настройка рекламных блоков в приложении

>[!WARNING]
> Начиная с 1 июня 2020 г. платформа Microsoft AD монетизацию для приложений Windows UWP будет выключена. [Подробнее](https://aka.ms/ad-monetization-shutdown)

Каждому элементу управления собственной рекламой в вашем приложении универсальной платформы Windows (UWP) соответствует *группа объявлений*, используемая нашими службами для передачи рекламы в элемент управления. Каждая группа объявлений состоит из *идентификатора группы объявлений* и *идентификатора приложения*, которые необходимо назначить коду в вашем приложении.

Мы предоставляем [тестовые значения группы объявлений](#test-ad-units), которые можно использовать во время тестирования для подтверждения того, что в вашем приложении отображается тестовая реклама. Эти тестовые значения можно использовать только в тестовой версии приложения. При использовании тестовых значений в опубликованном приложении оно не будет получать рекламу.

После завершения тестирования приложения UWP и готовности его к отправке в центр партнеров необходимо [создать активную единицу AD](#live-ad-units) на странице [рекламных объявлений в приложении](../publish/in-app-ads.md) в центре партнеров и обновить код приложения, чтобы в нем использовались идентификатор и значения идентификаторов AD для этой единицы AD.

Дополнительные сведения о назначении значений "Идентификатор приложения" и "Идентификатор группы объявлений" в коде приложения см. в следующих статьях:
* [Адконтрол в XAML и .NET](adcontrol-in-xaml-and--net.md)
* [Адконтрол в HTML 5 и JavaScript](adcontrol-in-html-5-and-javascript.md)
* [Межстраничные объявления](../monetize/interstitial-ads.md)
* [Собственные объявления](../monetize/native-ads.md)

<span id="test-ad-units" />

## <a name="test-ad-units"></a>Тестовые группы объявлений

Во время разработки приложения используйте тестовые значения идентификатора приложения и идентификатора рекламного блока из этого раздела, чтобы увидеть, как отображается реклама в вашем приложении во время тестирования.

### <a name="banner-ads-using-the-adcontrol-class"></a>Рекламные баннеры (с помощью класса AdControl)

* Идентификатор единицы AD: ```test```
* Идентификатор приложения: ```3f83fe91-d6be-434d-a0ae-7351c5a997f1```

    > [!IMPORTANT]
    > Размер актуального рекламного объявления для объекта **AdControl** определяется свойствами **Width** и **Height**. Для получения оптимального результата убедитесь, что значения свойств **Width** и **Height** в вашем коде соответствуют одному из [поддерживаемых размеров рекламных баннеров](supported-ad-sizes-for-banner-ads.md). Значения свойств **Width** и **Height** не меняются в зависимости от размера отображаемого рекламного объявления.

### <a name="interstitial-ads-and-native-ads"></a>Межстраничные объявления и собственные объявления

* Идентификатор единицы AD: ```test```
* Идентификатор приложения: ```d25517cb-12d4-4699-8bdc-52040c712cab```

<span id="live-ad-units" />

## <a name="live-ad-units"></a>Реальные группы объявлений

Чтобы получить активную единицу AD из центра партнеров и использовать ее в своем приложении:

1.  [Создайте модуль AD](../publish/in-app-ads.md#create-ad-unit) на странице **рекламных объявлений в приложении** в центре партнеров. Не забудьте указать правильный тип группы объявлений для элемента управления рекламой, который вы используете в своем приложении.
    > [!NOTE]
    > Вы можете при необходимости включить рекламный посредник для своей группы объявлений, настроив параметры в разделе [Параметры посредника](../publish/in-app-ads.md#mediation). С помощью рекламного посредника можно максимально увеличить выручку от рекламы и расширить возможности продвижения приложений, отображая рекламные объявления от нескольких рекламных сетей, в том числе других платных рекламных сетей, а также рекламные объявления в рамках кампаний по продвижению приложений Майкрософт. По умолчанию мы автоматически выбираем параметры рекламного посредника для вашего приложения с помощью алгоритмов машинного обучения, чтобы максимально увеличить ваш доход от рекламы на всех рынках, поддерживаемых вашим приложением. При необходимости можно настроить параметры посредника вручную.

2.  После создания новой единицы AD Извлеките **идентификатор приложения** и **идентификатор единицы AD** для единицы AD в таблице доступных единиц ad на странице **монетизации** &gt; **In-App ADS** .
    > [!NOTE]
    > Значения идентификатора приложения для тестовых рекламных блоков и реальных рекламных блоков UWP имеют разные форматы. Тестовые значения идентификатора приложения представляют собой элементы GUID. При создании активной единицы AD UWP в центре партнеров значение идентификатора приложения для единицы AD всегда совпадает с ИДЕНТИФИКАТОРом магазина для вашего приложения (пример значения идентификатора магазина выглядит как 9NBLGGH4R315).

3.  Назначьте значения "Идентификатора приложения" и "Идентификатора группы объявлений" в коде приложения. Дополнительные сведения доступны в следующих статьях.
    * [Адконтрол в XAML и .NET](adcontrol-in-xaml-and--net.md)
    * [Адконтрол в HTML 5 и JavaScript](adcontrol-in-html-5-and-javascript.md)
    * [Межстраничные объявления](../monetize/interstitial-ads.md)
    * [Собственные объявления](../monetize/native-ads.md)

<span id="manage" />

## <a name="manage-ad-units-for-multiple-ad-controls-in-your-app"></a>Управление группами объявлений для нескольких элементов управления рекламой в приложении

В одном приложении можно использовать несколько элементов управления баннерами, межстраничными объявлениями и собственными объявлениями. В этом случае рекомендуется назначить каждому элементу управления свою группу объявлений. Использование различных групп объявлений для каждого элемента управления позволяет по отдельности [настраивать параметры посредника](../publish/in-app-ads.md#mediation) и получать раздельные [данные отчетности](../publish/advertising-performance-report.md) для каждого элемента управления. Это также позволяет нашим службам лучше оптимизировать рекламные объявления, которые мы передаем вашему приложению.

> [!IMPORTANT]
> Одну группу объявлений можно использовать только в одном приложении. Если использовать одну группу объявлений в нескольких приложениях, объявления для этой группы объявлений предоставляться не будут.

## <a name="related-topics"></a>Связанные разделы

* [Адконтрол в XAML и .NET](adcontrol-in-xaml-and--net.md)
* [Адконтрол в HTML 5 и JavaScript](adcontrol-in-html-5-and-javascript.md)
* [Межстраничные объявления](interstitial-ads.md)
* [Собственные объявления](native-ads.md)


 

 
