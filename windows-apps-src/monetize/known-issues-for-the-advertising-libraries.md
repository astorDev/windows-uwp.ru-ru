---
ms.assetid: 9ca1f880-2ced-46b4-8ea7-aba43d2ff863
description: Изучите известные проблемы текущего выпуска Microsoft Advertising SDK.
title: Сведения об известных проблемах и устранении неполадок рекламы в приложениях
ms.date: 04/16/2018
ms.topic: article
keywords: Windows 10, UWP, реклама, рекламные объявления, известные проблемы, устранение неполадок
ms.localizationpriority: medium
ms.openlocfilehash: 8b32b390cc4ca6af5b03a22e30323ded5aeac516
ms.sourcegitcommit: 681c70f964210ab49ac5d06357ae96505bb78741
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/26/2018
ms.locfileid: "7701128"
---
# <a name="known-issues-and-troubleshooting-for-ads-in-apps"></a>Сведения об известных проблемах и устранении неполадок рекламы в приложениях

В этом разделе содержится перечень известных проблем текущего выпуска Microsoft Advertising SDK. Дополнительные рекомендации по устранению неполадок содержатся в следующих разделах.

* [Руководство по устранению неполадок для HTML и JavaScript](html-and-javascript-troubleshooting-guide.md)
* [Руководство по устранению неполадок в XAML и C#](xaml-and-c-troubleshooting-guide.md)

## <a name="adcontrol-interface-unknown-in-xaml"></a>Интерфейс AdControl неизвестен в XAML

В разметке XAML для элемента [AdControl](https://docs.microsoft.com/uwp/api/microsoft.advertising.winrt.ui.adcontrol) может некорректно отображаться синяя курсивная строка, обозначая, что интерфейс неизвестен. Это происходит только в системах x86, ошибку можно игнорировать.

## <a name="lasterror-from-previous-ad-request"></a>lastError из предыдущего запроса рекламного объявления

Если с прошлого запроса рекламного объявления осталась ошибка **lastError**, событие может быть запущено дважды во время следующего вызова объявления. Несмотря на то что новый запрос объявления будет обработан и в результате даже может быть получено действительное рекламное объявление, такое поведение может вызывать путаницу.

## <a name="interstitial-ads-and-navigation-buttons-on-phones"></a>Промежуточные рекламы и кнопки навигации на телефонах

На телефонах (или эмуляторах) с программными кнопками **Назад**, **Пуск** и **Поиск** вместо аппаратных могут не отображаться таймер отсчета и кнопки прокрутки межстраничных объявлений.

## <a name="recently-created-ads-are-not-being-served-to-your-app"></a>Недавно созданные объявления не отображаются в приложении

Если вы опубликовали объявление недавно (менее дня), то оно может быть еще недоступно. Если объявление утверждено для редакционного содержимого, то оно отобразится после того, как будет обработано сервером рекламы и станет доступно в числе рекламных объявлений.

## <a name="no-ads-are-shown-in-your-app"></a>В приложении не отображается реклама

Существует несколько причин этой проблемы, включая ошибки сети. Другие возможные причины:

* Выбор рекламного объявления в центре партнеров с размером больше или меньше, чем размер **AdControl** в коде приложения.

* Реклама не будут отображаться, если вы используете [значение тестового режима](set-up-ad-units-in-your-app.md#test-ad-units) для идентификатора единицы рекламы при запуске реального приложения.

* Если вы создали новый идентификатор рекламной единицы в последние полчаса, реклама может не отображаться до тех пор, пока серверы не распространят новые данные по системе. Существующие идентификаторы, которые показывали рекламу раньше, должны показывать ее немедленно.

Если вы видите тестовые объявления в приложении, то ваш код работает и может отображать рекламу. Если проблемы сохраняются, обратитесь в [службу поддержки по продукту](https://developer.microsoft.com/en-us/windows/support). На этой странице выберите **Реклама в приложении**.

Можно также опубликовать вопрос на [форуме](http://go.microsoft.com/fwlink/p/?LinkId=401266).

## <a name="test-ads-are-showing-in-your-app-instead-of-live-ads"></a>В приложении отображается тестовая реклама, а не реальные объявления

Тестовая реклама может отображаться, даже если вы рассчитываете увидеть настоящую рекламу. Это происходит в следующих случаях:

* Наша рекламная платформа не может проверить или найти ИД работающего приложения, используемый в Магазине. В этом случае когда пользователь создает рекламную единицу, она сначала получает статус актуальной (нетестовой), а затем в течение 6 часов после первого рекламного запроса получает статус тестовой. При отсутствии запросов от тестовых приложений в течение 10 дней реклама снова перейдет в разряд актуальных.

* Неопубликованные приложения или приложения, работающие в эмуляторе, не отображают актуальные объявления.

Если актуального рекламного объявления — это единица показывает тестовые объявления, статус рекламной единицы показывает **Активная и показывает тестовые объявления** в центре партнеров. В настоящее время это неактуально для телефонных приложений.


<span id="reference_errors"/>

## <a name="reference-errors-caused-by-targeting-any-cpu-in-your-project"></a>Ошибки ссылок, вызванные ориентацией проекта на любой ЦП

При использовании Microsoft Advertising SDK невозможно ориентироваться в проекте на **Любой ЦП**. Если проект ориентирован на платформу **Любой ЦП**, после добавления ссылки (см. пример ниже) может отобразиться предупреждение.

![referenceerror\-solutionexplorer](images/13-19629921-023c-42ec-b8f5-bc0b63d5a191.jpg)

Чтобы убрать это предупреждение, обновите проект, чтобы использовать сборку определенной архитектуры (например, **x86**). Используйте **Диспетчер конфигурации**, чтобы задать целевые объекты платформы для конфигураций отладки и выпуска.

![configurationmanagerwin10](images/13-87074274-c10d-4dbd-9a06-453b7184f8de.png)

При создании пакетов приложений для отправки в магазин (см. следующие изображения) обязательно включите архитектуры, на которые вы ориентируетесь. Можно пропустить архитектуры x64, если вы планируете запускать сборки x86 в ОС x64.

![projectstorecreateapppackages](images/13-a99b05a4-8917-4c53-822e-2548fadf828a.png)

![createapppackages](images/13-16280cb1-a838-42b9-9256-eac7f33f5603.png)

## <a name="z-order-in-javascripthtml-apps"></a>Z-порядок в приложениях JavaScript и HTML

Приложения JavaScript/HTML не должны помещать элементы в зарезервированный диапазон MAX-10 z-порядка. Единственное исключение— это наложение прерывания, например уведомление о входящем вызове в Skype.

<span id="bkmk-ui"/>

## <a name="do-not-use-borders"></a>Не используйте границы

Использование свойств для границ, унаследованных **AdControl** от родительского класса, может стать причиной неверного размещения рекламы.

## <a name="more-information"></a>Дополнительные сведения

Дополнительные сведения об актуальных известных ошибках и публикации вопросов, связанных с Microsoft Advertising SDK, см. на [форуме](http://go.microsoft.com/fwlink/p/?LinkId=401266).

 

 
