---
description: C++/WinRT — это современная, полностью соответствующая стандартам проекция языка C++17 для API среды выполнения Windows (WinRT), реализованная как библиотека на основе файлов заголовков.
title: C++/WinRT
ms.date: 04/18/2019
ms.topic: article
keywords: Windows 10, UWP, стандартный, c++, cpp, winrt, проекция
ms.localizationpriority: medium
ms.openlocfilehash: 61a54edc236f94bec44420471a176a2014fcdb0d
ms.sourcegitcommit: 0426013dc04ada3894dd41ea51ed646f9bb17f6d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78852497"
---
# <a name="cwinrt"></a>C++/WinRT

[C++/WinRT](/windows/uwp/cpp-and-winrt-apis/intro-to-using-cpp-with-winrt) — это полностью стандартная проекция языка C++17 для API среды выполнения Windows (WinRT), реализованная как библиотека на основе файлов заголовков и предназначенная для предоставления вам первоклассного доступа к современным интерфейсам API Windows. С помощью C++/WinRT можно создавать и использовать интерфейсы API среды выполнения Windows, используя любой совместимый со стандартами компилятор C++17. В пакет Windows SDK входит среда C++/WinRT, которая впервые появилась в версии 10.0.17134.0 (Windows 10, версия 1803).

C++/ WinRT предназначается для любых разработчиков, которые заинтересованы в написании превосходного и быстрого кода для Windows. Для этого есть следующие причины.

## <a name="the-case-for-cwinrt"></a>Преимущества C++/WinRT
&nbsp;
> [!VIDEO https://www.youtube.com/embed/TLSul1XxppA]

Язык C++ используется как в корпоративном сегменте, так *и* независимыми поставщиками программного обеспечения для приложений, для которых необходимы высокие уровни надежности, качества и производительности. Вот некоторые из применений: системное программирование; ограниченные в ресурсах встроенные и мобильные системы; игры и графика; драйверы устройств; а также промышленные, научные и медицинские приложения.

Как язык C++ всегда применялся при разработке и использовании абстракций, одновременно облегченных и обладающих большим количеством типов. Но со времен необработанных указателей, необработанных циклов, сложного выделения памяти и выпуска C++98 язык сильно изменился. Современный C++ (начиная с версии C++11 и выше) позволяет четко выражать идеи, обеспечивает простоту, удобочитаемость и снижает вероятность появления ошибок.

Для создания и использования интерфейсов API среды выполнения Windows с помощью C++ используется C++/WinRT. Это рекомендуемая корпорацией Майкрософт замена для проекции языка [C++/CX](/cpp/cppcx/visual-c-language-reference-c-cx?branch=live) и [библиотеки шаблонов C++ для среды выполнения Windows (WRL)](/cpp/windows/windows-runtime-cpp-template-library-wrl?branch=live).

При использовании C++/WinRT применяются стандартные типы данных, алгоритмы и ключевые слова C++. Эта проекция имеет собственные типы данных, но в большинстве случаев вам не нужно их изучать, так как они обеспечивают соответствующие преобразования из стандартных типов и обратно. Таким образом, можно продолжать использовать стандартные возможности языка C++, к которым вы привыкли, а также исходный код, который у вас уже есть. C++/WinRT радикально упрощает вызов интерфейсов API среды выполнения Windows в любом приложении C++ — от Win32 до UWP.

C++/WinRT работает лучше и создает двоичные файлы меньшего размера, чем любой другой вариант языка для среды выполнения Windows. Его производительность даже выше рукописного кода, использующего двоичные интерфейсы ABI напрямую. Это связано с тем, что абстракции используют современные идиомы C++, которые способен оптимизировать компилятор Visual C++. Это включает в себя волшебные статические методы, пустые базовые классы, элизию **strlen**, а также множество новых оптимизаций в последней версии Visual C++, специально предназначенных для повышения производительности C++/WinRT.

### <a name="topics-about-cwinrt"></a>Разделы о C++/WinRT

| Раздел | Описание |
| - | - |
| [Введение в C++/WinRT](intro-to-using-cpp-with-winrt.md) | Введение в C++/WinRT &mdash; стандартную проекцию языка C++ для интерфейсов API среды выполнения Windows. |
| [Начало работы с C++/WinRT](get-started.md) | Чтобы вы могли быстро приступить к работе с C++/WinRT, в этой статье описывается простой пример кода. |
| [Что нового в C++/WinRT](news.md) | Новости и изменения в C++/WinRT. |
| [Вопросы и ответы](faq.md) | Ответы на часто возникающие вопросы о разработке и использовании интерфейсов API среды выполнения Windows с помощью C++/WinRT. |
| [Устранение неполадок](troubleshooting.md) | Таблица симптомов и способов их устранения в этом разделе может быть полезна при создании нового кода и переносе существующего приложения. |
| [Пример приложения C++/WinRT — редактор фотографий](photo-editor-sample.md) | Редактор фотографий — это пример приложения UWP, демонстрирующего возможности разработки с помощью проекции языка C++/WinRT. Пример приложения позволяет извлекать фотографии из библиотеки **Pictures**, а затем редактировать выбранное изображение, используя разные фотографические эффекты. | 
| [Обработка строк](strings.md) | С помощью C++/WinRT можно вызывать интерфейсы API среды выполнения Windows, используя стандартные типы широких строк C++ или тип [**winrt::hstring**](/uwp/cpp-ref-for-winrt/hstring). |
| [Стандартные типы данных C++ и C++/WinRT](std-cpp-data-types.md) | С помощью C++/WinRT можно вызывать интерфейсы API среды выполнения Windows с использованием стандартных типов данных C++. |
| [Упаковка и распаковка скалярных значений в IInspectable](boxing.md) | Скалярное значение необходимо поместить в объект ссылочного класса перед его передачей в функцию, которая ожидает **IInspectable**. Этот процесс называют *упаковкой* значения. |
| [Использование интерфейсов API с помощью C++/WinRT](consume-apis.md) | В этом разделе показано, как использовать интерфейсы API C++/WinRT, если они реализованы Windows, сторонним поставщиком компонентов или вами самостоятельно. |
| [Создание интерфейсов API с помощью C++/WinRT](author-apis.md) | В этом разделе показано, как создавать интерфейсы API C++/ WinRT, используя базовую структуру **winrt::implements** прямо или косвенно. |
| [Обработка ошибок в C++/WinRT](error-handling.md) | В этом разделе обсуждаются стратегии обработки ошибок при программировании на C++/WinRT. |
| [Обработка событий с помощью делегатов](handle-events.md) | В этом разделе показано, как регистрировать и отзывать делегаты обработки событий с помощью C++/WinRT. |
| [Создание событий](author-events.md) | В этом разделе показано, как создать компонент среды выполнения Windows, который содержит класс среды выполнения, порождающий события. В нем также показано приложение, которое использует этот компонент и обрабатывает события. |
| [Использование коллекций с помощью C++/WinRT](collections.md) | C++/WinRT предоставляет функции и базовые классы, которые позволяют сэкономить много времени и усилий, если требуется реализовать и (или) передавать коллекции. |
| [Параллельная обработка и асинхронные операции](concurrency.md) | В этом разделе показаны способы, которыми можно создавать и использовать асинхронные объекты среды выполнения Windows с помощью C++/WinRT. |
| [Более сложные сценарии параллельной обработки и асинхронности](concurrency-2.md) | Более сложные сценарии с параллельной обработкой и асинхронностью в C++/WinRT. |
| [Элементы управления XAML; привязка к свойству C++/WinRT](binding-property.md) | Свойство, которое может быть эффективно привязано к элементу управления XAML, называется *отслеживаемым*. В этом разделе показано, как реализовать и использовать отслеживаемое свойство и привязать к нему элемент управления XAML. |
| [Элементы управления XAML; привязка к коллекции C++/WinRT](binding-collection.md) | Коллекция, которая может быть эффективно привязана к элементам управления XAML, называется *отслеживаемой*. В этом разделе показано, как реализовать и использовать отслеживаемую коллекцию и привязать к ней элементы управления XAML. |
| [Создание пользовательских (на основе шаблона) элементов управления XAML с помощью C++/WinRT](xaml-cust-ctrl.md) | В этом разделе рассматриваются этапы создания простого пользовательского элемента управления с помощью C++/WinRT. С помощью приведенной информации можно создавать собственные многофункциональные и настраиваемые элементы пользовательского интерфейса. |
| [Передача параметров в интерфейс ABI](pass-parms-to-abi.md) | C++/WinRT упрощает передачу параметров в интерфейс ABI, обеспечивая автоматическое преобразование для общих случаев. |
| [Использование компонентов COM с помощью C++/WinRT](consume-com.md) | В этом разделе приведен полный пример кода Direct2D, чтобы показать, как использовать классы и интерфейсы COM с помощью C++/WinRT. |
| [Создание компонентов COM с помощью C++/WinRT](author-coclasses.md) | C++/WinRT можно использовать для разработки классических компонентов COM, так как эта проекция языка помогает создавать классы среды выполнения Windows. |
| [Переход на C++/WinRT из C++/CX](move-to-winrt-from-cx.md) | В этом разделе объясняется, как перенести код C++/CX в его эквивалент на C++/WinRT. |
| [Взаимодействие между C++/WinRT и C++/CX](interop-winrt-cx.md) | В этом разделе описаны две вспомогательные функции, которые могут использоваться для преобразования между объектами [C++/ CX](/cpp/cppcx/visual-c-language-reference-c-cx?branch=live) и C++/WinRT. |
| [Переход на C++/WinRT с WRL](move-to-winrt-from-wrl.md) | В этом разделе объясняется, как перенести код [библиотеки шаблонов C++ для среды выполнения Windows (WRL)](/cpp/windows/windows-runtime-cpp-template-library-wrl) в его эквивалент на C++/WinRT. |
| [Переход на C++/WinRT с C#](move-to-winrt-from-csharp.md) | В этом разделе объясняется, как перенести код C# в его эквивалент на C++/WinRT. |
| [Взаимодействие между C++/WinRT и интерфейсом ABI](interop-winrt-abi.md) | В этом разделе показано, как выполнять преобразование между объектами двоичного интерфейса приложений (ABI) и C++/WinRT. |
| [Сильные и слабые ссылки в C++/WinRT](weak-references.md) | Среда выполнения Windows — это система с учетом ссылок. В подобной системе очень важно знать о значении сильных и слабых ссылок, а также о различиях между ними. |
| [Гибкие объекты](agile-objects.md) | Гибкий объект — это объект, доступ к которому может осуществляться из любого потока. Типы C++/WinRT являются гибкими по умолчанию, но вы можете это отключить. |
| [Диагностика прямых выделений](diag-direct-alloc.md) | В этом разделе подробно описывается компонент C++/WinRT 2.0. Вы можете использовать его для диагностики неполадок с созданием объекта типа реализации в стеке вместо семейства вспомогательных методов [**winrt::make**](/uwp/cpp-ref-for-winrt/make). |
| [Точки расширения для типов реализации](details-about-destructors.md) | Эти точки расширения в C++/WinRT 2.0 позволяют откладывать уничтожение типов реализации, чтобы безопасно выполнять запросы во время уничтожения, а также обрабатывать вход в проектируемые методы и выход из них. |
| [Простой пример библиотеки пользовательского интерфейса Windows для C++/WinRT](simple-winui-example.md) | Из этого раздела вы узнаете, как добавить простую поддержку WinUI в проект C++/WinRT. |

### <a name="topics-about-the-c-language"></a>Разделы о языке C++

| Раздел | Описание |
| - | - |
| [Категории значений и ссылки на них](cpp-value-categories.md) | В этом разделе описываются различные категории значений, которые существуют в C++. Вы наверняка уже слышали о значениях lvalue и rvalue, но существуют и другие типы. |

## <a name="important-apis"></a>Важные API
* [Пространство имен WinRT](/uwp/cpp-ref-for-winrt/winrt)

## <a name="related-topics"></a>Связанные темы
* [C++/CX](/cpp/cppcx/visual-c-language-reference-c-cx)
* [Библиотека шаблонов C++ для среды выполнения Windows (WRL)](/cpp/windows/windows-runtime-cpp-template-library-wrl)
