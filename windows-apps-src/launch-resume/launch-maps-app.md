---
author: TylerMSFT
title: "Запуск приложения «Карты Windows»"
description: "Узнайте, как запустить приложение «Карты Windows» из вашего приложения."
ms.assetid: E363490A-C886-4D92-9A64-52E3C24F1D98
ms.sourcegitcommit: 39a012976ee877d8834b63def04e39d847036132
ms.openlocfilehash: 0dcd15c7d04ed452f69208ad1e68a8949baf40dd

---

# Запуск приложения «Карты Windows»


\[ Обновлено для приложений UWP в Windows 10. Статьи о Windows 8.x см. в [архиве](http://go.microsoft.com/fwlink/p/?linkid=619132) \]


Узнайте, как запустить приложение «Карты Windows» из вашего приложения. В этом разделе приводится описание схем URI **bingmaps:**, **ms-drive-to:**, **ms-walk-to:** и *ms-settings:*. Используйте эти схемы URI, чтобы запустить приложение «Карты Windows» для определенных карт, маршрутов и результатов поиска или чтобы скачать автономные карты в приложении «Параметры».

**Подсказка.** Чтобы получить дополнительные сведения о запуске приложения "Карты Windows" из вашего приложения, скачайте документ [Пример карты универсальной платформы Windows (UWP)](http://go.microsoft.com/fwlink/p/?LinkId=619977) из [репозитория Windows-universal-samples](http://go.microsoft.com/fwlink/p/?LinkId=619979) на веб-сайте GitHub.

## Знакомство с URI

Схемы URI позволяют открывать приложения, щелкнув гиперссылку (или программным способом в вашем приложении). Точно так же, как создается новое сообщение с помощью **mailto:** или открывается веб-браузер с помощью **http:**, можно открыть приложение «Карты Windows» с помощью **bingmaps:**, **ms-drive-to:** и **ms-walk-to:**.

-   URI **bingmaps:** содержит карты для отображения местоположений, результатов поиска, маршрутов и пробок.
-   URI **ms-drive-to:** содержит дорожные маршруты с пошаговыми инструкциями из текущего местоположения.
-   URI **ms-walk-to:** содержит пешеходные маршруты с пошаговыми инструкциями из текущего местоположения.

Например, следующий URI открывает приложение «Карты Windows» и отображает карту, в центре которой расположен Нью-Йорк.

```xml
<bingmaps:?cp=40.726966~-74.006076>
```

![Карта с центром в Нью-Йорке.](images/mapnyc.png)

Далее приводится описание схемы URI.

**bingmaps:?query**

В данной схеме URI *query* — это несколько пар «имя-значение».

**&param1=value1&param2=value2 …**

Полный список доступных параметров см. в справке по параметрам [bingmaps:](#bingmaps), [ms-drive-to:](#msdriveto) и [ms-walk-to:](#mswalkto). Другие примеры см. далее в этом разделе.

## Запуск URI из вашего приложения


Чтобы запустить приложение «Карты Windows» из вашего приложения, вызовите метод [**LaunchUriAsync**](https://msdn.microsoft.com/library/windows/apps/hh701476) с URI **bingmaps:**, **ms-drive-to:** или **ms-walk-to:**. Следующий пример запускает тот же URI из предыдущего примера. Подробнее о запуске приложений с помощью схем URI см. в разделе [Запуск приложения по умолчанию для универсального кода ресурса (URI)](launch-default-app.md).

```cs
// Center on New York City
var uriNewYork = new Uri(@"bingmaps:?cp=40.726966~-74.006076");

// Launch the Windows Maps app
var launcherOptions = new Windows.System.LauncherOptions();
launcherOptions.TargetApplicationPackageFamilyName = "Microsoft.WindowsMaps_8wekyb3d8bbwe";
var success = await Windows.System.Launcher.LaunchUriAsync(uriNewYork, launcherOptions);
```

В этом примере класс [**LauncherOptions**](https://msdn.microsoft.com/library/windows/apps/hh701435) используется для запуска приложения «Карты Windows».

## Отображение известных местоположений


Управлять центральной точкой карты и масштабом можно несколькими способами. Использование параметров *cp* (центральная точка) и *lvl* (масштаб) — это самые простые методы, дающие прогнозируемые результаты. Использование параметра *bb* (указывает область с привязкой по широте и долготе) не так прогнозируемо, поскольку при этом учитывается разрешение экрана, а центральная точка и масштаб карты определяются на основе предоставленных координат. Параметр *bb* игнорируется, если присутствуют все три параметра (*bb*, *cp* и *lvl*).

Для управления типами представлений используйте параметры *ss* (Streetside) и *sty* (стиль). Параметр *ss* переводит карту в представление Streetside. Параметр *sty* позволяет переключаться между представлениями дороги, видов местности и трехмерного изображения. При использовании трехмерного стиля можно использовать параметры *hdg*, *pit* и *rad*, чтобы указать представление трехмерного изображения. *hdg* указывает заголовок представления, *pit* указывает уклон вида, а *rad* указывает расстояние от центральной точки для отображения в представлении. Дополнительные сведения об этих и других параметрах см. в справке по параметру [bingmaps:](#bingmaps).

| Образец URI                                                                 | Результаты                                                                                                                                                                                                   |
|----------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| bingmaps:?                                                                 | Открывает приложение Карты Windows.                                                                                                                                                                                       |
| bingmaps:?cp=40.726966~-74.006076                                          | Отображается карта с центром в Нью-Йорке.                                                                                                                                                               |
| bingmaps:?cp=40.726966~-74.006076&lvl=10                                   | Отображается карта с центром в Нью-Йорке с уровнем масштаба 10.                                                                                                                                       |
| bingmaps:?bb=39.719\_-74.52~41.71\_-73.5                                   | Отображается карта Нью-Йорка с размером экрана в качестве ограничивающего прямоугольника.                                                                                                                          |
| bingmaps:?bb=39.719\_-74.52~41.71\_-73.5&cp=47~-122                        | Отображается карта Нью-Йорка, которая является областью, указанной в аргументе ограничивающего прямоугольника. Центральная точка Сиэтла, указанная в аргументе **cp**, игнорируется.                                      |
| bingmaps:?bb=39.719\_-74.52~41.71\_-73.5&cp=47~-122&lvl=8                  | Отображается карта Нью-Йорка, которая является областью, указанной в аргументе **bb**. Аргумент **cp**, который указывает Сиэттл, игнорируется, так как **cp** и **lvl** игнорируются, когда указан параметр **bb**. |
| bingmaps:?collection=point.36.116584\_-115.176753\_Caesars%20Palace&lvl=16 | Отображается карта с точкой под именем «Сизарс-Палас» (Caesar's Palace) в Лас-Вегасе, и устанавливается уровень масштаба 16.                                                                                                            |
| bingmaps:?collection=point.40.726966\_-74.006076\_Some%255FBusiness        | Отображается карта с точкой под именем Some\_Business (в Лас-Вегасе).                                                                                                                                          |
| bingmaps:?cp=40.726966~-74.006076&trfc=1&sty=a                             | Отображается гибридная карта Нью-Йорка со сведениями о пробках.                                                                                                                                               |
| bingmaps:?cp=47.6204~-122.3491&sty=3d                                      | Отображается трехмерное представление башни Спейс-Нидл.                                                                                                                                                                   |
| bingmaps:?cp=47.6204~-122.3491&sty=3d&rad=200&pit=75&hdg=165               | Отображается трехмерное представление башни Спейс-Нидл с радиусом 200 м, уклоном 75 градусов и направлением 165 градусов.                                                                                        |
| bingmaps:?cp=47.6204~-122.3491&ss=1                                        | Отображается башня Спейс-Нидл в представлении Streetside.                                                                                                                                                           |

 

## Отображение результатов поиска


При поиске компаний с помощью параметра *q* рекомендуется использовать как можно более конкретные ключевые слова и параметр *cp* или *where* для указания местоположения. Если пользователь не предоставил приложению «Карты» разрешение на доступ к данным о своем местоположении и вы не указали местоположение для поиска компании, поиск может выполняться на уровне стран и не дать полезных результатов. Результаты поиска отображаются в наиболее подходящем представлении карты, поэтому, если нет необходимости задавать параметр *lvl* (масштаб), мы рекомендуем разрешить приложению «Карты Windows» определять его самостоятельно. Дополнительные сведения об этих и других параметрах см. в справке по параметру [bingmaps:](#bingmaps).

| Образец URI                                                    | Результаты                                                                                                                                         |
|---------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|
| bingmaps:?where=1600%20Pennsylvania%20Ave,%20Washington,%20DC | Отображается карта, и выполняется поиск адреса Белого Дома в Вашингтоне (округ Колумбия).                                                              |
| bingmaps:?cp=40.726966~-74.006076&lvl=10&where=New%20York     | Выполняется поиск города Нью-Йорк поблизости от указанной центральной точки, отображаются результаты на карте, и устанавливается уровень масштаба 10.                            |
| bingmaps:?lvl=10&where=New%20York                             | Выполняется поиск города Нью-Йорк и отображаются результаты с масштабом 10.                                                                                    |
| bingmaps:?cp=40.726966~-74.006076&lvl=14.5&q=pizza            | Выполняется поиск пиццерии поблизости от указанной центральной точки (то есть в Нью-Йорке), отображаются результаты на карте, и устанавливается уровень масштаба 14,5. |
| bingmaps:?q=coffee&where=Seattle                              | Выполняется поиск кафетерия в Сиэтле.                                                                                                                 |

 

## Отображение нескольких точек


Используйте параметр *collection* для отображения настраиваемого набора точек на карте. Если точек несколько, отображается список точек. Всего коллекция может содержать до 25 точек; при этом они перечисляются в указанном порядке. Коллекция имеет приоритет перед поисковыми запросами и запросами маршрутов. Дополнительные сведения об этом и других параметрах см. в справке по параметру [bingmaps:](#bingmaps).

| Образец URI                                                                                                                                                         | Результаты                                                                                                                   |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------|
| bingmaps:?collection=point.36.116584\_-115.176753\_Caesars%20Palace                                                                                                | Выполняется поиск «Сизарс-Палас» (Caesar's Palace) в Лас-Вегасе, и отображаются результаты на карте в наилучшем варианте отображения.                         |
| bingmaps:?collection=point.36.116584\_-115.176753\_Caesars%20Palace&lvl=16                                                                                         | Отображается вешка Caesar's Palace в Лас-Вегасе, и устанавливается масштаб 16.                                               |
| bingmaps:?collection=point.36.116584\_-115.176753\_Caesars%20Palace~point.36.113126\_-115.175188\_The%20Bellagio&lvl=16&cp=36.114902~-115.176669                   | Отображаются вешки Caesars Palace и Bellagio в Лас-Вегасе, и устанавливается масштаб 16.              |
| bingmaps:?collection=point.40.726966\_-74.006076\_Fake%255FBusiness%255Fwith%255FUnderscore                                                                        | Отображается Нью-Йорк с вешкой Fake\_Business\_with\_Underscore.                                                  |
| bingmaps:?collection=name.Hotel%20List~point.36.116584\_-115.176753\_Caesars%20Palace~point.36.113126\_-115.175188\_The%20Bellagio&lvl=16&cp=36.114902~-115.176669 | Отображается список под названием «Список отелей» и две вешки в Лас-Вегасе: Caesars Palace и Bellagio. Устанавливается масштаб 16. |

 

## Отображение маршрутов и сведений о пробках


Маршруты между двумя точками можно отображать с помощью параметра *rtp*. Эти точки могут быть адресами или координатами широты и долготы. Используйте параметр *trfc* для отображения сведений о пробках. Чтобы указать тип маршрута: на автомобиле, пешеходный или на общественном транспорте, — используйте параметр *mode*. Если *mode* не указан, маршруты будут доступны в пользовательском режиме выбора транспорта. Дополнительные сведения об этих и других параметрах см. в справке по параметру [bingmaps:](#bingmaps).

![Пример маршрутов](images/windowsmapgcdirections.png)

| Образец URI                                                                                                              | Результаты                                                                                                                                                         |
|-------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| bingmaps:?rtp=pos.44.9160\_-110.4158~pos.45.0475\_-109.4187                                                             | Отображается карта с маршрутом «от точки до точки». Поскольку *mode* не указан, маршруты будут доступны в пользовательском режиме выбора транспорта. |
| bingmaps:?cp=43.0332~-87.9167&trfc=1                                                                                    | Отображается карта с центром в Милуоки (штат Висконсин) со сведениями о пробках.                                                                                                        |
| bingmaps:?rtp=adr.One Microsoft Way, Redmond, WA 98052~pos.39.0731\_-108.7238                                           | Отображается карта с маршрутами от указанного адреса до указанного местоположения.                                                                            |
| bingmaps:?rtp=adr.1%20Microsoft%20Way,%20Redmond,%20WA,%2098052~pos.36.1223\_-111.9495\_Grand%20Canyon%20northern%20rim | Отображаются маршруты от 1 Microsoft Way, Redmond, WA, 98052 до крайней северной точки Гранд-Каньона.                                                                |
| bingmaps:?rtp=adr.Davenport, CA~adr.Yosemite Village                                                                    | Отображается карта со схемой проезда от указанного местоположения до указанного ориентира.                                                                   |
| bingmaps:?rtp=adr.Mountain%20View,%20CA~adr.San%20Francisco%20International%20Airport,%20CA&mode=d                      | Отображается схема проезда от Маунтин-Вью (Калифорния) до международного аэропорта Сан-Франциско (Калифорния).                                                                  |
| bingmaps:?rtp=adr.Mountain%20View,%20CA~adr.San%20Francisco%20International%20Airport,%20CA&mode=w                      | Отображается пеший маршрут от Маунтин-Вью (Калифорния) до международного аэропорта Сан-Франциско (Калифорния).                                                                  |
| bingmaps:?rtp=adr.Mountain%20View,%20CA~adr.San%20Francisco%20International%20Airport,%20CA&mode=t                      | Отображается маршрут на общественном транспорте от Маунтин-Вью (Калифорния) до международного аэропорта Сан-Франциско (Калифорния).                                                                  |

 

## Отображение пошаговых маршрутов


Схемы URI **ms-drive-to:** и **ms-walk-to:** позволяют запустить непосредственно пошаговое представление маршрута. Эти схемы URI могут предоставить маршруты только из текущего местоположения пользователя. Если требуется предоставить маршруты между точками, которые не включают текущее местоположение пользователя, используйте схему URI **bingmaps:**, как описано в предыдущем разделе. Дополнительные сведения об этих схемах URI см. в справке по параметрам [ms-drive-to:](#msdriveto) и [ms-walk-to:](#mswalkto).

> **Важно!** При запуске схемы URI **ms-drive-to:** или **ms-walk-to:** приложение "Карты" проверяет, было ли для устройства хотя бы раз выполнено исправление местоположения GPS. Если было, то приложение «Карты» перейдет к пошаговому маршруту. Если нет, приложение отобразит обзор маршрута, как описано в разделе [Отображение маршрутов и сведений о пробках](#directions).

 

![Пример пошагового маршрута](images/windowsmapsappdirections.png)

| Образец URI                                                                                                | Результаты                                                                                       |
|-----------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|
| ms-drive-to:?destination.latitude=47.680504&destination.longitude=-122.328262&destination.name=Green Lake | Отображается карта с пошаговым дорожным маршрутом в Грин-Лейк из вашего текущего местоположения. |
| ms-walk-to:?destination.latitude=47.680504&destination.longitude=-122.328262&destination.name=Green Lake  | Отображается карта с пошаговым пешеходным маршрутом в Грин-Лейк из вашего текущего местоположения. |


## Скачивание карты для автономного использования


Схема URI **ms-settings:** позволяет сразу открывать определенную страницу в приложении «Параметры». Хотя схема URI **ms-settings:** не открывает приложение «Карты», она позволяет напрямую перейти к странице «Автономные карты» в приложении «Параметры» и показать диалоговое окно подтверждения скачивания автономных карт, используемых приложением «Карты». Схема URI принимает точку, заданную широтой и долготой, и автоматически определяет, доступны ли автономные карты для региона с этой точкой.  Если переданные широта и долгота не входят в скачанные регионы, появляется диалоговое окно подтверждения, где пользователь может выбрать, карты каких регионов следует скачать. Если автономные недоступны для региона с нужной точкой, отображается страница «Автономные карты» в приложении «Параметры» с диалоговым окном ошибки.

| Образец URI                                                                                                | Результаты                                                                                       |
|-----------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|
| ms-settings:maps-downloadmaps?latlong=47.6,-122.3 | Открывает приложение «Параметры» на странице «Автономные карты» с диалоговым окном подтверждения скачивания карт для региона, содержащего точку с указанной широтой и долготой. |
 

## Справка по параметру bingmaps:


Синтаксис каждого параметра в следующей таблице представлен в формате дополненной нормальной формы Бэкуса-Наура (ДБНФ).

<table>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Параметр</th>
<th align="left">Определение</th>
<th align="left">Определение и пример ДБНФ</th>
<th align="left">Сведения</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p>**cp**</p></td>
<td align="left"><p>Центральная точка</p></td>
<td align="left"><p>cp = "cp=" cpval</p>
<p>cpval = degreeslat "~" degreeslon</p>
<p>degreeslat = ["-"] 1*3DIGIT ["." 1*7DIGIT]</p>
<p>degreeslon = ["-"] 1*2DIGIT ["." 1*7DIGIT]</p>
<p>Пример:</p>
<p>cp=40.726966~-74.006076</p></td>
<td align="left"><p>Оба значения должны быть выражены в градусах с десятичными знаками и разделены тильдой (**~**).</p>
<p>Допустимые значения долготы: от -180 до +180 включительно.</p>
<p>Допустимые значения широты: от -90 до +90 включительно.</p></td>
</tr>
<tr class="even">
<td align="left"><p>**bb**</p></td>
<td align="left"><p>Ограничивающий прямоугольник</p></td>
<td align="left"><p>bb = "bb=" southlatitude "_" westlongitude "~" northlatitude "_" eastlongitude</p>
<p>southlatitude = degreeslat</p>
<p>northlatitude = degreeslat</p>
<p>westlongitude = degreeslon</p>
<p>eastlongitude = degreeslon</p>
<p>degreeslat = ["-"] 13DIGIT ["." 17DIGIT]</p>
<p>degreeslon = ["-"] 12DIGIT ["." 17DIGIT]</p>
<p>Пример:</p>
<p>bb=39.719_-74.52~41.71_-73.5</p></td>
<td align="left"><p>Прямоугольная область, определяющая ограничивающий прямоугольник, выраженный в градусах с десятичными знаками; при этом тильда (**~**) отделяет левый нижний угол от правого верхнего угла. Координаты широты и долготы разделяются символом подчеркивания (**_**).</p>
<p>Допустимые значения долготы: от -180 до +180 включительно.</p>
<p>Допустимые значения широты: от -90 до +90 включительно.</p><p>Параметры cp и lvl игнорируются, если указан ограничивающий прямоугольник.</p></td>
</tr>
<tr class="odd">
<td align="left"><p>**where**</p></td>
<td align="left"><p>Местоположение</p></td>
<td align="left"><p>where = "where=" whereval</p>
<p>whereval = 1*( ALPHA / DIGIT / "-" / "." / "_" / pct-encoded / "!" / "$" / "'" / "(" / ")" / "*" / "+" / "," / ";" / ":" / "@" / "/" / "?")</p>
<p>Пример:</p>
<p>where=1600%20Pennsylvania%20Ave,%20Washington,%20DC</p></td>
<td align="left"><p>Поисковый запрос определенного местоположения, ориентира или места.</p></td>
</tr>
<tr class="even">
<td align="left"><p>**q**</p></td>
<td align="left"><p>Условие запроса</p></td>
<td align="left"><p>q = "q="</p>
<p>whereval</p>
<p>Пример:</p>
<p>q=mexican%20restaurants</p></td>
<td align="left"><p>Условия поиска местной компании или категории компаний.</p></td>
</tr>
<tr class="odd">
<td align="left"><p>**lvl**</p></td>
<td align="left"><p>Масштаб</p></td>
<td align="left"><p>lvl = "lvl=" 1*2DIGIT ["." 1*2DIGIT]</p>
<p>Пример:</p>
<p>lvl=10.50</p></td>
<td align="left"><p>Определяет уровень масштаба представления карты. Допустимые значения: от 1 до 20, где 1 — максимальное уменьшение.</p></td>
</tr>
<tr class="even">
<td align="left"><p>**sty**</p></td>
<td align="left"><p>Стиль</p></td>
<td align="left"><p>sty = "sty=" ("a" / "r"/"3d")</p>
<p>Пример:</p>
<p>sty=a</p></td>
<td align="left"><p>Определяет стиль карты. Допустимые значения этого параметра приведены ниже.</p>
<ul>
<li>**a**: гибридный вид карты.</li>
<li>**r**: дорожное представление карты.</li>
<li>**3d**: трехмерное представление карты. Используйте в сочетании с параметром **cp** и, при необходимости, с параметром **rad**.</li>
</ul>
<p>В Windows 10 гибридное представление и трехмерное представление совпадают.</p>
<div class="alert">
**Примечание.** Если опустить параметр **sty**, будут получены те же результаты, что и при указании sty=r.
</div>
<div>
 
</div></td>
</tr>
<tr class="odd">
<td align="left"><p>**rad**</p></td>
<td align="left"><p>Радиус</p></td>
<td align="left"><p>rad = "rad=" 1*8DIGIT</p>
<p>Пример:</p>
<p>rad=1000</p></td>
<td align="left"><p>Круговая область, которая определяет нужное представление карты. Значение радиуса измеряется в метрах.</p></td>
</tr>
<tr class="even">
<td align="left"><p>**pit**</p></td>
<td align="left"><p>Уклон</p></td>
<td align="left"><p>pit = "pit=" уклон</p>
<p>Пример:</p>
<p>pit=60</p></td>
<td align="left"><p>Обозначает угол просмотра карты, где 90 смотрит на горизонт (максимум), а 0 — непосредственно вниз (минимум).</p><p>Допустимые значения угла: от 0 до 90 включительно.</td>
</tr>
<tr class="odd">
<td align="left"><p>**hdg**</p></td>
<td align="left"><p>Направление</p></td>
<td align="left"><p>hdg = "hdg=" heading</p>
<p>Пример:</p>
<p>hdg=180</p></td>
<td align="left"><p>Обозначает направление карты в градусах, где 0 или 360 — это север, 90 — восток, 180 — юг, а 270 — запад.</p></td>
</tr>
<tr class="even">
<td align="left"><p>**ss**</p></td>
<td align="left"><p>Streetside</p></td>
<td align="left"><p>ss = "ss=" BIT</p>
<p>Пример:</p>
<p>ss=1</p></td>
<td align="left"><p>Обозначает, что при <code>ss=1</code> отображается представление на уровне улиц. Если опустить параметр **ss**, будут получены те же результаты, что и при указании <code>ss=0</code>. Используйте совместно с параметром **cp**, чтобы указать местоположение представления на уровне улиц.</p>
<div class="alert">
> **Примечание.** Изображение на уровне улиц доступно не во всех регионах.
</div>
<div>
 
</div></td>
</tr>
<tr class="odd">
<td align="left"><p>**trfc**</p></td>
<td align="left"><p>Сведения о пробках</p></td>
<td align="left"><p>trfc = "trfc=" BIT</p>
<p>Пример:</p>
<p>trfc=1</p></td>
<td align="left"><p>Определяет, добавляются ли на карту данные о пробках. Если опустить параметр trfc, результаты будут аналогичны использованию <code>trfc=0</code>.</p>
<div class="alert">
> **Примечание.** Данные о пробках доступны не во всех регионах.
</div>
<div>
 
</div></td>
</tr>
<tr class="even">
<td align="left"><p>**rtp**</p></td>
<td align="left"><p>Маршрут</p></td>
<td align="left"><p>rtp = "rtp=" (waypoint "~" [waypoint]) / ("~" waypoint)</p>
<p>waypoint = ("pos." point ) / ("adr." whereval)</p>
<p>point = "point." pointval ["_" title]</p>
<p>pointval = degreeslat "" degreeslon</p>
<p>degreeslat = ["-"] 13DIGIT ["." 17DIGIT]</p>
<p>degreeslon = ["-"] 12DIGIT ["." 17DIGIT]</p>
<p>title = whereval</p>
<p>whereval = 1( ALPHA / DIGIT / "-" / "." / "_" / pct-encoded / "!" / "$" / "'" / "(" / ")" / "" / "+" / "," / ";" / ":" / "@" / "/" / "?")</p>


<p>Примеры:</p>
<p>rtp=adr.Mountain%20View,%20CA~adr.SFO</p>
<p>rtp=adr.One%20Microsoft%20Way,%20Redmond,%20WA~pos.45.23423_-122.1232 _My%20Picnic%20Spot</p></td>
<td align="left"><p>Указывает начало и конец маршрута, отображаемого на карте, разделенные тильдой (**~**). Каждый из пунктов определяется широтой и долготой, необязательным заголовком или идентификатором адреса.</p>
<p>Полный маршрут содержит ровно два пункта. Например, маршрут с двумя точками определяется <code>rtp="A"~"B"</code>.</p>
<p>Кроме того, можно определить неполный маршрут. Например, вы можете задать только начало маршрута с помощью <code>rtp="A"~</code> В этом случае отображается панель ввода маршрутов, в которой указанный пункт находится в поле **Из:**, а фокус находится в поле **Куда:**.</p>
<p>Если указан только конец маршрута, как в случае с <code>rtp=~"B"</code>, отображается панель маршрутов, в которой указанный пункт находится в поле **Куда**. Если доступно точное текущее местоположение, оно заполняется из поля **Из** с фокусом.</p>
<p>Неполный маршрут не рисуется на карте.</p>
<p>Используйте в сочетании с параметром **mode**, чтобы указать режим транспорта (на автомобиле, на общественном транспорте или пешеходный маршрут). Если **mode** не указан, маршруты будут доступны в пользовательском режиме выбора транспорта.</p>
<div class="alert">
**Примечание.** Для местоположения может использоваться заголовок, если оно указано в параметре **pos**. Вместо широты и долготы будет отображаться заголовок.
</div>
<div>
 
</div></td>
</tr>
<tr class="odd">
<td align="left"><p>**mode**</p></td>
<td align="left"><p>Режим транспорта</p></td>
<td align="left"><p>mode = "mode=" ("d" / "t" / "w")</p>
<p>Пример:</p>
<p>mode=d</p></td>
<td align="left"><p>Указывает режим транспорта. Допустимые значения этого параметра приведены ниже.</p>
<ul>
<li>**d**: обзор маршрута на автомобиле</li>
<li>**t**: обзор маршрута на общественном транспорте</li>
<li>**w**: обзор пешеходного маршрута</li>
</ul>
<p>Используйте совместно с параметром **rtp** для маршрута движения. Если **mode** не указан, маршруты будут доступны в пользовательском режиме выбора транспорта. Параметр **mode** может быть указан без параметра route, чтобы пользователь ввел маршрут для этого режима из текущего местоположения.</p></td>
</tr>

<tr class="even">
<td align="left"><p>**collection**</p></td>
<td align="left"><p>Коллекция</p></td>
<td align="left"><p>collection = "collection="(name"~"/)point["~"point]</p>
<p>name = "name." whereval </p>
<p>whereval = 1( ALPHA / DIGIT / "-" / "." / "_" / pct-encoded / "!" / "$" / "'" / "(" / ")" / "" / "+" / "," / ";" / ":" / "@" / "/" / "?") </p>
<p>point = "point." pointval ["_" title] </p>
<p>pointval = degreeslat "" degreeslon </p>
<p>degreeslat = ["-"] 13DIGIT ["." 17DIGIT] </p>
<p>degreeslon = ["-"] 12DIGIT ["." 17DIGIT] </p>
<p>title = whereval</p>


<p>Пример:</p>
<p>collection=name.My%20Trip%20Stops~point.36.116584_-115.176753_Las%20Vegas~point.37.8268_-122.4798_Golden%20Gate%20Bridge</p></td>
<td align="left"><p>Коллекция точек, добавляемых на карту и в список. Коллекции точек можно присвоить имя с помощью параметра name. Точка определяется с использованием широты, долготы и необязательного заголовка.</p>
<p>Отделяйте имя и несколько точек тильдами (**~**).</p>
<p>Если указанный элемент содержит тильду, она должна быть закодирована как <code>%7E</code>. Если параметры центральной точки и масштаба не используются, коллекция определяет наилучшее представление карты.</p>

<p>**Важно!** Если указанный элемент содержит символ подчеркивания, он должен быть закодирован как %255F.</p>

<p>Если указанный элемент содержит символ подчеркивания, он должен быть закодирован как %255F.</p></td>
</tr>
</tbody>
</table>

 

## Справка по параметру ms-drive-to:


URI для запуска запроса пошагового маршрута на автомобиле не требуется кодировать. URI указывается в следующем формате.

> **Примечание.** В этой схеме URI не указывается начальная точка. За начальную точку всегда берется текущее местоположение. Сведения о том, как определить начальную точку, отличающуюся от текущего местоположения, см. в разделе [Отображение маршрутов и сведений о пробках](#directions).

 

| Параметр | Определение | Пример | Сведения |
|------------|-----------|---------|---------|
| **destination.latitude** | Конечная широта | Пример: destination.latitude=47.6451413797194 | Широта точки назначения. Допустимые значения широты: от -90 до +90 включительно. |
| **destination.longitude** | Конечная долгота | Пример: destination.longitude=-122.141964733601 | Долгота точки назначения. Допустимые значения долготы: от -180 до +180 включительно. |
| **destination.name** | Имя точки назначения | Пример: destination.name=Redmond, WA | Имя точки назначения. URI или значение **destination.name** не нужно кодировать. |

 

## Справка по параметру ms-walk-to:


URI для запуска запроса пошагового пешего маршрута не требуется кодировать. URI указывается в следующем формате.

> **Примечание.** В этой схеме URI не указывается начальная точка. За начальную точку всегда берется текущее местоположение. Сведения о том, как определить начальную точку, отличающуюся от текущего местоположения, см. в разделе [Отображение маршрутов и сведений о пробках](#directions).

 

| Параметр | Определение | Пример | Сведения |
|-----------|------------|---------|----------|
| **destination.latitude** | Конечная широта | Пример: destination.latitude=47.6451413797194 | Широта точки назначения. Допустимые значения широты: от -90 до +90 включительно. |
| **destination.longitude** | Конечная долгота | Пример: destination.longitude=-122.141964733601 | Долгота точки назначения. Допустимые значения долготы: от -180 до +180 включительно. |
| **destination.name** | Имя точки назначения | Пример: destination.name=Redmond, WA | Имя точки назначения. URI или значение **destination.name** не нужно кодировать. |

 
## Справка по параметру ms-settings:


Синтаксис параметров приложения «Карты» для схемы URI **ms-settings:** описан ниже. Схема **maps-downloadmaps** задается вместе с URI **ms-settings:** в форме **ms-settings:maps-downloadmaps?**, чтобы обозначить страницу параметров автономных карт.

 

| Параметр | Определение | Пример | Сведения |
|-----------|------------|---------|----------|
| **latlong** | Точка, указывающая на регион автономной карты. | Пример: latlong=47.6,-122.3 | Геоточка определяется широтой и долготой, разделенными запятой. Допустимые значения широты: от -90 до +90 включительно. Допустимые значения долготы: от -180 до +180 включительно. |
 

 



<!--HONumber=Jun16_HO5-->


