---
author: PatrickFarley
title: Рекомендации для пользователя
description: В этом руководстве описываются рекомендации для создания и обновления действий пользователя.
keywords: активность пользователя, действия пользователя, временная шкала, кортана просмотр с места остановки, кортана продолжение работы, project rome
ms.author: pafarley
ms.date: 08/23/2018
ms.topic: article
ms.prod: windows
ms.technology: uwp
ms.localizationpriority: medium
ms.openlocfilehash: b11151df981a4b5ce233458581d21e405be9844c
ms.sourcegitcommit: 8e30651fd691378455ea1a57da10b2e4f50e66a0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/10/2018
ms.locfileid: "4505936"
---
# <a name="user-activities-best-practices"></a>Рекомендации для пользователя

В этом руководстве описываются рекомендации для создания и обновления действий пользователя. Общие сведения о функции действий пользователя в Windows см. в разделе [Продолжить активности пользователей даже на разных устройствах](https://docs.microsoft.com/windows/uwp/launch-resume/useractivities). Или, см. в [разделе действий пользователя](https://docs.microsoft.com/windows/project-rome/user-activities/) Project Rome для реализации операций на других платформах разработки.

## <a name="when-to-create-or-update-user-activities"></a>Если для создания и обновления действиями пользователя

Поскольку каждое приложение отличается, именно для каждого разработчика, чтобы определить лучший способ сопоставления действия в приложении на действия пользователя. На действия пользователей будут демонстрировать в Кортане и временной шкалы, на которых сосредоточены на производительность растет пользователей и повысить эффективность, помогая их возврата к содержимому, они посещений в прошлом.

**Общие рекомендации**

* **Запись действий для группы действий относительно пользователя.** Это особенно актуально для воспроизведения музыки и ТВ-передач: одно действие можно обновить интервалы для отображения хода выполнения пользователя. В этом случае вы получите одно действие пользователя с несколькими элементами журнал, представляющие периоды взаимодействия через несколько дней или недель. То же относится к действий на основе документа, на которых пользователь сделает постепенного хода выполнения в вашем приложении.
* **Сохранения данных пользователя в облаке.** Если вы хотите поддерживать действия использование на нескольких устройствах, необходимо убедиться, что содержимое, необходимо повторно включить это действие сохраняется для расположения в облаке. Действия для конкретного устройства будут отображаться на временной шкале на устройстве которой была создана операция, но может не отображаться на других устройствах.
* **Не создавайте действий для действий, которые пользователям не нужно будет возобновить.** Если приложение используется для выполнения простых, одноразовый операций, которые не сохранять состояние, возможно, не нужно создать действие пользователя.
* **Не создавайте действий для действия выполнены другими пользователями.** Если учетной записи внешних отправляет пользователю сообщение или @-mentions их в ваше приложение не должно создавать действие для этого. Этот тип действия лучше обслуживать уведомлений из центра уведомлений.
  * Сценарии совместной работы — это исключение: Если несколько пользователей работают на том же действие вместе (например, документа Microsoft Word), будут случаи, в которых другой внесенные пользователем изменения после пользователей. В этом случае необходимо обновить выполняемые действия, отражающая изменения, внесенные в документе. Это включает обновление существующих данных содержимого активности пользователей без создания нового элемента истории.

**Рекомендации для определенных типов приложений**

Во время каждого приложения отличается, большинство приложений делятся на следующие шаблоны взаимодействия.
* **Приложений на основе документа** — создать одно действие для документа, с помощью одного или нескольких элементов журнал, отражающее периоды использования. Очень важно для обновления действие по мере изменения, внесенные в документ.
* **Игры** — создать одно действие для каждого игры сохранить или мира. Если ваша игра поддерживает только один последовательность уровней, можно повторно опубликовать того же действия со временем, несмотря на то, что вам может потребоваться обновить содержимое данные для отображения последней хода выполнения или достижения.
* **Служебных** , если нет ничего, в приложении, которое пользователи должны выйти из и возобновления, не нужно использовать действий пользователя. Хороший пример — это простое приложение, например, калькулятор.
* **Бизнес - приложений** , многие приложения используются для управления простых задач и рабочие процессы. Создать одно действие для каждого отдельного процесса, доступ к которому осуществляется через ваше приложение (например, отчеты о расходах будет ли каждого отдельного действия, таким образом, чтобы пользователь может выберите действие на предмет Если определенный отчет был).
* **Приложений с воспроизведением мультимедиа** — создать одно действие для логическую группировку содержимого (например, список воспроизведения, программа или автономного содержимого). Основной вопрос для разработчиков приложений является ли каждая часть содержимого (просмотра ТВ, песни) считается отдельного содержимого или часть коллекции. Как правило если пользователь не отказался воспроизведение коллекции или последовательные содержимого коллекции в целом — это действие. Если они одного воспроизвести содержимое, что один фрагмента содержимого является действие. См. Подробные инструкции ниже.
  * **Музыки: альбоме или исполнителе или жанр** , если пользователь выбирает альбом, исполнителя или Жанр и попаданий, **Воспроизведение**, эту коллекцию является действием. Невозможно записать отдельного действия для каждого композиции. Короткие коллекций, например, один альбом или коллекции воспроизводится в случайном порядке не может потребоваться обновить действие для отражения текущего расположения пользователя. Длинные последовательные воспроизведения например альбоме или списка воспроизведения записи положение внутри альбома имеет смысл.
  * **Музыки: смарт-списки воспроизведения** — приложения, которые воспроизведение музыки в случайном порядке следует записывать одно действие для этого списка воспроизведения. Если пользователь воспроизводит списка воспроизведения во второй раз, необходимо создать дополнительные журнал записи для того же действия. Запись текущего расположения пользователя в списке воспроизведения не является обязательным, так как порядок случайных.
  * **Передач** — Если приложение настроено для воспроизведения Далее просмотра после завершения текущего, его нужно реализовать одно действие для ряда Телевизора. Как различные серии воспроизведения нескольких сеансах просмотра, необходимо обновить ваше действие для отражения текущей позиции в серии, и несколько записей журнала будет создан.
  * **Ролик** — фильма — это единый набор содержимого, а также должен быть собственный журнал записи. Если пользователь прекращает просмотр фильмов часть середине, желательно вести запись свое положение. Когда им нужно возобновить воспроизведение в будущем, возобновление фильма, на котором он остановился, или даже попросить пользователя, если они хотят возобновить или в начале.

## <a name="user-activity-design"></a>Проектирование действий пользователя

Действия пользователей состоят из трех компонентов: активации URI, визуальных данных и содержимого метаданных.
* Активация URI является URI, который можно передать в приложение или взаимодействия с, чтобы возобновить работу приложения в определенном контексте. Как правило эти ссылки принимать форму обработчика протокола для схемы (например, «my-app://page2?action=edit»). Это зависит от разработчика, чтобы определить, как параметры URI будет обрабатываться своего приложения. Дополнительные сведения см. [Обработка активации URI](https://docs.microsoft.com/windows/uwp/launch-resume/handle-uri-activation) .
* Visual данных, состоящий из набора свойств обязательные и необязательные (например: названия, описания или элементов адаптивной карты), позволяют пользователям визуально распознать действие. Ниже приведены рекомендации по созданию визуальных элементов адаптивной карты для действия.
* Метаданные содержимого — это JSON-данных, который может использоваться для группировки и получения действий в определенном контексте. Как правило, это принимает форму http://schema.org данных. Ниже приведены рекомендации для заполнения этих данных.

### <a name="adaptive-card-design-guidelines"></a>Руководство по адаптивной карты

Когда действия появляются на временной шкале, они отображаются с помощью [платформы адаптивной карты](https://docs.microsoft.com/adaptive-cards/). Если разработчик не предоставляете адаптивную карту для каждого действия, временная шкала автоматически создаст простой карты на основе имени или значок приложения, обязательное поле заголовка и необязательное поле Описание. 

Разработчики приложений, рекомендуется предоставить пользовательский карты, используя простой схемой адаптивных карт JSON. См. в [документации адаптивных карт](https://docs.microsoft.com/adaptive-cards/authoring-cards/getting-started) технические инструкции о том, как создавать объекты адаптивной карты. См. инструкции ниже для проектирования адаптивных карт на действия пользователя.
* Использование изображений
  * По возможности используйте уникальные изображения для каждого действия. Имя приложения и значок автоматически отображается рядом с карты действия; Дополнительные изображения поможет пользователям найти находили действия.
  * Изображения не следует включать текст, пользователь ожидается, что для чтения. Этот текст не будет доступно для пользователей с нарушениями подвижности и не удается выполнить поиск.
  * Если изображение не содержит текст и можно обрезать о соотношении 2:1, его следует использовать как фоновое изображение. Это приводит к карте полужирным шрифтом активность, которая будет выделяться на временной шкале. Изображение будет затемнены немного для обеспечения текст остается видимой на карте и рекомендуется для использования только имя действия в данном случае как меньше текст может быть трудно читать.
  * Если изображение не обрезается до 2:1, вы должны установить в карточке действий.  
    * Если пропорции квадратные или книжной, привязка изображения справа карты без полей.
    * Если пропорции альбомной, привязка изображения в правом верхнем углу карты.
* Каждое действие необходимо предоставить имя действия, которое всегда будет отображаться.
  * Это имя должно отображаться в верхний левый угол карты с помощью параметра больших полужирным шрифтом. Очень важно, что имя не легко узнаваемым, так как это только часть пользователи будут видеть, когда операция будет отображаться в сценариях с Кортаной. Отображение тем же именем на временной шкале упрощает пользователям просматривать большое количество действий.
* Используйте один и тот же стиль visual для всех действий из вашего приложения, таким образом, чтобы пользователи легко можно найти действия вашего приложения на временной шкале.
  * Например действия всех должен использоваться цвет фона.
* Используйте сведения текста слишком часто. 
  * Во избежание заполнения карты с текстом и использовать только дополнительная информация, которая помогает пользователям найти правильный действий или отражает сведений о состоянии (например, текущего хода выполнения в конкретной задачи).

### <a name="content-metadata-guidelines"></a>Рекомендации по содержимого метаданных

Действия пользователей могут также содержать содержимого метаданных, которое Windows и Кортана использовать для категоризации действий и создания вывод. Действия можно сгруппировать затем вокруг определенной теме, такие как расположение (если пользователь является исследование свободных), объект (если пользователь является исследование) или действие (если пользователь покупки для конкретного продукта, между различными приложениями и веб-сайты). Это хороший способ представления начинаются с прописных букв и команды, влияющие на действие. 

В следующем примере содержимое метаданных JSON, выполнив стандартов [Schema.org](https://schema.org/)представляет сценарий: «Иван воспроизводится Сердитая птиц с Стив.»

```json
// John played angry birds with Steve.
{
  "@context": "http://schema.org",
  "@type": "PlayAction",
  "agent": {
    "@type": "Person",
    "name": "John"
  },
  "object": {
    "@type": "MobileApplication",
    "name": "Angry Birds."
  },
  "participant": {
    "@type": "Person",
    "name": "Steve"
  }
}
```

## <a name="key-apis"></a>Основные API-интерфейсы

* [Пространство имен UserActivities](https://docs.microsoft.com/uwp/api/windows.applicationmodel.useractivities)

## <a name="related-topics"></a>Еще по теме

* [Действия пользователей (документы Project Rome)](https://docs.microsoft.com/windows/project-rome/user-activities/)
* [Адаптивные карты](https://docs.microsoft.com/adaptive-cards/)
* [Визуализатор адаптивных карт, примеры](http://adaptivecards.io/)
* [Обработка активации универсального кода ресурса (URI)](https://docs.microsoft.com/windows/uwp/launch-resume/handle-uri-activation)
* [Взаимодействие с пользователями на всех платформах с помощью Microsoft Graph, ленты действий и адаптивных карт](https://channel9.msdn.com/Events/Connect/2017/B111)
* [Microsoft Graph](https://developer.microsoft.com/graph/)
