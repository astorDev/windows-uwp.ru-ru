---
author: awkoren
Description: "Начало работы с Desktop Bridge и преобразование классического приложения для Windows (например, Win32, WPF и Windows Forms) в приложение универсальной платформы Windows (UWP)."
Search.Product: eADQiWindows 10XVcnh
title: "Перенос классического приложения на универсальную платформу Windows (UWP) с помощью моста для классических приложений"
ms.author: alkoren
ms.date: 02/08/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: windows 10, uwp
ms.assetid: 74373c24-f948-43bb-aa85-01e2e8e87162
translationtype: Human Translation
ms.sourcegitcommit: 5645eee3dc2ef67b5263b08800b0f96eb8a0a7da
ms.openlocfilehash: dd9f45b0ddcc201053ed8e35908da66443e47d72
ms.lasthandoff: 02/08/2017

---

# <a name="bring-your-desktop-app-to-the-universal-windows-platform-uwp-with-the-desktop-bridge"></a>Перенос классического приложения на универсальную платформу Windows (UWP) с помощью моста для классических приложений

Начало работы с Desktop Bridge и преобразование классического приложения для Windows в приложение универсальной платформы Windows (UWP).

"Мост" Desktop Bridge — это набор технологий, которые позволяют преобразовать классическое приложение для Windows (например, Win32, Windows Forms или WPF) или игру в приложение или игру для UWP. После преобразования классическое приложение для Windows упаковывается, обслуживается и развертывается в виде пакета приложения UWP (.appx или .appxbundle), предназначенного для классической версии Windows 10.

Преобразование классических приложений в пакеты UWP состоит из двух этапов. Первый — это процесс преобразования, в ходе которого имеющиеся двоичные файлы повторно упаковываются в качестве пакета UWP. Ваш код остается прежним, он просто по-другому упаковывается. На втором этапе используются технологии среды выполнения, содержащиеся в юбилейном обновлении Windows 10, которые позволяют исполняемым файлам пакета UWP выполняться в качестве файлов с полным доверием, а не в контейнере приложения. Этот механизм также присваивает преобразованному приложению идентифицирующие признаки пакета, что необходимо для использования некоторых API-интерфейсов UWP.

## <a name="benefits"></a>Преимущества

Ниже перечислены некоторые из преимуществ преобразования классического приложения для Windows: 

**Упрощенное развертывание**. Приложения и игры, использующие мост, очень легко развертываются, благодаря чему пользователи смогут без проблем устанавливать и обновлять их. Если пользователь принимает решение удалить приложение, приложение удаляется полностью, без каких-либо следов. Разработчику это позволяет сэкономить время на разработке процессов установки и обновления приложения.

**Автоматическое обновление и лицензирование**. Ваше приложение может взаимодействовать со встроенными средствами лицензирования и автоматического обновления Магазина Windows Автоматическое обновление — очень надежный и эффективный механизм, поскольку загружаются только измененные части файлов.

**Увеличение аудитории и упрощение монетизации**. Если вы выбрали Магазин Windows для распространения своих решений, вы автоматически получаете доступ к миллионам пользователей Windows 10, которые могут приобретать приложения и игры, а также совершать покупки из приложения с помощью локальных способов оплаты.

**Добавление возможностей UWP**.  Вы можете на свое усмотрение добавлять в пакет приложения возможности UWP, такие как пользовательский интерфейс на языке XAML, обновления живых плиток, фоновые задачи UWP, службы приложений и многое другое.

**Расширенные варианты использования на различных устройствах**. Используя мост, вы можете постепенно переносить свой код на универсальную платформу Windows, чтобы охватить все устройства с Windows 10, включая телефоны, Xbox One и HoloLens.

## <a name="prepare"></a>Подготовка

Desktop Bridge задумывался как удобное в использовании средство, поэтому подготовка приложения к процессу преобразования, как правило, не требует больших усилий. Есть, однако, некоторые оговорки и уникальные ситуации, о которых необходимо знать, прежде чем приступать к преобразованию. О том, какие возможны проблемы и как их устранить перед преобразованием, см. в статье [Подготовка приложения к преобразованию в приложение UWP с помощью Desktop Bridge](desktop-to-uwp-prepare.md).

## <a name="convert"></a>Преобразование

Существует несколько способов преобразования приложения.

**Desktop App Converter (DAC)**. Средство DAC автоматически преобразует и подписывает приложение за вас. Desktop App Converter (DAC) — удобное автоматическое средство, пользоваться которым имеет смысл, если ваше приложение вносит много изменений в систему и вы не знаете точно, что делает ваша программа установки. О том, как начать работу с DAC, см. в статье [Desktop App Converter](desktop-to-uwp-run-desktop-app-converter.md). 

**Ручное преобразование**. Если ваше приложение устанавливается с помощью команды xcopy или если вам известно, какие изменения программа установки вносит в систему, возможно, удобнее будет преобразовать его вручную. При этом создается файл манифеста и запускается средство MakeAppx.exe, после чего подписывается пакет приложения. Подробнее о том, как преобразовать приложение вручную, см. в статье [Ручное преобразование приложения в приложение UWP с помощью Desktop Bridge](desktop-to-uwp-manual-conversion.md). 

**Сторонний установщик**. Некоторые распространенные сторонние продукты и установщики теперь поддерживают Desktop Bridge и для создания с их помощью установщиков MSI или пакетов преобразованных приложений достаточно несколько щелчков мышью. Доступны следующие варианты: 

* [InstallShield от Flexera](http://www.flexerasoftware.com/producer/products/software-installation/installshield-software-installer)
* [WiX от FireGiant](https://www.firegiant.com/r/appx) 
* [Advanced Installer от Caphyon](http://www.advancedinstaller.com/uwp-app-package)
* [RAD Studio от Embarcadero](https://www.embarcadero.com/products/rad-studio/windows-10-store-desktop-bridge) 
* [InstallAware](https://www.installaware.com/appx.htm)

Дополнительные сведения см. на соответствующих веб-сайтах для каждого установщика. 

## <a name="enhance"></a>Усовершенствование приложения 

Преобразованное классическое приложение можно дополнительно усовершенствовать с помощью различных API UWP, добавив такие возможности, как живые плитки, push-уведомления и др. Полные примеры кода см. в следующих репозиториях на GitHub: [Примеры преобразования классических приложений в приложения UWP](https://github.com/Microsoft/DesktopBridgeToUWP-Samples) и [Примеры приложений для универсальной платформы Windows (UWP)](https://github.com/Microsoft/Windows-universal-samples). Полный список поддерживаемых API см. в статье [Поддерживаемые API UWP для приложений, преобразованных с помощью Desktop Bridge](desktop-to-uwp-supported-api.md). 

Помимо вызова API-интерфейсов UWP, вы можете расширить возможности своего приложения путем добавления функций, доступных только для преобразованных приложений. Возможны, например, такие сценарии, как запуск процесса при входе пользователя в систему и интеграция с проводником. Все это позволяет сделать переход от первоначального классического приложения к полноценному пакету приложения UWP более плавным. Подробнее см. в статье [Расширение возможностей приложений, преобразованных с помощью Desktop Bridge](desktop-to-uwp-extensions.md). 

## <a name="migrate"></a>Перенос

С помощью моста вы можете постепенно переносить свой старый код на UWP, в то же время сохраняя возможность запускать и публиковать свое приложение на настольных компьютерах под управлением Windows. После полного перехода на UWP (когда ваше приложение больше не будет содержать компонентов WPF/Win32) вы сможете распространять его для всех устройств с Windows, включая телефоны Xbox One и HoloLens.

## <a name="debug"></a>Отладка

Вы можете осуществлять отладку своего приложения с помощью Visual Studio. Подробные справочные сведения см. в статье [Отладка приложений, преобразованных с помощью Desktop Bridge](desktop-to-uwp-debug.md). 

Если вас интересует внутренний механизм работы Desktop Bridge, прочитайте статью [Как работает Desktop Bridge](desktop-to-uwp-behind-the-scenes.md). 

## <a name="distribute"></a>Распространение

Вы можете распространять свое приложение с помощью Магазина Windows или путем загрузки неопубликованного приложения. Подробнее см. в статье [Распространение приложений, преобразованных с помощью Desktop Bridge](desktop-to-uwp-distribute.md). Обратите внимание, что перед развертыванием приложения для пользователей понадобится его подписать. Пошаговые инструкции см. в статье [Подписывание приложения, преобразованного с помощью Desktop Bridge](desktop-to-uwp-signing.md). 

## <a name="support-and-feedback"></a>Поддержка и отзывы

Если у вас возникли проблемы при преобразовании приложения, вы можете получить помощь на [форумах](https://social.msdn.microsoft.com/Forums/windowsapps/en-US/home?forum=wpdevelop). 

Отправить свой отзыв или предложить новые возможности для реализации — либо проголосовать за уже предложенные — можно на [UserVoice](https://wpdev.uservoice.com/forums/110705-universal-windows-platform/category/161895-desktop-bridge-centennial). 

## <a name="in-this-section"></a>В этом разделе

| Статья | Описание |
|-------|-------------|
| [Desktop App Converter](desktop-to-uwp-run-desktop-app-converter.md) | Порядок запуска Desktop App Converter. |
| [Ручное преобразование приложения в приложение UWP с помощью Desktop Bridge](desktop-to-uwp-manual-conversion.md) | Создание пакета приложения и манифеста для него вручную. |
| [Расширение возможностей приложений, преобразованных с помощью Desktop Bridge](desktop-to-uwp-extensions.md) | Усовершенствование преобразованного приложения путем добавления таких возможностей, как задачи автозагрузки, интеграция с проводником и др. |
| [Поддерживаемые API UWP для приложений, преобразованных с помощью Desktop Bridge](desktop-to-uwp-supported-api.md) | Перечень API-интерфейсов UWP, доступных для использования в преобразованном классическом приложении. |
| [Руководство по упаковке классических приложений .NET с использованием моста для классических приложений с помощью Visual Studio](desktop-to-uwp-packaging-dot-net.md) | Настройте решение Visual Studio для изменения, отладки и упаковки приложения .NET. | 
| [Отладка приложений, преобразованных с помощью моста для классических приложений](desktop-to-uwp-debug.md) | Возможные варианты отладки преобразованного приложения. | 
| [Подписывание приложения, преобразованного с помощью Desktop Bridge](desktop-to-uwp-signing.md) | Порядок подписывания преобразованного пакета приложения с помощью сертификата. |
| [Распространение приложений, преобразованных с помощью Desktop Bridge](desktop-to-uwp-distribute.md) | Возможные варианты распространения преобразованного приложения для пользователей.  |
| [Как работает Desktop Bridge](desktop-to-uwp-behind-the-scenes.md) | Описание механизма работы Desktop Bridge при преобразовании классических приложений в приложения UWP. | 
| [Известные проблемы с Desktop Bridge](desktop-to-uwp-known-issues.md) | Перечень известных проблем, возникающих при преобразовании классических приложений в приложения UWP с помощью Desktop Bridge. | 
| [Примеры кода для преобразования классических приложений в приложения UWP](https://github.com/Microsoft/DesktopBridgeToUWP-Samples) | Примеры кода на GitHub, демонстрирующие возможности преобразованных приложений. |
