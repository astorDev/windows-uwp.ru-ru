---
Description: В этой статье приводятся рекомендации относительно специальных возможностей отображения текста в приложении, которые помогают обеспечить необходимый уровень контрастности между цветами текста и фона.
title: Требования к специальным возможностям отображения текста
ms.assetid: BA689C76-FE68-4B5B-9E8D-1E7697F737E6
label: Text requirements
template: detail.hbs
---

Требования к специальным возможностям отображения текста
=============================================================================================

\[ Обновлено для приложений UWP в Windows 10. Статьи о Windows 8.x см. в [архиве](http://go.microsoft.com/fwlink/p/?linkid=619132) \]


В этой статье приводятся рекомендации относительно специальных возможностей отображения текста в приложении, которые помогают обеспечить необходимый уровень контрастности между цветами текста и фона. Кроме того, в статье описываются роли модели автоматизации пользовательского интерфейса Майкрософт, которые могут быть присущи элементам текста в приложениях универсальной платформы Windows (UWP) на языках программирования C++, C# и Visual Basic, а также рекомендации относительно использования текста в графике.

<span id="contrast_rations"></span><span id="CONTRAST_RATIONS"></span>Коэффициенты контрастности
-------------------------------------------------------------------------------------

Хотя у пользователей всегда есть возможность переключиться в режим высокой контрастности, с точки зрения дизайна текста в вашем приложении её стоит рассматривать как крайний шаг. Имеет смысл удостовериться, что текст вашего приложения соответствует рекомендациям по уровню контрастности между текстом и фоном. Оценка уровня контрастности основана на детерминированных методах, которые не учитывают оттенок цвета. Например, если у вас имеется красный текст на зеленом фоне, то этот текст может оказаться нечитабельным для людей, страдающих дальтонизмом. Проверка и исправление коэффициента контрастности поможет избежать подобных проблем.

За основу приведенных здесь рекомендаций по контрастности текста взяты стандарты специальных возможностей в Интернете [G18: Ensuring that a contrast ratio of at least 4.5:1 exists between text (and images of text) and background behind the text](http://go.microsoft.com/fwlink/p/?linkid=221823). Данное руководство приведено в спецификации консорциума W3C *Методики для WCAG 2.0*.

Чтобы видимый текст соответствовал требованиям специальных возможностей, коэффициент его контрастности должен составлять не менее 4,5:1 по отношению к фону. В число исключений входят логотипы и несущественный текст, например текст, являющийся частью неактивного компонента пользовательского интерфейса.

Исключается также декоративный текст и текст, не несущий информации. Например, если для создания фона используются случайные слова, которые можно переставить или заменить без изменения смысла, эти слова считаются декоративными и могут не соответствовать этому критерию.

Проверьте допустимость контрастности видимого текста с помощью средств измерения цветового контраста. Сведения о средствах проверки коэффициента контрастности см. в разделе [Методики для WCAG 2.0 G18 (в разделе ресурсов)](http://www.w3.org/TR/WCAG20-TECHS/G18.html#G18-resources).

**Примечание** Некоторые средства, перечисленные в методиках для WCAG 2.0 G18, невозможно интерактивно использовать с приложениями UWP. Вам может понадобиться вручную ввести значения цвета фона и переднего плана в средство или же сделать снимки экрана для пользовательского интерфейса вашего приложения и применить к ним средство измерения коэффициента контрастности.

 

<span id="Text_element_roles"></span><span id="text_element_roles"></span><span id="TEXT_ELEMENT_ROLES"></span>Роли текстового элемента
---------------------------------------------------------------------------------------------------------------------------------

Приложение UWP может использовать следующие элементы по умолчанию (обычно они называются *текстовыми элементами* или *элементами управления Textedit*):

-   [**TextBlock**](https://msdn.microsoft.com/library/windows/apps/BR209652): роль — [**Текст**](https://msdn.microsoft.com/library/windows/apps/BR209182)
-   [**TextBox**](https://msdn.microsoft.com/library/windows/apps/BR209683): роль — [**Правка**](https://msdn.microsoft.com/library/windows/apps/BR209182)
-   [**RichTextBlock**](https://msdn.microsoft.com/library/windows/apps/BR227565) (и класс переполнения [**RichTextBlockOverflow**](https://msdn.microsoft.com/library/windows/apps/BR227565overflow)): роль — [**Текст**](https://msdn.microsoft.com/library/windows/apps/BR209182)
-   [**RichEditBox**](https://msdn.microsoft.com/library/windows/apps/BR227548): роль — [**Правка**](https://msdn.microsoft.com/library/windows/apps/BR209182)

Когда элемент управления сообщает, что имеет роль [**Правка**](https://msdn.microsoft.com/library/windows/apps/BR209182), специальные возможности предполагают наличие у пользователей способов изменения этих значений. Поэтому если вы поместите статический текст в элемент [**TextBox**](https://msdn.microsoft.com/library/windows/apps/BR209683), вы неправильно сообщите пользователю специальных возможностей о роли (а значит, и о структуре) вашего приложения.

В текстовых моделях XAML существует два элемента, которые в основном используются для статического текста: [**TextBlock**](https://msdn.microsoft.com/library/windows/apps/BR209652) и [**RichTextBlock**](https://msdn.microsoft.com/library/windows/apps/BR227565). Ни один из них не относится к подклассу [**Control**](https://msdn.microsoft.com/library/windows/apps/BR209390), и поэтому они не поддерживают перемещение фокуса с помощью клавиатуры и не могут отображаться в последовательности табуляции. Но это не означает, что специальные возможности не могут их считывать. Средства чтения с экрана обычно рассчитаны на поддержку нескольких режимов чтения содержимого в приложении, включая специальный режим чтения или шаблоны навигации, которые не работают с фокусом и последовательностью табуляции, например "виртуальный курсор". Поэтому не стоит размещать статический текст в контейнерах с поддержкой фокуса только затем, чтобы пользователь мог попадать в них с помощью последовательности табуляции. Пользователи специальных возможностей ожидают, что со всеми элементами в последовательности табуляции можно взаимодействовать, и если они столкнутся со статическим текстом, это скорее запутает их, чем поможет. Вы должны самостоятельно провести тестирование с помощью экранного диктора, чтобы оценить взаимодействие пользователя с приложением при использовании средства чтения с экрана для проверки статического текста приложения.

<span id="Text_in_graphics"></span><span id="text_in_graphics"></span><span id="TEXT_IN_GRAPHICS"></span>Текст в графике
-------------------------------------------------------------------------------------------------------------------------

По возможности избегайте включения текста в графику. Например, любой текст, помещаемый в файл источника изображения, который воспроизводится в приложении в качестве элемента [**Image**](https://msdn.microsoft.com/library/windows/apps/BR242752), не является автоматически доступным (или доступным для чтения) для специальных возможностей. Если обязательно использовать текст в графике, убедитесь, что значение [**AutomationProperties.Name**](https://msdn.microsoft.com/library/windows/apps/Hh759770), которое вы предоставляете как эквивалент замещающему тексту, содержит нужный текст или краткую сводку о смысле текста. Те же принципы актуальны при создании текстовых символов из векторов как часть [**пути**](https://msdn.microsoft.com/library/windows/apps/BR243355) или с использованием [**глифов**](https://msdn.microsoft.com/library/windows/apps/BR209921).

<span id="Text_font_size"></span><span id="text_font_size"></span><span id="TEXT_FONT_SIZE"></span>Размер шрифта
-----------------------------------------------------------------------------------------------------------------

У большинства читателей сложности при чтении текста в приложении возникают просто потому, что размер шрифта в тексте слишком мал. Эту проблему можно решить простым увеличением размера шрифта в элементах пользовательского интерфейса. Кроме того, в Windows существуют специальные возможности, с помощью которых пользователи могут изменять размеры представления приложений или размер отображения вообще.

-   Один из параметров специальных возможностей позволяет пользователям изменять значение количества точек на дюйм на основном дисплее. Этот параметр доступен в разделе **Увеличение изображений на экране** страницы **Специальные возможности**, который перенаправляет вас в пользовательский интерфейс **панели управления** в раздел **Оформление и персонализация** > **Экран**. Набор доступных вариантов размера может быть разным, так как он зависит от возможностей устройства отображения.
-   Экранная лупа позволяет увеличивать выбранную область пользовательского интерфейса, но ее трудно использовать для чтения текста.

<span id="Text_scale_factor"></span><span id="text_scale_factor"></span><span id="TEXT_SCALE_FACTOR"></span>Коэффициент масштабирования текста
-----------------------------------------------------------------------------------------------------------------------------

Разные текстовые элементы и элементы управления имеют свойство [**IsTextScaleFactorEnabled**](https://msdn.microsoft.com/library/windows/apps/BR209652_istextscalefactorenabled). По умолчанию оно имеет значение **true**. Если значение свойства — **true**, настройка **Масштабирование текста** на телефоне (в разделе **Параметры &gt; Специальные возможности**) позволяет увеличить размер текста в этом элементе. Масштабирование применяется к тексту с малым значением **FontSize** в большей степени, чем к тексту с большим значением **FontSize**. Чтобы отключить автоматическое увеличение шрифта, присвойте свойству **IsTextScaleFactorEnabled** элемента значение **false**. Попробуйте эту разметку, измените параметр телефона **Размер текста** и посмотрите, как изменятся элементы **TextBlock**.

<span codelanguage=""></span>
<table>
<colgroup>
<col width="100%" />
</colgroup>
<tbody>
<tr class="odd">
<td align="left"><pre><code>&lt;TextBlock Text=&quot;In this case, IsTextScaleFactorEnabled has been left set to its default value of true.&quot; 
    Style=&quot;{StaticResource BodyTextBlockStyle}&quot;/&gt;

&lt;TextBlock Text=&quot;В данном случае параметр IsTextScaleFactorEnabled имеет значение false.&quot; 
    Style=&quot;{StaticResource BodyTextBlockStyle}&quot; IsTextScaleFactorEnabled=&quot;False&quot;/&gt;</code></pre></td>
</tr>
</tbody>
</table>

Не рекомендуется постоянно отключать автоматическое увеличение, поскольку универсальное масштабирование текста пользовательского интерфейса во всех приложениях является важной специальной возможностью для пользователей и они будут ожидать, что оно будет работать и в вашем приложении.

Можно также воспользоваться событием [**TextScaleFactorChanged**](https://msdn.microsoft.com/library/windows/apps/Dn633867) и свойством [**TextScaleFactor**](https://msdn.microsoft.com/library/windows/apps/Dn633866), чтобы узнать об изменениях настройки **размер шрифта** на телефоне. Вот как это сделать.

<span codelanguage=""></span>
<table>
<colgroup>
<col width="100%" />
</colgroup>
<tbody>
<tr class="odd">
<td align="left"><pre><code>{
    ...
    var uiSettings = new Windows.UI.ViewManagement.UISettings();
    uiSettings.TextScaleFactorChanged += UISettings_TextScaleFactorChanged;
    ...
}

private async void UISettings_TextScaleFactorChanged(Windows.UI.ViewManagement.UISettings sender, object args)
{
    var messageDialog = new Windows.UI.Popups.MessageDialog(string.Format(&quot;It&#39;s now {0}&quot;, sender.TextScaleFactor), &quot;Коэффициент масштабирования текста изменился&quot;);
    await messageDialog.ShowAsync();
}</code></pre></td>
</tr>
</tbody>
</table>

Значение параметра **TextScaleFactor** имеет тип double в диапазоне \[1,2\]. Самый маленький текст масштабируется по этому значению. С помощью этого значения можно, например, масштабировать графику в соответствии с текстом. Однако помните, что не весь текст масштабируется с одинаковым коэффициентом. В целом чем больше текст, тем меньше он подвергается масштабированию.

Данные типы имеют свойство **IsTextScaleFactorEnabled**:

-   [**ContentPresenter**](https://msdn.microsoft.com/library/windows/apps/BR209378)
-   [**Control**](https://msdn.microsoft.com/library/windows/apps/BR209390) и производные классы
-   [**FontIcon**](https://msdn.microsoft.com/library/windows/apps/Dn279514)
-   [**RichTextBlock**](https://msdn.microsoft.com/library/windows/apps/BR227565)
-   [**TextBlock**](https://msdn.microsoft.com/library/windows/apps/BR209652)
-   [**TextElement**](https://msdn.microsoft.com/library/windows/apps/BR209967) и производные классы

<span id="related_topics">
            </span>Связанные разделы
-----------------------------------------------

* [Специальные возможности](accessibility.md)
* [Основные сведения о специальных возможностях](basic-accessibility-information.md)
* [Пример отображения текста XAML](http://go.microsoft.com/fwlink/p/?linkid=238579)
* [Образец редактирования текста XAML](http://go.microsoft.com/fwlink/p/?linkid=251417)
* [Пример реализации специальных возможностей в XAML](http://go.microsoft.com/fwlink/p/?linkid=238570)
 

 





<!--HONumber=Mar16_HO3-->


