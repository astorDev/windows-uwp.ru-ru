---
author: Xansky
Description: В этом разделе описываются шаги, которые необходимо предпринять, чтобы ваше приложение универсальной платформы Windows (UWP) можно было использовать, когда активна тема с высокой контрастностью.
ms.assetid: FD7CA6F6-A8F1-47D8-AA6C-3F2EC3168C45
title: Темы с высокой контрастностью
label: High-contrast themes
template: detail.hbs
---

# Темы с высокой контрастностью  



В этом разделе описываются шаги, которые необходимо предпринять, чтобы ваше приложение универсальной платформы Windows (UWP) можно было использовать, когда активна тема с высокой контрастностью.

В приложении UWP темы с высокой контрастностью поддерживаются по умолчанию. Если пользователь выбрал тему с высокой контрастностью в системных параметрах или в средствах специальных возможностей, платформа автоматически использует настройки цветов и стиля, обеспечивающие высокую контрастность макета, элементов управления и компонентов в пользовательском интерфейсе.

Такая поддержка по умолчанию основана на использовании шаблонов и тем по умолчанию. Эти темы и шаблоны ссылаются в определениях ресурсов на системные цвета. Когда система использует режим высокой контрастности, источники ресурсов изменяются автоматически. Если же вы используете для элементов управления другие шаблоны, темы и стили, будьте внимательны: не отключайте встроенную поддержку высокой контрастности. Если для создания стиля вы используете один из конструкторов XAML для Microsoft Visual Studio, то вместе с основной темой конструктор будет создавать отдельную тему с высокой контрастностью каждый раз, когда вы определите шаблон, который значительно отличается от шаблона по умолчанию. Отдельные словари тем переходят в коллекцию [**ThemeDictionaries**](https://msdn.microsoft.com/library/windows/apps/BR208807), специальное свойство элемента [**ResourceDictionary**](https://msdn.microsoft.com/library/windows/apps/BR208794).

Дополнительные сведения о темах и шаблонах элементов управления см. в статье [Краткое руководство: шаблоны элементов управления](https://msdn.microsoft.com/library/windows/apps/xaml/Hh465374). Зачастую полезно ознакомиться со словарями ресурсов XAML и темами для конкретных элементов управления и узнать, как строятся темы и как они ссылаются на ресурсы, которые в целом похожи, но все же различаются для каждой возможной настройки высокой контрастности.

<span id="Detecting_when_a_high-contrast_theme_is_enabled"/>
<span id="detecting_when_a_high-contrast_theme_is_enabled"/>
<span id="DETECTING_WHEN_A_HIGH-CONTRAST_THEME_IS_ENABLED"/>
## Обнаружение включения темы с высокой контрастностью  
Приложение UWP может использовать члены класса [**AccessibilitySettings**](https://msdn.microsoft.com/library/windows/apps/BR242237), чтобы определить текущие параметры тем с высокой контрастностью. Свойство [**HighContrast**](https://msdn.microsoft.com/library/windows/apps/BR242237_highcontrast) определяет, установлена ли в данный момент тема с высокой контрастностью. Если свойство **HighContrast** имеет значение **true**, то нужно проверить значение свойства [**HighContrastScheme**](https://msdn.microsoft.com/library/windows/apps/BR242237_highcontrastscheme), чтобы получить имя используемой высококонтрастной темы. Типичные значения **HighContrastScheme**, на которые должен реагировать ваш код, — "High Contrast White" (Контрастная белая) и "High Contrast Black" (Контрастная черная). Определяемые в XAML ключи [**ResourceDictionary**](https://msdn.microsoft.com/library/windows/apps/BR208794) не могут содержать пробелов. Поэтому ключи этих тем в словаре ресурсов обычно имеют вид "HighContrastWhite" и "HighContrastBlack" соответственно. Следует также предусмотреть логику перехода для темы с высокой контрастностью по умолчанию на случай, если значение задается другой строкой. Такую логику демонстрирует [пример XAML с высокой контрастностью](http://go.microsoft.com/fwlink/p/?linkid=254993).

> [!NOTE] Убедитесь, что конструктор [**AccessibilitySettings**](https://msdn.microsoft.com/library/windows/apps/BR242237) вызывается из области, в которой приложение инициализировано и уже отображает содержимое.

Приложения могут переключаться на значения ресурсов для высокой контрастности во время выполнения. Это работает, если ресурсы запрашиваются при помощи [расширения разметки {ThemeResource}](https://msdn.microsoft.com/library/windows/apps/Mt185591) в коде XAML стиля или шаблона. Такой прием с расширением разметки {ThemeResource} действует для всех тем по умолчанию (generic.xaml). Благодаря этому при использовании тем элементов управления по умолчанию можно переходить на высокую контрастность во время работы приложения. Если применить такой же прием с ресурсами расширения разметки {ThemeResource} в пользовательских шаблонах и стилях, эта возможность будет доступна также для пользовательских элементов управления и их стилей.

<span id="related_topics"/>
## Связанные разделы  
* [Специальные возможности](accessibility.md)
* [Пример контрастности и параметров пользовательского интерфейса](http://go.microsoft.com/fwlink/p/?linkid=231539)
* [Пример XAML accessibility](http://go.microsoft.com/fwlink/p/?linkid=238570)
* [Пример XAML с высокой контрастностью](http://go.microsoft.com/fwlink/p/?linkid=254993)
* [**AccessibilitySettings**](https://msdn.microsoft.com/library/windows/apps/BR242237)


<!--HONumber=May16_HO2-->


