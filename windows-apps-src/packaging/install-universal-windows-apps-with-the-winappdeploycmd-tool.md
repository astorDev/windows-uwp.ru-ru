---
ms.assetid: 6AA037C0-35ED-4B9C-80A3-5E144D7EE94B
title: Установка приложений с помощью средства WinAppDeployCmd.exe
description: Windows Application Deployment (WinAppDeployCmd.exe) — это программа командной строки, которая используется для развертывания приложения универсальной платформы Windows (UWP) с компьютера с Windows 10 на любом устройстве Windows 10.
ms.date: 09/30/2018
ms.topic: article
keywords: windows 10, uwp
ms.localizationpriority: medium
ms.openlocfilehash: d6c8383a5b0041d5edf6e0c2c8d94acf82572d13
ms.sourcegitcommit: 76e8b4fb3f76cc162aab80982a441bfc18507fb4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/29/2020
ms.locfileid: "70808448"
---
# <a name="install-apps-with-the-winappdeploycmdexe-tool"></a>Установка приложений с помощью средства WinAppDeployCmd.exe

Windows Application Deployment (WinAppDeployCmd.exe) — это программа командной строки, которая используется для развертывания приложения универсальной платформы Windows (UWP) с компьютера с Windows 10 на любом устройстве Windows 10. Этот инструмент можно использовать для развертывания пакета приложения, если устройство Windows 10 подключено через USB или доступно в той же подсети, без необходимости использования Microsoft Visual Studio или отдельного решения для данного приложения. Вы также можете развернуть приложение без его предварительной упаковки на удаленном компьютере или консоли Xbox One. В этой статье описывается, как устанавливать приложения UWP с помощью этого средства.

Чтобы запустить инструмент WinAppDeployCmd из командной строки или файла сценария, нужен лишь установленный пакет SDK для Windows 10. При установке приложения с помощью WinAppDeployCmd.exe для загрузки неопубликованного приложения на устройство Windows 10 используется APPX- или MSIX-файл (для свободных файлов). Эта команда не устанавливает сертификат, необходимый вашему приложению. Для запуска приложения устройство Windows 10 должно находиться в режиме разработчика или на нем уже должен быть установлен сертификат.

Для развертывания на мобильных устройствах необходимо сначала создать пакет. Дополнительные сведения см. [здесь](/windows/msix/package/packaging-uwp-apps).

Инструмент **WinAppDeployCmd.exe** расположен здесь на компьютере с Windows 10: **C:\\Program Files (x86)\\Windows Kits\\10\\bin\\&lt;версия пакета SDK&gt;\\x86\\WinAppDeployCmd.exe** (в зависимости от пути установки пакета SDK).

> [!NOTE]
> Пакет SDK версии 15063 и более поздних версий устанавливается рядом с папками для соответствующей версии. Предыдущие пакеты SDK (включая 14393 и более ранние) записываются непосредственно в родительскую папку.

Сначала подключите устройство Windows 10 к той же подсети или непосредственно к компьютеру с Windows 10 через USB. Затем используйте следующий синтаксис и примеры данной команды, описанные далее в этой статье, чтобы выполнить развертывание приложения UWP.

## <a name="winappdeploycmd-syntax-and-options"></a>Синтаксис и параметры WinAppDeployCmd

Вот общий синтаксис, используемый для **WinAppDeployCmd.exe**:

```CMD
WinAppDeployCmd command -option <argument>
```

Ниже приведено несколько дополнительных примеров синтаксиса для использования различных команд.

```CMD
WinAppDeployCmd devices
WinAppDeployCmd devices <x>
WinAppDeployCmd install -file <path> -ip <address>
WinAppDeployCmd install -file <path> -guid <address> -pin <p>
WinAppDeployCmd install -file <path> -ip <address> -dependency <a> <b> 
WinAppDeployCmd install -file <path> -guid <address> -dependency <a> <b>
WinAppDeployCmd uninstall -file <path>
WinAppDeployCmd uninstall -package <name>
WinAppDeployCmd update -file <path>
WinAppDeployCmd list -ip <address>
WinAppDeployCmd list -guid <address>
WinAppDeployCmd deployfiles -file <path> -remotedeploydir <remoterelativepath> -ip <address>
WinAppDeployCmd registerfiles -remotedeploydir <remoterelativepath> -ip <address>
WinAppDeployCmd addcreds -credserver <server> -credusername <username> -credpassword <password> -ip <address>
WinAppDeployCmd getcreds -credserver <server> -ip <address>
WinAppDeployCmd deletecreds -credserver <server> -ip <address>
```

Можно установить или удалить приложение с целевого устройства, а также обновить уже установленное приложение. Для хранения данных или параметров, сохраненных уже установленным приложением, используйте параметры **обновления** вместо параметров **установки**.

В следующей таблице описаны команды для **WinAppDeployCmd.exe**.

| **Команда**  | **Описание**                                                     |
|--------------|---------------------------------------------------------------------|
| устройств      | Показать список доступных сетевых устройств.                         |
| установка      | Установить пакет приложения UWP на целевое устройство.                     |
| обновление       | Обновить приложение UWP, которое уже установлено на целевом устройстве.    |
| list         | Отобразить список приложений UWP, установленных на выбранное целевое устройство. |
| uninstall    | Удалить указанный пакет приложения с целевого устройства.         |
| deployfiles  | Скопировать свободное приложение в каталоге назначения в папку по удаленному относительному пути на устройстве.|
| registerfiles| Зарегистрировать бесплатное приложение в удаленном каталоге развертывания.         |
| addcreds     | Добавить учетные данные в Xbox, чтобы разрешить доступ к сетевому расположению для регистрации приложения.|
| getcreds     | Получить сетевые учетные данные для целевого использования при запуске приложения из сетевой папки.|
| deletecreds  | Удалить сетевые учетные данные для целевого использования при запуске приложения из сетевой папки.|

В следующей таблице описаны параметры для **WinAppDeployCmd.exe**.

| **Команда**  | **Описание**  |
|--------------|------------------|
| -h (-help)       | Отображение команд, параметров и аргументов. |
| -ip              | IP-адрес целевого устройства. |
| -g (-guid)       | Уникальный идентификатор целевого устройства.|
| -d (-dependency) | (Необязательно) Указание пути зависимости для каждой зависимости пакета. Если путь не указан, средство выполняет поиск зависимостей в корневом каталоге для пакета приложения и каталогов SDK.|
| -f (-file)       | Путь к файлу для пакета приложения, которое следует установить, обновить или удалить.|
| -p (-package)    | Полное имя пакета для пакета приложения, который нужно удалить. (Можно использовать команду list, чтобы найти полные имена пакетов, уже установленных на устройстве). |
| -pin             | PIN-код, если он необходим для установления подключения с целевым устройством. (Вам будет предложено повторить попытку с параметром -pin, если требуется аутентификация.) |
| -credserver      | Имя сервера сетевых учетных данных для использования по назначению. |
| -credusername    | Имя пользователя в сетевых учетных данных для использования по назначению. |
| -credpassword    | Пароль в сетевых учетных данных для использования по назначению. |
| -connecttimeout  | Время ожидания в секундах при подключении к устройству. |
| -remotedeploydir | Относительный путь и имя каталога для копирования файлов на удаленном устройстве. Это должна быть хорошо известная, автоматически определяемая папка для удаленного развертывания. |
| -deleteextrafile | Указывает, следует ли очистить существующие файлы в удаленном каталоге для соответствия исходному каталогу. |

В следующей таблице описаны параметры для **WinAppDeployCmd.exe**.

| **Аргумент**           | **Описание**                                                              |
|------------------------|------------------------------------------------------------------------------|
| &lt;x&gt;              | Время ожидания в секундах. (По умолчанию равно 10)                                          |
| &lt;address&gt;        | IP-адрес или уникальный идентификатор целевого устройства.                        |
| &lt;a&gt;&lt;b&gt;… | Путь зависимости для каждой зависимости пакета приложения.                    |
| &lt;p&gt;              | Буквенно-цифровой PIN-код для установки подключения, отображаемый в параметрах устройства. |
| &lt;path&gt;           | Путь к файловой системе.                                                            |
| &lt;name&gt;           | Полное имя пакета для пакета приложения, который нужно удалить.                          |
| &lt;server&gt;         | Сервер в файловой сети.                                                  |
| &lt;username&gt;       | Пользователь в учетных данных с доступом к серверу файловой сети.      |
| &lt;password&gt;       | Пароль в учетных данных с доступом к серверу в файловой сети. |
| &lt;remotedeploydir&gt;| Каталог на устройстве по отношению к месту развертывания.                      |

## <a name="winappdeploycmdexe-examples"></a>Примеры WinAppDeployCmd.exe

Здесь приведено несколько примеров развертывания с помощью командной строки с использованием синтаксиса для **WinAppDeployCmd.exe**.

Показывает устройства, которые доступны для развертывания. Время ожидания команды равно 3 секундам.

``` CMD
WinAppDeployCmd devices 3
```

Устанавливает приложение из пакета MyApp.appx, который находится в папке компьютера "Загрузки", на устройство Windows 10 с IP-адресом 192.168.0.1 и PIN-кодом A1B2C3 для установки соединения с устройством.

``` CMD
WinAppDeployCmd install -file "Downloads\MyApp.appx" -ip 192.168.0.1 -pin A1B2C3
```

Удаляет указанный пакет (в зависимости от его полного имени) из устройства Windows 10 с IP-адресом 192.168.0.1. Можно использовать команду списка, чтобы увидеть полные имена всех пакетов, установленных на устройстве.

``` CMD
WinAppDeployCmd uninstall -package Company.MyApp_1.0.0.1_x64__qwertyuiop -ip 192.168.0.1
```

Обновляет приложение, которое уже установлено на устройстве Windows 10 и IP-адресом 192.168.0.1, с помощью указанного пакета приложения.

``` CMD
WinAppDeployCmd update -file "Downloads\MyApp.appx" -ip 192.168.0.1
```

Развертывает файлы приложения на компьютере или Xbox с IP-адресом 192.168.0.1 в той же папке, что и AppxManifest, в каталог app1_F5 по пути развертывания на устройстве.

``` CMD
WinAppDeployCmd deployfiles -file "C:\apps\App1\AppxManifest.xml" -remotedeploydir app1_F5 -ip 192.168.0.1
```

Регистрирует приложение в каталоге app1_F5 по пути развертывания на компьютере или Xbox по адресу 192.168.0.1.

``` CMD
WinAppDeployCmd registerfiles -file app1_F5 -ip 192.168.0.1
```

## <a name="using-winappdeploycmd-to-set-up-run-from-pc-deployment-on-xbox-one"></a>Использование WinAppDeployCmd для настройки развертывания на Xbox One с запуском с компьютера

Запуск с компьютера позволяет развертывать приложения UWP для Xbox One без копирования двоичных файлов; вместо этого двоичные файлы размещаются в сетевой папке в той же сети, что и Xbox.  Для этого требуется устройство Xbox One с включенным режимом разработчика и приложение UWP со свободной сборкой на сетевом диске, доступном для Xbox.

Чтобы зарегистрировать приложение, выполните следующую команду:

``` CMD
WinAppDeployCmd registerfiles -ip <Xbox One IP> -remotedeploydir <location of app> -username <user for network> -password <password for user>

ex. WinAppDeployCmd register files -ip 192.168.0.1 -remotedeploydir \\driveA\myAppLocation -username admin -password A1B2C3
```
