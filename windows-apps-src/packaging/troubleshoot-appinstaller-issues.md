---
author: ridomin
title: Диагностика и устранение проблем с установкой в файле установщика приложений
description: Распространенные проблемы при загрузке неопубликованных приложений с помощью файла установщика приложений.
ms.author: rmpablos
ms.date: 5/2/2018
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: windows 10, uwp, установщик приложений, AppInstaller, загрузка неопубликованного приложения
ms.localizationpriority: medium
ms.openlocfilehash: e94eb0e819796dda456899bb877057e4532f5ce9
ms.sourcegitcommit: d10fb9eb5f75f2d10e1c543a177402b50fe4019e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/12/2018
ms.locfileid: "4567328"
---
# <a name="troubleshoot-installation-issues-with-the-app-installer-file"></a>Диагностика и устранение проблем с установкой в файле установщика приложений

При возникновении любых проблем с установкой приложения из файла установщика приложения воспользуйтесь советами по диагностике и устранению неполадок из этого раздела.

## <a name="prerequisites"></a>Что вам понадобится

Чтобы иметь возможность загрузки неопубликованных приложений в Windows 10, устройство пользователя должно удовлетворять следующим требованиям:

- На устройстве необходимо включить режим разработчика или загрузку неопубликованных приложений. Подробнее об этом см. в разделе [Включение устройства для разработки](https://docs.microsoft.com/windows/uwp/get-started/enable-your-device-for-development).
- Сертификат, используемый для подписи пакета, должен быть доверенным сертификатом на устройстве. См. дополнительные сведения в разделе **Доверенные сертификаты** ниже.
- Версия Windows 10 должна поддерживать схему файла `.appinstaller` и протокол распространения.

## <a name="common-issues"></a>Общие проблемы

Существуют некоторые распространенные проблемы при первой загрузке неопубликованного приложения на машине пользователя. В следующих разделах описаны наиболее распространенные проблемы и их решения.

### <a name="windows-version"></a>Версия Windows

В каждом выпуске Windows 10 повышается удобство загрузки неопубликованных приложений, и в таблице ниже указано, какие функции доступны в каждом основном выпуске. Если вы попытаетесь загрузить неопубликованное приложение, используя метод, который не поддерживается в вашей версии Windows 10, возникнет ошибка развертывания.

| Версия | Примечания о загрузке неопубликованных приложений |
|---------|----------------|
| Сборка 17134 (обновление за апрель 2018г., версия 1804)    | Файл `.appinstaller` также доступен в папках UNC и общих папках. Также доступны настраиваемые проверки обновлений. |
| Сборка 16299 (Fall Creators Update, версия 1709) | Впервые представлен файл `.appinstaller`, отвечающий за автоматические обновления приложения. Эта версия поддерживает только конечные точки HTTP. Проверки обновлений не настраиваются и происходят каждые 24 часа. |
| Сборка 15063 (Creators Update, версия 1703)      | Установщик приложений может скачивать зависимости приложений (только в режиме выпуска) из Store. |
| Сборка 14393 (Юбилейное обновление, версия 1607)   | Представлено приложение "Установщик приложений" для установки файлов .appx и .appxbundle, файл .appinstaller не поддерживается. |
| Сборка 10586 (ноябрьское обновление, версия 1511)      | Загрузка неопубликованных приложений доступна только через PowerShell с использованием команды [Add-AppxPackage](https://docs.microsoft.com/powershell/module/appx/add-appxpackage?view=win10-ps). |
| Сборка 10240 (Windows 10, версия 1507)           | Загрузка неопубликованных приложений доступна только через PowerShell с использованием команды [Add-AppxPackage](https://docs.microsoft.com/powershell/module/appx/add-appxpackage?view=win10-ps). |

### <a name="trusted-certificates"></a>Доверенные сертификаты

Пакет приложения должен быть подписан сертификатом, которому доверяет устройство. Сертификаты, предоставляемые распространенными центрами сертификации, по умолчанию являются доверенными в операционной системе Windows, однако если сертификат не является доверенным, его необходимо установить на устройстве **до** установки приложения. Чтобы сделать сертификат доверенным, он должен присутствовать в одном из следующих хранилищ сертификатов локального компьютера на вашем устройстве:

- Доверенные издатели
- Доверенные лица
- Доверенные корневые центры (не рекомендуется)

 >[!IMPORTANT]
 > Установка сертификата в хранилище локального компьютера требует административного доступа.

### <a name="dependencies-not-installed"></a>Зависимости, которые не устанавливаются 

Приложения UWP могут иметь зависимости платформы на основе платформы приложений, используемой для создания приложения. Если вы используете C# или Visual Basic, приложение потребует среду выполнения .NET и пакеты .NET Framework. Приложения C++ требуют VCLib.

>[!IMPORTANT] 
> Если пакет приложения создан в конфигурации режима выпуска, зависимости платформы будут взяты из Microsoft Store. Однако если приложение создано в конфигурации режима отладки, зависимости будут получены из местоположения, указанного в файле `.appinstaller`.

### <a name="files-not-accessible"></a>Файл не доступен

При установке из конечной точки HTTP необходимо убедиться, что все файлы доступны с правильным типом MIME. Самый простой способ проверить эти файлы— пройти по ссылкам на странице HTML, созданной Visual Studio. Необходимо проверить эти файлы:

- `.appinstaller` , доступный как `application/xml`
- `.appx` и файлы `.appxbundle`, доступные как `application/vns.ms-appx`

## <a name="isolate-app-installer-app-issues"></a>Изоляция проблем установщика приложений

Если установщик приложений не может установить приложение, эти шаги помогут определить проблему с установкой.

### <a name="verify-app-package-file-installation"></a>Проверьте установку файла пакета приложения

- Загрузите файл пакета приложения в локальную папку и попробуйте установить его с помощью команды [Add-AppxPackage](https://docs.microsoft.com/powershell/module/appx/add-appxpackage?view=win10-ps) PowerShell.

- Скачайте файл `.appinstaller` и сохраните его в локальную папку. Попробуйте установить его с помощью команды PowerShell `Add-AppxPackage -Appinstaller`.

## <a name="related-logs"></a>Связанные журналы

Инфраструктура развертывания приложений предоставляет журналы для отладки в средстве просмотра событий Windows. Эти журналы можно найти здесь: `Application and Services Logs->Microsoft->Windows->AppxDeployment-Server`



