---
author: laurenhughes
title: Пакеты приложений на основе плоских пакетов
description: Описывает создание плоского пакета, связывающего файлы пакета .appx вашего приложения со ссылками на пакеты приложений.
ms.author: lahugh
ms.date: 04/30/2018
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: windows 10, упаковка, конфигурация пакета, плоский пакет
ms.localizationpriority: medium
ms.openlocfilehash: 757f95a5f46bad6dbe650b4b552f3de486d84e1b
ms.sourcegitcommit: 91511d2d1dc8ab74b566aaeab3ef2139e7ed4945
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/30/2018
ms.locfileid: "1818513"
---
# <a name="flat-bundle-app-packages"></a>Пакеты приложений на основе плоских пакетов 

> [!IMPORTANT]
> Если вы планируете отправить приложение в Store, необходимо обратиться в [службу поддержки разработчиков Windows](https://developer.microsoft.com/windows/support) и получить разрешение на использование плоских пакетов.

Плоские пакеты— усовершенствованный способ объединения в пакет файлов пакета .APPX вашего приложения. Стандартный файл .appxbundle использует многоуровневую структуру упаковки, в которой файлы пакета .APPX должны содержаться в пакете. Плоские пакеты избавляют от этой необходимости, поскольку только ссылаются на файлы пакета .appx, что позволяет последним находиться за пределами пакета приложения. Поскольку файлы пакета .appx больше не находятся в наборе, их можно обрабатывать параллельно. Соответственно, сокращается продолжительность передачи, публикации (поскольку все файлы пакета .appx можно обрабатывать одновременно) и, в конечном счете, циклов разработки.

![Схема плоского пакета](images/bundle-combined.png)

Еще одним преимуществом плоских пакетов является потребность в создании меньшего числа пакетов. Поскольку на файлы пакета .appx создается только ссылка, две версии приложения могут ссылаться на один и тот же файл пакета, если пакет не менялся в этих двух версиях. Это позволяет при создании пакетов для следующей версии вашего приложения создавать только изменившиеся пакеты приложений.
По умолчанию плоские пакеты будут ссылаться на файлы пакетов .appx в той же папке, в которой находятся они сами. Однако эту ссылку можно изменить, указав другие пути (относительные пути, сетевые папки и расположения http). Для этого необходимо напрямую указать **BundleManifest** при создании плоского пакета. 

## <a name="how-to-create-a-flat-bundle"></a>Как создать плоский пакет

Плоский пакет можно создать с помощью инструмента MakeAppx.exe или с помощью макета упаковки, чтобы определить структуру пакета.

### <a name="using-makeappxexe"></a>Использование MakeAppx.exe
Для создания плоского пакета с помощью MakeAppx.exe воспользуйтесь командой "Пакет MakeAppx.exe" как обычно, но с оператором /fb, чтобы создать плоский файл .appxbundle (который будет очень маленьким, поскольку ссылается только на пакеты .appx и не содержит никакой полезной нагрузки). 

Ниже приводится пример синтаксиса команды:

```syntax
MakeAppx bundle [options] /d <content directory> /fb <output flat bundle name>
```

Дополнительные сведения об использовании MakeAppx.exe см. в разделе [Создание пакета приложения с помощью инструмента MakeAppx.exe](https://docs.microsoft.com/windows/uwp/packaging/create-app-package-with-makeappx-tool).

### <a name="using-packaging-layout"></a>Использование макета упаковки
Кроме того, создать плоский пакет можно с помощью макета упаковки. Для этого задайте для атрибута **FlatBundle** значение **true** в элементе **PackageFamily** Манифеста пакета приложения. Чтобы узнать больше о макете упаковки, см. раздел [Создание пакета с использованием макета упаковки](packaging-layout.md).

## <a name="how-to-deploy-a-flat-bundle"></a>Развертывание плоского пакета 
Прежде чем развертывать плоский пакет, необходимо подписать каждый пакет приложения (в дополнение к пакету приложений) с помощью одного и того же сертификата. Это происходит потому, что все файлы пакета приложения (.appx) теперь являются независимыми файлами и не хранятся в файле пакета приложений (.appxbundle). Подписав пакеты, воспользуйтесь [командлетом Add-AppxPackage](https://docs.microsoft.com/powershell/module/appx/add-appxpackage?view=win10-ps) в PowerShell, чтобы указать на файл .appxbundle и развернуть приложение (допуская, что пакеты приложений находятся там, где ожидает их пакет приложений). 