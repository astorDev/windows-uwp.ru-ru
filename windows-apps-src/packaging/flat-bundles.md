---
author: laurenhughes
title: Пакеты приложений на основе плоских пакетов
description: Описывает создание плоского пакета, связывающего файлы пакета .appx вашего приложения со ссылками на пакеты приложений.
ms.author: lahugh
ms.date: 09/30/2018
ms.topic: article
keywords: windows 10, упаковка, конфигурация пакета, плоский пакет
ms.localizationpriority: medium
ms.openlocfilehash: b877996dd5fa32ac764fb587092f501320931527
ms.sourcegitcommit: e814a13978f33654d8e995584f4b047cb53e0aef
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/05/2018
ms.locfileid: "6044441"
---
# <a name="flat-bundle-app-packages"></a>Пакеты приложений на основе плоских пакетов 

> [!IMPORTANT]
> Если вы планируете отправить приложение в Store, необходимо обратиться в [службу поддержки разработчиков Windows](https://developer.microsoft.com/windows/support) и получить разрешение на использование плоских пакетов.

Плоские пакеты — усовершенствованный способ объединения в пакет файлов пакета вашего приложения. Типичные Windows, файл пакета приложения использует многоуровневую структуру упаковки в которой файлы пакета приложения должны содержаться в пакете, плоские пакеты удалить эту потребность, поскольку только ссылаются на файлы пакета приложения, что позволяет им находиться за пределами пакета приложения. Поскольку файлы пакета приложения больше не находятся в наборе, их можно обрабатывать параллельно, что приводит к передачи время публикации (поскольку каждый файл пакета приложения можно обрабатывать одновременно) и в конечном счете разработки итераций.

![Схема плоского пакета](images/bundle-combined.png)

Еще одним преимуществом плоских пакетов является потребность в создании меньшего числа пакетов. Поскольку файлы пакета приложения только ссылка, две версии приложения могут ссылаться один и тот же файл пакета, если пакет не менялся в этих двух версиях. Это позволяет при создании пакетов для следующей версии вашего приложения создавать только изменившиеся пакеты приложений.
По умолчанию плоские пакеты будут ссылаться на файлы пакета приложения в той же папке, что и сам. Однако эту ссылку можно изменить, указав другие пути (относительные пути, сетевые папки и расположения http). Для этого необходимо напрямую указать **BundleManifest** при создании плоского пакета. 

## <a name="how-to-create-a-flat-bundle"></a>Как создать плоский пакет

Плоский пакет можно создать с помощью инструмента MakeAppx.exe или с помощью макета упаковки, чтобы определить структуру пакета.

### <a name="using-makeappxexe"></a>Использование MakeAppx.exe
Чтобы создать плоский пакет с помощью MakeAppx.exe, используйте командой «Пакет MakeAppx.exe» как обычно, но с параметром /fb для создания файла пакета плоский приложения (который будет очень маленьким, поскольку ссылается только файлы пакета приложения и не содержит никакой ). 

Ниже приводится пример синтаксиса команды:

```syntax
MakeAppx bundle [options] /d <content directory> /fb <output flat bundle name>
```

Дополнительные сведения об использовании MakeAppx.exe см. в разделе [Создание пакета приложения с помощью инструмента MakeAppx.exe](https://docs.microsoft.com/windows/uwp/packaging/create-app-package-with-makeappx-tool).

### <a name="using-packaging-layout"></a>Использование макета упаковки
Кроме того, создать плоский пакет можно с помощью макета упаковки. Для этого задайте для атрибута **FlatBundle** значение **true** в элементе **PackageFamily** Манифеста пакета приложения. Чтобы узнать больше о макете упаковки, см. раздел [Создание пакета с использованием макета упаковки](packaging-layout.md).

## <a name="how-to-deploy-a-flat-bundle"></a>Развертывание плоского пакета 
Прежде чем развертывать плоский пакет, необходимо подписать каждый пакет приложения (в дополнение к пакету приложений) с помощью одного и того же сертификата. Это связано с все файлы пакета приложения (.appx/.msix) теперь являются независимыми файлами и больше не хранятся в файле пакета приложений (.appxbundle/.msixbundle) приложения. Подписав пакеты, используйте [командлет Add-AppxPackage](https://docs.microsoft.com/powershell/module/appx/add-appxpackage?view=win10-ps) в PowerShell для указания файле пакета приложений и развернуть приложение (при условии, что пакеты приложений находятся, где ожидает их пакет приложений будет). 